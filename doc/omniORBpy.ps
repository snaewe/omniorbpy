%!PS-Adobe-2.0
%%Creator: dvips(k) 5.92b Copyright 2002 Radical Eye Software
%%Title: omniORBpy.dvi
%%Pages: 73
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Palatino-Roman Palatino-Italic Helvetica-Oblique
%%+ Palatino-Bold CMSY10 Helvetica Courier Courier-Oblique
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips omniORBpy
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2006.04.28:1821
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% File  8r.enc as of 2002-03-12 for PSNFSS 9
%
% This is the encoding vector for Type1 and TrueType fonts to be used
% with TeX.  This file is part of the PSNFSS bundle, version 9
% 
% Authors: S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry, W. Schmidt
%
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida + Euro.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
%
% (6) /Euro is assigned to 128, as in Windows ANSI
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /Euro /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: bbad153f.enc
% Thomas Esser, Dec 2002. public domain
%
% Encoding for:
%     cmsy10 cmsy5 cmsy6 cmsy7 cmsy8 cmsy9
%
/TeXbbad153fEncoding [
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /circlemultiply
/circledivide /circledot /circlecopyrt /openbullet /bullet
/equivasymptotic /equivalence /reflexsubset /reflexsuperset /lessequal
/greaterequal /precedesequal /followsequal /similar /approxequal
/propersubset /propersuperset /lessmuch /greatermuch /precedes /follows
/arrowleft /arrowright /arrowup /arrowdown /arrowboth /arrownortheast
/arrowsoutheast /similarequal /arrowdblleft /arrowdblright /arrowdblup
/arrowdbldown /arrowdblboth /arrownorthwest /arrowsouthwest /proportional
/prime /infinity /element /owner /triangle /triangleinv /negationslash
/mapsto /universal /existential /logicalnot /emptyset /Rfractur /Ifractur
/latticetop /perpendicular /aleph /A /B /C /D /E /F /G /H /I /J /K
/L /M /N /O /P /Q /R /S /T /U /V /W /X /Y /Z /union /intersection
/unionmulti /logicaland /logicalor /turnstileleft /turnstileright
/floorleft /floorright /ceilingleft /ceilingright /braceleft /braceright
/angbracketleft /angbracketright /bar /bardbl /arrowbothv /arrowdblbothv
/backslash /wreathproduct /radical /coproduct /nabla /integral
/unionsq /intersectionsq /subsetsqequal /supersetsqequal /section
/dagger /daggerdbl /paragraph /club /diamond /heart /spade /arrowleft
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/minus /periodcentered /multiply /asteriskmath /divide /diamondmath
/plusminus /minusplus /circleplus /circleminus /.notdef /.notdef
/circlemultiply /circledivide /circledot /circlecopyrt /openbullet
/bullet /equivasymptotic /equivalence /reflexsubset /reflexsuperset
/lessequal /greaterequal /precedesequal /followsequal /similar
/approxequal /propersubset /propersuperset /lessmuch /greatermuch
/precedes /follows /arrowleft /spade /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]FontType 0
ne{/Metrics exch def dict begin Encoding{exch dup type/integertype ne{
pop pop 1 sub dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get
div def}ifelse}forall Metrics/Metrics currentdict end def}{{1 index type
/nametype eq{exit}if exch pop}loop}ifelse[2 index currentdict end
definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{dup
sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1 roll
mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def dup[
exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}if}
forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}def
end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/setpagedevice{pop}N/copypage{}N/p 3 def
@MacSetUp}N/doclip{psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll
newpath 4 copy 4 2 roll moveto 6 -1 roll S lineto S lineto S lineto
closepath clip newpath moveto}N/endTexFig{end psf$SavedState restore}N
/@beginspecial{SDict begin/SpecialSave save N gsave normalscale
currentpoint TR @SpecialDefaults count/ocount X/dcount countdictstack N}
N/@setspecial{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs
neg 0 rlineto closepath clip}if ho vo TR hsc vsc scale ang rotate
rwiSeen{rwi urx llx sub div rhiSeen{rhi ury lly sub div}{dup}ifelse
scale llx neg lly neg TR}{rhiSeen{rhi ury lly sub div dup scale llx neg
lly neg TR}if}ifelse CLIP 2 eq{newpath llx lly moveto urx lly lineto urx
ury lineto llx ury lineto closepath clip}if/showpage{}N/erasepage{}N
/setpagedevice{pop}N/copypage{}N newpath}N/@endspecial{count ocount sub{
pop}repeat countdictstack dcount sub{end}repeat grestore SpecialSave
restore end}N/@defspecial{SDict begin}N/@fedspecial{end}B/li{lineto}B
/rl{rlineto}B/rc{rcurveto}B/np{/SaveX currentpoint/SaveY X N 1
setlinecap newpath}N/st{stroke SaveX SaveY moveto}N/fil{fill SaveX SaveY
moveto}N/ellipse{/endangle X/startangle X/yrad X/xrad X/savematrix
matrix currentmatrix N TR xrad yrad scale 0 0 1 startangle endangle arc
savematrix setmatrix}N end

%%EndProcSet
TeXDict begin @defspecial

 /DvipsToPDF { 72.27 mul Resolution div } def /PDFToDvips { 72.27 div
Resolution mul } def /HyperBorder { 1 PDFToDvips } def /H.V {pdf@hoff
pdf@voff null} def /H.B {/Rect[pdf@llx pdf@lly pdf@urx pdf@ury]} def
/H.S { currentpoint HyperBorder add /pdf@lly exch def dup DvipsToPDF
/pdf@hoff exch def HyperBorder sub /pdf@llx exch def } def /H.L { 2
sub dup /HyperBasePt exch def PDFToDvips /HyperBaseDvips exch def currentpoint
HyperBaseDvips sub /pdf@ury exch def /pdf@urx exch def } def /H.A {
H.L currentpoint exch pop vsize 72 sub exch DvipsToPDF HyperBasePt
sub sub /pdf@voff exch def } def /H.R { currentpoint HyperBorder sub
/pdf@ury exch def HyperBorder add /pdf@urx exch def currentpoint exch
pop vsize 72 sub exch DvipsToPDF sub /pdf@voff exch def } def systemdict
/pdfmark known not {userdict /pdfmark systemdict /cleartomark get put}
if
 
@fedspecial end
%%BeginFont: CMSY10
%!PS-AdobeFont-1.1: CMSY10 1.0
%%CreationDate: 1991 Aug 15 07:20:57
% Copyright (C) 1997 American Mathematical Society. All Rights Reserved.
11 dict begin
/FontInfo 7 dict dup begin
/version (1.0) readonly def
/Notice (Copyright (C) 1997 American Mathematical Society. All Rights Reserved) readonly def
/FullName (CMSY10) readonly def
/FamilyName (Computer Modern) readonly def
/Weight (Medium) readonly def
/ItalicAngle -14.035 def
/isFixedPitch false def
end readonly def
/FontName /CMSY10 def
/PaintType 0 def
/FontType 1 def
/FontMatrix [0.001 0 0 0.001 0 0] readonly def
/Encoding 256 array
0 1 255 {1 index exch /.notdef put} for
dup 0 /.notdef put
readonly def
/FontBBox{-29 -960 1116 775}readonly def
/UniqueID 5000820 def
currentdict end
currentfile eexec
D9D66F633B846A97B686A97E45A3D0AA052F09F9C8ADE9D907C058B87E9B6964
7D53359E51216774A4EAA1E2B58EC3176BD1184A633B951372B4198D4E8C5EF4
A213ACB58AA0A658908035BF2ED8531779838A960DFE2B27EA49C37156989C85
E21B3ABF72E39A89232CD9F4237FC80C9E64E8425AA3BEF7DED60B122A52922A
221A37D9A807DD01161779DDE7D31FF2B87F97C73D63EECDDA4C49501773468A
27D1663E0B62F461F6E40A5D6676D1D12B51E641C1D4E8E2771864FC104F8CBF
5B78EC1D88228725F1C453A678F58A7E1B7BD7CA700717D288EB8DA1F57C4F09
0ABF1D42C5DDD0C384C7E22F8F8047BE1D4C1CC8E33368FB1AC82B4E96146730
DE3302B2E6B819CB6AE455B1AF3187FFE8071AA57EF8A6616B9CB7941D44EC7A
71A7BB3DF755178D7D2E4BB69859EFA4BBC30BD6BB1531133FD4D9438FF99F09
4ECC068A324D75B5F696B8688EEB2F17E5ED34CCD6D047A4E3806D000C199D7C
515DB70A8D4F6146FE068DC1E5DE8BC5703711DA090312BA3FC00A08C453C609
C627A8BECD6E1FA14A3B02476E90AAD8B4700C400380BC9AFFBF7847EB28661B
9DC3AA0F44C533F2E07DCC4DE19D367BF223E33DC321D0247A0E6EF6ABC8FA52
15AE044094EF678A8726CD7C011F02BFF8AB6EAEEE391AD837120823BED0B5D8
F8B15245377871A64F78378BB4330149D6941F7A86FBFFC49B93C94155F5FA7D
F22E7214511C0A92693F4CDBF38411651540572F2DD70D924AE0F18E1CD581F3
C871399127FF5D07A868885B5FF7CDEB50B8323B2533DEF8DC973B1AE84FA0A2

0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
cleartomark
%%EndFont 
TeXDict begin 39158280 55380996 1000 600 600 (omniORBpy.dvi)
@start /Fa 144[55 55 8[55 101[{ TeXBase1Encoding ReEncodeFont }3
90.9091 /Courier-Oblique rf /Fb 135[45 45 45 1[45 45
45 1[45 45 45 4[45 2[45 45 3[45 1[45 10[45 45 45 3[45
4[45 3[45 45 2[45 23[45 45 40[{ TeXBase1Encoding ReEncodeFont }24
74.7198 /Courier rf /Fc 11[41 122[42 39 62 42 45 24 32
30 42 45 41 43 66 22 42 17 22 43 42 25 36 46 33 41 37
21 2[25 1[25 5[58 46 39 50 1[45 59 62 71 3[25 1[57 3[53
46 58 7[37 37 1[37 1[37 37 37 37 37 45 19 25 19 4[21
5[21 30[45 2[{ TeXBase1Encoding ReEncodeFont }57 74.7198
/Palatino-Roman rf /Fd 202[25 25 25 25 25 49[{
 TeXBase1Encoding ReEncodeFont }5 49.8132 /Palatino-Roman
rf /Fe 202[33 33 33 33 33 49[{ TeXBase1Encoding ReEncodeFont }5
66.4176 /Palatino-Roman rf /Ff 130[50 1[50 1[50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 1[50 1[50 3[50 50 50 50 50 50 1[50
50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 2[50 50 1[50
50 4[50 50 50 50 50 50 50 50 50 50 1[50 50 50 50 1[50
1[50 50 34[{ TeXBase1Encoding ReEncodeFont }73 83.022
/Courier rf /Fg 134[50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 1[50 11[50
50 1[50 50 50 50 3[50 3[50 50 50 50 50 2[50 1[50 1[50
10[50 50 1[50 50 1[50 50 4[50 50 50 33[{ TeXBase1Encoding ReEncodeFont }
50 83.022 /Courier-Oblique rf /Fh 131[55 1[55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 55 1[55 1[55 55 55 55 55 55 55 55 55 55 55 55
55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
2[55 1[55 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
1[55 55 55 2[55 55 55 55 34[{ TeXBase1Encoding ReEncodeFont }82
90.9091 /Courier rf /Fi 134[45 1[66 1[51 25 45 30 1[51
51 51 76 20 2[20 51 51 25 51 51 45 51 51 1[51 31[51 4[25
1[51 51 4[51 51 51 25 25 30 7[81 37[{ TeXBase1Encoding ReEncodeFont }32
90.9091 /Helvetica rf /Fj 104[91 55[45 5[61 61 1[66 71
56 48 61 1[55 71 76 86 56 66 30 31 76 69 51 56 70 64
56 71 7[45 45 45 45 45 45 45 45 45 45 1[23 30 1[55 43[{
 .167 SlantFont TeXBase1Encoding ReEncodeFont }38 90.9091
/Palatino-Roman rf /Fk 134[55 50 83 55 61 33 44 39 1[61
55 61 89 33 61 33 33 61 55 39 50 61 44 61 50 1[50 7[100
1[78 66 61 72 1[61 83 83 100 61 2[39 2[55 61 83 72 66
78 6[25 2[50 50 50 50 50 50 50 2[25 33 42[61 2[{
 TeXBase1Encoding ReEncodeFont }53 99.6264 /Palatino-Bold
rf /Fl 139[57 1[67 1[105 7[105 2[86 3[86 29[124 9[86
86 86 86 86 86 86 86 86 86 48[{ TeXBase1Encoding ReEncodeFont }17
172.188 /Palatino-Bold rf /Fm 105[45 28[51 45 76 51 56
30 40 35 1[56 51 56 81 30 56 30 30 56 51 35 45 56 40
56 45 9[91 2[61 56 66 1[56 76 76 91 56 2[35 2[51 1[76
66 61 71 2[55 1[55 2[45 45 45 45 45 45 45 45 45 45 1[23
30 23 10[25 30[56 2[{ TeXBase1Encoding ReEncodeFont }57
90.9091 /Palatino-Bold rf /Fn 134[115 2[115 126 69 92
80 1[126 115 126 184 69 1[69 69 126 115 1[103 126 92
126 103 12[138 126 149 1[126 172 172 207 126 2[80 4[172
149 138 161 62[126 2[{ TeXBase1Encoding ReEncodeFont }34
206.559 /Palatino-Bold rf /Fo 240[45 15[{
 TeXbbad153fEncoding ReEncodeFont }1 90.9091 /CMSY10
rf /Fp 104[120 29[66 60 100 66 73 40 53 47 1[73 66 73
106 40 73 40 40 73 66 47 60 73 53 73 60 1[60 8[93 93
80 73 86 1[73 100 100 120 73 1[47 47 100 100 66 73 100
86 80 93 7[60 60 60 60 60 60 60 60 60 60 1[30 40 30 72
40[73 2[{ TeXBase1Encoding ReEncodeFont }61 119.552 /Palatino-Bold
rf /Fq 134[45 5[45 30 1[51 51 1[76 3[20 51 51 1[51 51
45 51 51 32[92 17[25 46[{ TeXBase1Encoding ReEncodeFont }16
90.9091 /Helvetica-Oblique rf /Fr 133[40 45 45 66 45
51 30 35 35 42 45 40 51 71 25 40 25 25 45 45 25 35 45
37 42 40 3[30 1[30 5[71 56 51 61 1[56 71 71 86 51 2[30
1[66 3[61 56 66 2[55 1[55 1[23 5[45 45 45 45 2[23 30
1[55 1[30 30 37[48 2[{ TeXBase1Encoding ReEncodeFont }55
90.9091 /Palatino-Italic rf /Fs 104[91 2[45 45 24[45
51 47 76 51 55 30 39 36 51 55 50 53 80 26 51 21 26 53
51 30 44 56 40 50 45 25 45 1[30 1[30 61 61 1[91 66 71
56 48 61 1[55 71 76 86 56 66 30 31 76 69 51 56 70 64
56 71 2[55 55 55 23 23 45 45 45 45 45 45 45 45 45 45
55 23 30 23 55 1[30 30 25 1[76 1[45 1[25 29[55 55 2[{
 TeXBase1Encoding ReEncodeFont }85 90.9091 /Palatino-Roman
rf /Ft 134[66 3[72 39 51 47 1[72 1[70 4[35 70 2[57 73
53 66 60 20[73 4[91 2[93 2[93 18[30 46[{ TeXBase1Encoding ReEncodeFont }
19 119.552 /Palatino-Roman rf /Fu 134[115 2[117 125 1[88
82 1[124 113 120 182 3[60 120 2[99 126 14[161 127 1[138
2[162 7[158 4[126 14[103 11[57 39[{ TeXBase1Encoding ReEncodeFont }21
206.559 /Palatino-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize
 end
%%EndSetup
%%Page: 1 1
TeXDict begin 1 0 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 496 597 a Fu(The)51
b(omniORBpy)i(version)d(3)1077 907 y(User)15 b('s)51
b(Guide)1306 1979 y Ft(Duncan)28 b(Grisby)1047 2128 y
Fs(\()p Fr(email:)i Fq(dg)o(r)q(isb)n(y@apasphere)o(.com)r
Fs(\))1296 2390 y Ft(Apaspher)n(e)g(Ltd.)1498 4346 y
Fs(April)23 b(2006)p eop end
%%Page: 2 2
TeXDict begin 2 1 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 362 539 a Fp(Changes)31
b(and)e(Additions,)h(June)g(2005)358 726 y Fo(\017)45
b Fs(New)22 b(omniORBpy)g(3)h(featur)n(es.)362 914 y
Fp(Changes)31 b(and)e(Additions,)h(July)g(2004)358 1101
y Fo(\017)45 b Fs(Minor)23 b(updates.)362 1402 y Fp(Changes)31
b(and)e(Additions,)h(November)g(2002)358 1590 y Fo(\017)45
b Fs(Per)23 b(thr)n(ead)f(timeouts.)358 1777 y Fo(\017)45
b Fs(Minor)23 b(\002xes.)362 2078 y Fp(Changes)31 b(and)e(Additions,)h
(August)h(2002)358 2265 y Fo(\017)45 b Fs(Updated)21
b(to)h(omniORBpy)g(2.)p eop end
%%Page: 3 3
TeXDict begin 3 2 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1207 a Fn(Contents)63
1752 y Fm(1)91 b(Introduction)2581 b(1)199 1870 y Fs(1.1)96
b(Featur)n(es)85 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)129 b(1)408 1988 y(1.1.1)110 b(Multithr)n(eading)67
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129 b(1)408 2107
y(1.1.2)110 b(Portability)52 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)129 b(2)408 2225 y(1.1.3)110 b(Missing)22
b(featur)n(es)87 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(2)199 2343 y(1.2)96 b(Setting)21 b(up)h(your)g(envir)n(onment)79
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)129 b(2)408 2461 y(1.2.1)110
b(Paths)51 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)129 b(2)408 2580 y(1.2.2)110 b(Con\002guration)22
b(\002le)35 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129 b(3)63
2792 y Fm(2)91 b(The)22 b(Basics)2667 b(5)199 2911 y
Fs(2.1)96 b(The)22 b(Echo)g(example)31 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)129 b(5)199 3029 y(2.2)96 b(Generating)22
b(the)g(Python)f(stubs)29 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(6)199 3147 y(2.3)96 b(Object)23 b(Refer)n(ences)e(and)i(Servants)58
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)129 b(6)199 3265 y(2.4)96 b(Example)23
b(1)g(\227)f(Colocated)h(client)g(and)g(servant)89 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(6)408 3384 y(2.4.1)110 b(Imports)88 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)129 b(7)408 3502 y(2.4.2)110
b(Servant)22 b(class)h(de\002nition)89 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(7)408 3620 y(2.4.3)110 b(ORB)22 b(initialisation)39
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129 b(8)408 3738
y(2.4.4)110 b(Obtaining)24 b(the)e(Root)f(POA)36 b(.)45
b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)129 b(8)408 3857 y(2.4.5)110 b(Object)23
b(initialisation)38 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(8)408 3975 y(2.4.6)110 b(Activating)23 b(the)f(POA)k(.)45
b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)129 b(9)408 4093 y(2.4.7)110
b(Performing)22 b(a)h(call)62 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)129
b(9)199 4211 y(2.5)96 b(Example)23 b(2)g(\227)f(Dif)n(fer)n(ent)i(Addr)
n(ess)c(Spaces)85 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)129 b(9)408 4330 y(2.5.1)110 b(Object)23
b(Implementation:)k(Making)c(a)g(Stringi\002ed)e(Object)j(Refer)n(ence)
108 b(9)408 4448 y(2.5.2)i(Client:)28 b(Using)22 b(a)h(Stringi\002ed)f
(Object)h(Refer)n(ence)29 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)84 b(10)408 4566 y(2.5.3)110 b(System)21 b(exceptions)77
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(11)408 4684 y(2.5.4)110
b(Lifetime)22 b(of)h(a)g(CORBA)g(object)49 b(.)c(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(12)199 4803 y(2.6)96 b(Example)23 b(3)g(\227)f(Using)g(the)g(Naming)h
(Service)44 b(.)h(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)84 b(12)408 4921 y(2.6.1)110 b(Obtaining)24
b(the)e(Root)f(Context)g(object)i(r)n(efer)n(ence)87
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(13)408
5039 y(2.6.2)110 b(The)22 b(Naming)h(Service)f(interface)39
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)84 b(13)408 5157 y(2.6.3)110 b(Server)22 b(code)74
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(13)408
5275 y(2.6.4)110 b(Client)23 b(code)89 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)84 b(15)199 5394 y(2.7)96 b(Global)24
b(IDL)f(de\002nitions)71 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(16)1667 5622 y(iii)p eop end
%%Page: 4 4
TeXDict begin 4 3 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 539 a Fm(3)92 b(Python)20
b(language)j(mapping)e(issues)1692 b(17)358 653 y Fs(3.1)96
b(Narr)n(owing)22 b(object)g(r)n(efer)n(ences)45 b(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)84 b(17)567 768 y(3.1.1)110 b(The)21 b(gory)h(details)31
b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(17)358 882
y(3.2)96 b(Support)20 b(for)j(Any)f(values)27 b(.)45
b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(19)567 997 y(3.2.1)110
b(Any)21 b(helper)h(module)31 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(21)358 1111 y(3.3)96 b(Interface)22 b(Repository)e(stubs)59
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(21)221 1317 y Fm(4)92
b(omniORB)20 b(con\002guration)i(and)g(API)1700 b(23)358
1432 y Fs(4.1)96 b(Setting)21 b(parameters)79 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(23)567
1546 y(4.1.1)110 b(Command)23 b(line)g(ar)n(guments)36
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)84 b(23)567 1661 y(4.1.2)110 b(Envir)n(onment)22
b(variables)40 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(23)567 1775
y(4.1.3)110 b(Con\002guration)22 b(\002le)34 b(.)46 b(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)84 b(24)567 1890 y(4.1.4)110 b(W)-5 b(indows)21
b(r)n(egistry)31 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(24)358 2004 y(4.2)96 b(T)-8 b(racing)23 b(options)75
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(24)567 2119 y(4.2.1)110 b(T)-8 b(racing)22 b(API)67
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(25)358
2233 y(4.3)96 b(Miscellaneous)22 b(global)i(options)75
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)84 b(26)358 2348 y(4.4)96 b(Client)23
b(side)f(options)80 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(26)358 2462 y(4.5)96 b(Server)21 b(side)h(options)66
b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(28)358
2577 y(4.6)96 b(GIOP)23 b(and)f(inter)n(operability)h(options)73
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)84 b(31)358 2691 y(4.7)96 b(System)21 b(Exception)g
(Handlers)67 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(32)567
2806 y(4.7.1)110 b(Minor)22 b(codes)43 b(.)i(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)84 b(32)567 2920 y(4.7.2)110 b(CORBA::TRANSIENT)19
b(handlers)24 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)84 b(32)567 3035 y(4.7.3)110 b(CORBA.COMM_F)-7
b(AILURE)21 b(and)i(CORBA.SystemException)61 b(.)45 b(.)84
b(34)358 3149 y(4.8)96 b(Location)22 b(forwar)n(ding)75
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(34)358
3264 y(4.9)96 b(Dynamic)24 b(importing)e(of)h(IDL)31
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(34)358 3378 y(4.10)51
b(C++)23 b(API)73 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)g(.)h(.)f(.)g(.)84 b(35)221 3585 y Fm(5)92 b(The)22
b(IDL)g(compiler)2320 b(37)358 3699 y Fs(5.1)96 b(Common)23
b(options)65 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(37)567 3814 y(5.1.1)110 b(Pr)n(epr)n(ocessor)20 b(interactions)78
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)84 b(38)858 3928 y(5.1.1.1)123 b(W)-5
b(indows)22 b(9x)82 b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(38)567
4042 y(5.1.2)110 b(Forwar)n(d-declar)n(ed)21 b(interfaces)28
b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)84 b(38)567 4157 y(5.1.3)110 b(Comments)37
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(38)358 4271 y(5.2)96 b(Python)21 b(back-end)i(options)32
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(39)358 4386
y(5.3)96 b(Examples)35 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)84 b(40)221 4592 y Fm(6)92 b(Interoperable)24
b(Naming)e(Service)1810 b(41)358 4707 y Fs(6.1)96 b(Object)23
b(URIs)82 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)84 b(41)567 4821 y(6.1.1)110 b(corbaloc)72 b(.)45
b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84
b(41)567 4936 y(6.1.2)110 b(corbaname)34 b(.)45 b(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)84 b(42)358 5050 y(6.2)96 b(Con\002guring)22
b(r)n(esolve_initial_r)n(efer)n(ences)54 b(.)45 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(43)567
5165 y(6.2.1)110 b(ORBInitRef)82 b(.)45 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)84 b(43)567 5279 y(6.2.2)110 b(ORBDefaultInitRef)55
b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)84 b(43)358 5394 y(6.3)96
b(omniNames)70 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)84 b(44)p eop end
%%Page: 5 5
TeXDict begin 5 4 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 408 539 a Fs(6.3.1)110
b(NamingContextExt)36 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(44)408 652 y(6.3.2)110 b(Use)22 b(with)g(corbaname)60
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(45)199 764 y(6.4)96
b(omniMapper)34 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)84 b(45)199 877 y(6.5)96 b(Cr)n(eating)23
b(objects)f(with)h(simple)f(object)h(keys)46 b(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(45)63
1081 y Fm(7)91 b(Connection)21 b(and)i(Thread)f(Management)1515
b(47)199 1194 y Fs(7.1)96 b(Backgr)n(ound)73 b(.)45 b(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(47)199 1307
y(7.2)96 b(The)22 b(model)65 b(.)45 b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(48)199 1420 y(7.3)96
b(Client)23 b(side)f(behaviour)42 b(.)j(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)84 b(48)408 1533 y(7.3.1)110 b(Client)23 b(side)f(timeouts)79
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(49)199 1646 y(7.4)96
b(Server)22 b(side)g(behaviour)27 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)84 b(50)408 1759 y(7.4.1)110 b(Thr)n(ead)22 b(per)g(connection)
g(mode)69 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)84 b(50)408 1872 y(7.4.2)110 b(Thr)n(ead)22
b(pool)g(mode)75 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(51)408 1984 y(7.4.3)110 b(Policy)23 b(transition)g(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(51)199 2097 y(7.5)96
b(Idle)22 b(connection)g(shutdown)57 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)
84 b(52)408 2210 y(7.5.1)110 b(Inter)n(operability)22
b(Considerations)31 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)84 b(52)199 2323 y(7.6)96 b(T)-8
b(ransports)21 b(and)h(endpoints)75 b(.)45 b(.)h(.)f(.)g(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(53)408 2436 y(7.6.1)110 b(IPv6)91 b(.)45 b(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(53)408 2549 y(7.6.2)110
b(Endpoint)21 b(publishing)52 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(54)199 2662 y(7.7)96 b(Connection)22 b(selection)g(and)h(acceptance)
46 b(.)f(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)84 b(55)408 2775 y(7.7.1)110 b(Client)23 b(transport)e(r)o
(ules)26 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(56)408 2888
y(7.7.2)110 b(Server)22 b(transport)f(r)o(ules)80 b(.)45
b(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)84 b(57)199 3001 y(7.8)96 b(Bidir)n(ectional)24
b(GIOP)74 b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(57)199 3114 y(7.9)96 b(SSL)22 b(transport)84 b(.)45
b(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(58)63 3317 y Fm(8)91 b(Code)22 b(set)i(conversion)2228
b(59)199 3430 y Fs(8.1)96 b(Native)23 b(code)f(set)80
b(.)45 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(59)199 3543 y(8.2)96 b(Code)22 b(set)f(library)60 b(.)45
b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(59)199 3656 y(8.3)96 b(Implementing)22 b(new)g(code)f(sets)j(.)46
b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)84 b(60)63 3860 y Fm(9)91 b(Interceptors)2564
b(61)63 4064 y(10)46 b(Objects)24 b(by)e(value)2365 b(63)199
4177 y Fs(10.1)51 b(Featur)n(es)85 b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(63)199 4290
y(10.2)51 b(V)-8 b(alue)22 b(sharing)h(and)f(local)j(calls)37
b(.)46 b(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(63)199 4402 y(10.3)51
b(V)-8 b(alue)22 b(factories)42 b(.)j(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)
f(.)g(.)g(.)g(.)h(.)84 b(64)199 4515 y(10.4)51 b(Standar)n(d)22
b(value)i(boxes)41 b(.)k(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84
b(64)199 4628 y(10.5)51 b(V)-8 b(alues)22 b(inside)g(Anys)67
b(.)46 b(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)84 b(65)p
eop end
%%Page: 6 6
TeXDict begin 6 5 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a eop end
%%Page: 1 7
TeXDict begin 1 6 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1166 a Fl(Chapter)44
b(1)63 1586 y Fn(Introduction)63 2036 y Fs(omniORBpy)29
b(is)h(an)g(Object)h(Request)d(Br)n(oker)g(\(ORB\))j(that)e(implements)
h(the)f(CORBA)h(2.6)63 2149 y(Python)22 b(mapping)h([OMG01b)s(].)30
b(It)23 b(works)f(in)i(conjunction)g(with)f(omniORB)g(for)h(C++,)g(ver)
n(-)63 2262 y(sion)e(4.1.)204 2380 y(This)32 b(user)f(guide)g(tells)h
(you)g(how)g(to)f(use)h(omniORBpy)f(to)h(develop)f(CORBA)i(appli-)63
2493 y(cations)h(using)g(Python.)62 b(It)33 b(assumes)g(a)i(basic)h
(understanding)c(of)i(CORBA,)h(and)f(of)g(the)63 2606
y(Python)21 b(mapping.)28 b(Unlike)23 b(most)f(CORBA)h(standar)n(ds,)e
(the)h(Python)g(mapping)h(document)63 2719 y(is)f(small,)i(and)f(quite)
f(easy)g(to)g(follow)-8 b(.)204 2837 y(This)33 b(manual)i(contains)e
(all)i(you)d(need)g(to)h(know)f(about)h(omniORB)h(in)g(or)n(der)e(to)h
(use)63 2950 y(omniORBpy)-10 b(.)27 b(Some)22 b(sections)f(ar)n(e)i(r)n
(epeated)e(fr)n(om)i(the)f(omniORB)h(manual.)204 3067
y(In)k(this)h(chapter)-7 b(,)28 b(we)f(give)h(an)h(overview)e(of)h(the)
f(main)i(featur)n(es)e(of)g(omniORBpy)h(and)63 3180 y(what)22
b(you)g(need)f(to)h(do)g(to)g(setup)f(your)h(envir)n(onment)g(to)g(r)o
(un)g(it.)63 3510 y Fp(1.1)119 b(Features)63 3734 y Fk(1.1.1)99
b(Multithreading)63 3921 y Fs(omniORB)26 b(is)h(fully)g(multithr)n
(eaded.)39 b(T)-8 b(o)26 b(achieve)h(low)g(call)h(over)n(head,)f
(unnecessary)d(call-)63 4034 y(multiplexing)k(is)g(eliminated.)43
b(W)-5 b(ith)28 b(the)f(default)h(policies,)h(ther)n(e)d(is)i(at)g
(most)f(one)g(call)j(in-)63 4147 y(\003ight)19 b(in)g(each)g
(communication)i(channel)e(between)f(two)g(addr)n(ess)f(spaces)h(at)i
(any)f(one)f(time.)63 4260 y(T)-8 b(o)24 b(do)g(this)h(without)g
(limiting)h(the)f(level)g(of)g(concurr)n(ency)-10 b(,)26
b(new)e(channels)i(connecting)e(the)63 4373 y(two)f(addr)n(ess)g
(spaces)g(ar)n(e)i(cr)n(eated)e(on)h(demand)f(and)i(cached)f(when)f
(ther)n(e)h(ar)n(e)g(concurr)n(ent)63 4485 y(calls)h(in)g(pr)n(ogr)n
(ess.)30 b(Each)25 b(channel)f(is)h(served)d(by)i(a)h(dedicated)e(thr)n
(ead.)32 b(This)23 b(arrangement)63 4598 y(pr)n(ovides)31
b(maximal)k(concurr)n(ency)d(and)h(eliminates)f(any)h(thr)n(ead)f
(switching)g(in)h(either)f(of)63 4711 y(the)25 b(addr)n(ess)h(spaces)f
(to)h(pr)n(ocess)f(a)j(call.)41 b(Furthermor)n(e,)25
b(to)h(maximise)i(the)e(thr)n(oughput)e(in)63 4824 y(pr)n(ocessing)k
(lar)n(ge)i(call)h(ar)n(guments,)f(lar)n(ge)g(data)f(elements)f(ar)n(e)
i(sent)e(as)i(soon)e(as)i(they)e(ar)n(e)63 4937 y(pr)n(ocessed)d(while)
j(the)e(other)g(ar)n(guments)h(ar)n(e)h(being)f(marshalled.)43
b(W)-5 b(ith)27 b(GIOP)h(1.2,)h(lar)n(ge)63 5050 y(messages)20
b(ar)n(e)i(fragmented,)f(so)g(the)g(marshaller)i(can)g(start)e
(transmission)g(befor)n(e)h(it)g(knows)63 5163 y(how)g(lar)n(ge)h(the)f
(entir)n(e)g(message)f(will)j(be.)204 5281 y(Fr)n(om)32
b(version)f(4.0)i(onwar)n(ds,)g(omniORB)f(also)g(supports)e(a)i
(\003exible)h(thr)n(ead)e(pooling)63 5394 y(policy)-10
b(,)40 b(and)d(supports)e(sending)h(multiple)h(interleaved)g(calls)h
(on)f(a)h(single)e(connection.)1684 5622 y(1)p eop end
%%Page: 2 8
TeXDict begin 2 7 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(2)1931
b Fj(CHAPTER)22 b(1.)51 b(INTRODUCTION)221 539 y Fs(This)28
b(policy)f(leads)h(to)f(a)h(small)h(amount)f(of)f(additional)i(call)g
(over)n(head,)f(compar)n(ed)g(to)f(the)221 652 y(default)k(thr)n(ead)g
(per)f(connection)h(model,)h(but)f(allows)h(omniORB)f(to)f(scale)i(to)e
(extr)n(emely)221 764 y(lar)n(ge)23 b(numbers)f(of)h(concurr)n(ent)f
(clients.)221 1028 y Fk(1.1.2)99 b(Portability)221 1207
y Fs(omniORB)29 b(has)h(always)f(been)g(designed)e(to)h(be)i(portable.)
47 b(It)29 b(r)o(uns)f(on)h(many)h(\003avours)f(of)221
1320 y(Unix,)24 b(W)-5 b(indows,)23 b(several)h(embedded)e(operating)g
(systems,)g(and)i(r)n(elatively)h(obscur)n(e)e(sys-)221
1433 y(tems)k(such)h(as)g(OpenVMS)f(and)h(Fujitsu-Siemens)e(BS2000.)45
b(It)28 b(is)g(designed)d(to)j(be)g(easy)f(to)221 1546
y(port)33 b(to)f(new)h(platforms.)60 b(The)33 b(IDL)g(to)g(C++)h
(mapping)g(for)f(all)i(tar)n(get)e(platforms)g(is)h(the)221
1659 y(same.)221 1922 y Fk(1.1.3)99 b(Missing)26 b(features)221
2102 y Fs(omniORB)f(is)g(not)f(\(yet\))g(a)h(complete)f(implementation)
h(of)g(the)f(CORBA)h(2.6)g(cor)n(e.)34 b(The)24 b(fol-)221
2215 y(lowing)f(is)f(a)i(list)e(of)h(the)f(most)g(signi\002cant)h
(missing)f(featur)n(es.)358 2434 y Fo(\017)45 b Fs(omniORB)24
b(does)e(not)g(have)i(its)f(own)g(Interface)g(Repository)-10
b(.)27 b(However)-7 b(,)22 b(it)i(can)g(act)g(as)448
2547 y(a)h(client)g(to)e(an)i(IfR.)f(The)f(omniifr)i(pr)n(oject)f(\()p
Fi(http://omniifr)-5 b(.sourcef)m(orge)o(.net/)p Fs(\))25
b(aims)g(to)448 2660 y(cr)n(eate)e(an)g(IfR)f(for)h(omniORB.)358
2853 y Fo(\017)45 b Fs(omniORB)34 b(supports)e(inter)n(ceptors,)j(but)e
(not)h(the)f(standar)n(d)g(Portable)h(Inter)n(ceptor)448
2966 y(API.)22 b(Inter)n(ceptor)f(facilities)j(available)i(fr)n(om)d
(Python)e(code)h(ar)n(e)h(quite)f(limited.)362 3185 y(These)j(featur)n
(es)g(may)h(be)g(implemented)e(in)j(the)e(short)f(to)i(medium)f(term.)
37 b(It)26 b(is)g(best)f(to)221 3298 y(check)19 b(out)g(the)g(latest)g
(status)f(on)h(the)g(omniORB)g(home)g(page)g(\()p Fi(http://omniorb)l
(.sourcef)m(orge)o(.)221 3411 y(net/)p Fs(\).)221 3718
y Fp(1.2)119 b(Setting)30 b(up)g(your)g(environment)221
3932 y Fs(omniORBpy)21 b(r)n(elies)g(on)f(the)h(omniORB)g(C++)h
(libraries.)28 b(If)21 b(you)f(ar)n(e)i(building)f(fr)n(om)h(sour)n
(ce,)221 4045 y(you)k(must)g(\002rst)g(build)i(omniORB)f(itself,)g(as)g
(detailed)f(in)h(the)f(omniORB)h(documentation.)221 4158
y(After)k(that,)j(you)c(can)j(build)f(the)f(omniORBpy)g(distribution,)i
(accor)n(ding)g(to)e(the)g(instr)o(uc-)221 4271 y(tions)22
b(in)h(the)f(r)n(elease)g(notes.)221 4534 y Fk(1.2.1)99
b(Paths)221 4714 y Fs(W)-5 b(ith)26 b(an)g(Autoconf)f(build)i(\(the)e
(norm)g(on)h(Unix)g(platforms\),)g(omniORBpy)f(is)h(usually)g(in-)221
4826 y(stalled)d(into)f(a)h(location)g(that)g(Python)e(will)j(\002nd)e
(it.)362 4941 y(Otherwise,)d(you)g(must)g(tell)h(Python)e(wher)n(e)h
(to)g(\002nd)g(it.)27 b(Y)-8 b(ou)19 b(must)g(add)g(two)g(dir)n
(ectories)221 5054 y(to)31 b(the)f Fh(PYTHONPATH)d Fs(envir)n(onment)k
(variable.)55 b(The)31 b Fh(lib/python)c Fs(dir)n(ectory)j(contains)221
5167 y(platform-independent)17 b(Python)h(code;)h(the)g
Fh(lib/$FARCH)c Fs(dir)n(ectory)j(contains)h(platform-)221
5279 y(speci\002c)k(binaries,)g(wher)n(e)f Fh(FARCH)e
Fs(is)j(the)f(name)g(of)h(your)f(platform,)g(such)h(as)g
Fh(x86_win32)p Fs(.)362 5394 y(On)g(Unix)g(platforms,)f(set)g
Fh(PYTHONPATH)c Fs(with)23 b(a)g(command)g(like:)p eop
end
%%Page: 3 9
TeXDict begin 3 8 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(1.2.)51
b(SETTING)21 b(UP)h(YOUR)h(ENVIRONMENT)1497 b Fs(3)226
539 y Fh(export)52 b(PYTHONPATH=$PYT)o(HO)o(NP)o(ATH)o(:$)o(TO)o(P/)o
(li)o(b/p)o(yt)o(ho)o(n:)o($T)o(OP/)o(li)o(b/)o($F)o(AR)o(CH)p
3560 553 42 76 v 204 751 a Fs(On)23 b(W)-5 b(indows,)21
b(use)226 964 y Fh(set)53 b(PYTHONPATH=\045PYTH)o(ON)o(PA)o(TH)o
(\045;\045)o(TO)o(P\045)o(\\l)o(ib)o(\\py)o(th)o(on)o(;\045)o(TO)o
(P\045\\)o(li)o(b\\)o(x8)o(6_)o(win)o(32)p 3723 978 42
73 v 204 1176 a Fs(\(Wher)n(e)22 b(the)g Fh(TOP)f Fs(envir)n(onment)h
(variable)j(is)e(the)e(r)n(oot)h(of)h(your)f(omniORB)g(tr)n(ee.\))204
1289 y(Y)-8 b(ou)37 b(should)g(also)i(add)f(the)g Fh(bin/$FARCH)c
Fs(dir)n(ectory)j(to)h(your)f Fh(PATH)p Fs(,)k(so)c(you)h(can)63
1402 y(r)o(un)d(the)f(IDL)g(compiler)-7 b(,)39 b(omniidl.)65
b(Finally)-10 b(,)39 b(add)34 b(the)g Fh(lib/$FARCH)d
Fs(dir)n(ectory)j(to)g Fh(LD_)63 1515 y(LIBRARY_PATH)p
Fs(,)17 b(so)22 b(the)f(omniORB)i(cor)n(e)g(library)g(can)h(be)e
(found.)63 1770 y Fk(1.2.2)99 b(Con\002guration)25 b(\002le)199
1947 y Fo(\017)46 b Fs(On)18 b(Unix)g(platforms,)h(the)e(omniORB)h(r)o
(untime)g(looks)f(for)h(the)f(envir)n(onment)h(variable)290
2060 y Fh(OMNIORB_CONFIG)p Fs(.)i(If)f(this)g(variable)i(is)e
(de\002ned,)f(it)h(contains)g(the)f(pathname)h(of)g(the)290
2172 y(omniORB)25 b(con\002guration)g(\002le.)35 b(If)26
b(the)e(variable)j(is)f(not)e(set,)g(omniORB)i(will)g(use)e(the)290
2285 y(compiled-in)f(pathname)g(to)f(locate)h(the)e(\002le)i(\(by)g
(default)f Fh(/etc/omniORB.cfg)o Fs(\).)199 2473 y Fo(\017)46
b Fs(On)29 b(W)-5 b(in32)29 b(platforms)g(\(W)-5 b(indows)27
b(NT)-7 b(,)28 b(2000,)j(95,)g(98\),)g(omniORB)d(\002rst)g(checks)f
(the)290 2586 y(envir)n(onment)c(variable)i Fh(OMNIORB_CONFIG)18
b Fs(to)k(obtain)i(the)f(pathname)g(of)h(the)e(con-)290
2699 y(\002guration)i(\002le.)35 b(If)24 b(this)h(is)g(not)f(set,)g(it)
h(then)f(attempts)f(to)h(obtain)h(con\002guration)f(data)290
2812 y(in)i(the)f(system)f(r)n(egistry)-10 b(.)37 b(It)25
b(sear)n(ches)g(for)h(the)f(data)h(under)f(the)g(key)f
Fh(HKEY_LOCAL_)290 2925 y(MACHINE\\SOFTWAR)o(E\\)o(om)o(ni)o(OR)o(B)p
Fs(.)204 3137 y(omniORB)f(has)g(a)h(lar)n(ge)g(number)f(of)g
(parameters)f(than)h(can)h(be)f(con\002gur)n(ed.)29 b(See)22
b(chap-)63 3250 y(ter)h(4)h(for)g(full)h(details.)31
b(The)23 b(\002les)g Fh(sample.cfg)d Fs(and)k Fh(sample.reg)19
b Fs(contain)24 b(an)h(example)63 3363 y(con\002guration)d(\002le)g
(and)h(set)e(of)i(r)n(egistry)e(entries)h(r)n(espectively)-10
b(.)204 3476 y(T)i(o)24 b(get)g(all)i(the)e(omniORB)h(examples)f(r)o
(unning,)h(the)f(main)i(thing)f(you)f(need)f(to)i(con\002g-)63
3589 y(ur)n(e)17 b(is)h(the)f(Naming)h(service,)h(omniNames.)26
b(T)-8 b(o)17 b(do)g(that,)h(the)f(con\002guration)h(\002le)f(or)h(r)n
(egistry)63 3702 y(should)j(contain)i(an)g(entry)f(of)g(the)g(form)172
3914 y Fh(InitRef)51 b(=)j(NameService=cor)o(ba)o(nam)o(e:)o(:m)o(y.)o
(ho)o(st.)o(na)o(me)204 4127 y Fs(See)21 b(section)h(6.1.2)i(for)e
(full)i(details)e(of)h(corbaname)g(URIs.)p eop end
%%Page: 4 10
TeXDict begin 4 9 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(4)1931
b Fj(CHAPTER)22 b(1.)51 b(INTRODUCTION)p eop end
%%Page: 5 11
TeXDict begin 5 10 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1168 a Fl(Chapter)44
b(2)63 1590 y Fn(The)52 b(Basics)63 2042 y Fs(In)31 b(this)h(chapter)-7
b(,)34 b(we)e(go)f(thr)n(ough)g(thr)n(ee)g(examples)g(to)h(illustrate)g
(the)f(practical)j(steps)c(to)63 2155 y(use)23 b(omniORBpy)-10
b(.)32 b(By)24 b(going)f(thr)n(ough)h(the)f(sour)n(ce)h(code)f(of)i
(each)f(example,)h(the)e(essential)63 2268 y(concepts)29
b(and)j(APIs)e(ar)n(e)h(intr)n(oduced.)52 b(If)31 b(you)g(have)g(no)g
(pr)n(evious)f(experience)g(with)h(us-)63 2381 y(ing)e(CORBA,)f(you)h
(should)f(study)f(this)h(chapter)h(in)g(detail.)48 b(Ther)n(e)28
b(ar)n(e)h(pointers)e(to)i(other)63 2494 y(essential)21
b(documents)g(you)h(should)g(be)g(familiar)k(with.)204
2614 y(If)c(you)f(have)h(experience)e(with)i(using)f(other)g(ORBs,)g
(you)g(should)g(still)h(go)f(thr)n(ough)g(this)63 2727
y(chapter)34 b(because)h(it)g(pr)n(ovides)f(important)h(information)g
(about)g(the)f(featur)n(es)h(and)g(APIs)63 2839 y(that)22
b(ar)n(e)h(necessarily)f(omniORB)h(speci\002c.)63 3181
y Fp(2.1)119 b(The)29 b(Echo)i(example)63 3406 y Fs(W)-8
b(e)24 b(use)h(an)g(example)h(which)g(is)f(similar)i(to)e(the)f(one)h
(used)f(in)i(the)e(omniORB)i(manual.)37 b(W)-8 b(e)63
3519 y(de\002ne)21 b(an)i(interface,)g(called)g Fh(Example::Echo)p
Fs(,)17 b(as)22 b(follows:)204 3682 y Fg(//)49 b(echo_example)n(.idl)
204 3782 y Ff(module)f(Example)h({)303 3881 y(interface)g(Echo)g({)403
3981 y(string)g(echoString)n(\(in)g(string)g(mesg)o(\);)303
4080 y(};)204 4180 y(};)204 4364 y Fs(The)31 b(important)h(dif)n(fer)n
(ence)g(fr)n(om)h(the)e(omniORB)h(Echo)g(example)g(is)g(that)g(our)f
Fh(Echo)63 4477 y Fs(interface)c(is)g(declar)n(ed)g(within)g(an)h(IDL)e
(module)h(named)f Fh(Example)p Fs(.)38 b(The)27 b(r)n(eason)f(for)h
(this)63 4589 y(will)d(become)e(clear)h(in)g(a)h(moment.)204
4709 y(If)18 b(you)f(ar)n(e)i(new)e(to)h(IDL,)g(you)f(can)i(learn)f
(about)h(its)e(syntax)h(in)g(Chapter)g(3)h(of)f(the)g(CORBA)63
4822 y(speci\002cation)27 b(2.6)h([OMG01a)s(].)42 b(For)27
b(the)f(moment,)i(you)e(only)h(need)f(to)h(know)f(that)h(the)g(in-)63
4935 y(terface)g(consists)g(of)g(a)h(single)g(operation,)f
Fh(echoString\(\))p Fs(,)d(which)k(takes)e(a)j(string)d(as)i(an)63
5048 y(ar)n(gument)22 b(and)g(r)n(eturns)g(a)h(copy)f(of)h(the)e(same)i
(string.)204 5168 y(The)k(interface)i(is)f(written)f(in)i(a)g(\002le,)g
(called)g Fh(example_echo.id)o(l)p Fs(.)38 b(It)28 b(is)g(part)g(of)g
(the)63 5281 y(CORBA)35 b(standar)n(d)h(that)f(all)i(IDL)f(\002les)f
(should)g(have)h(the)f(extension)f(`)p Fh(.idl)p Fs(',)j(although)63
5394 y(omniORB)22 b(does)f(not)h(enfor)n(ce)h(this.)1684
5622 y(5)p eop end
%%Page: 6 12
TeXDict begin 6 11 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(6)2138
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)221 539 y Fp(2.2)119
b(Generating)29 b(the)g(Python)i(stubs)221 753 y Fs(Fr)n(om)25
b(the)f(IDL)g(\002le,)h(we)g(use)f(the)g(IDL)g(compiler)-7
b(,)26 b(omniidl,)g(to)e(pr)n(oduce)g(the)g(Python)f(stubs)221
866 y(for)g(that)f(IDL.)g(The)g(stubs)g(contain)h(Python)e
(declarations)i(for)g(all)h(the)e(interfaces)g(and)h(types)221
979 y(declar)n(ed)h(in)h(the)e(IDL,)h(as)g(r)n(equir)n(ed)g(by)g(the)f
(Python)g(mapping.)33 b(It)24 b(is)g(possible)f(to)h(generate)221
1092 y(stubs)c(dynamically)i(at)f(r)o(un-time,)g(as)g(described)e(in)i
(section)f(4.9,)i(but)f(it)f(is)h(mor)n(e)g(ef)n(\002cient)g(to)221
1204 y(generate)g(them)h(statically)-10 b(.)362 1319
y(T)i(o)22 b(generate)f(the)h(stubs,)f(we)h(use)g(a)h(command)g(line)g
(like)448 1539 y Fh(omniidl)52 b(-bpython)f(example_echo.i)o(dl)221
1760 y Fs(As)20 b(r)n(equir)n(ed)h(by)g(the)f(standar)n(d,)g(that)h(pr)
n(oduces)e(two)i(Python)e(packages)h(derived)g(fr)n(om)i(the)221
1873 y(module)32 b(name)g Fh(Example)p Fs(.)54 b(Dir)n(ectory)32
b Fh(Example)d Fs(contains)j(the)f(client-side)h(de\002nitions)221
1986 y(\(and)27 b(also)g(the)f(type)f(declarations)i(if)g(ther)n(e)f
(wer)n(e)g(any\);)j(dir)n(ectory)c Fh(Example__POA)d
Fs(con-)221 2099 y(tains)e(the)f(server)n(-side)f(skeletons.)24
b(This)19 b(explains)h(the)f(dif)n(\002culty)h(with)f(declarations)h
(at)f(IDL)221 2212 y(global)24 b(scope;)d(section)h(2.7)h(explains)g
(how)f(to)g(access)g(global)i(declarations.)362 2326
y(If)19 b(you)g(look)f(at)h(the)g(Python)e(code)i(in)g(the)f(two)h
(packages,)f(you)h(will)h(see)e(that)g(they)g(ar)n(e)i(al-)221
2439 y(most)d(empty)-10 b(.)25 b(They)17 b(simply)h(import)f(the)g
Fh(example_echo_idl)o(.p)o(y)12 b Fs(\002le,)18 b(which)h(is)f(wher)n
(e)221 2552 y(both)29 b(the)f(client)i(and)g(server)e(side)g
(declarations)i(actually)g(live.)49 b(This)29 b(arrangement)f(is)i(so)
221 2665 y(that)e(omniidl)g(can)h(easily)f(extend)e(the)h(packages)g
(if)h(other)f(IDL)g(\002les)g(add)h(declarations)g(to)221
2778 y(the)22 b(same)h(IDL)f(modules.)221 3086 y Fp(2.3)119
b(Object)29 b(References)g(and)g(Servants)221 3301 y
Fs(W)-8 b(e)22 b(contact)h(a)g(CORBA)g(object)g(thr)n(ough)e(an)j
Fr(object)g(r)n(efer)n(ence)p Fs(.)31 b(The)22 b(actual)i
(implementation)221 3413 y(of)f(a)g(CORBA)g(object)f(is)h(termed)e(a)i
Fr(servant)p Fs(.)362 3528 y(Object)31 b(r)n(efer)n(ences)f(and)g
(servants)g(ar)n(e)h(quite)e(separate)h(entities,)h(and)f(it)h(is)f
(important)221 3641 y(not)19 b(to)f(confuse)h(the)f(two.)26
b(Client)20 b(code)e(deals)h(pur)n(ely)g(with)g(object)g(r)n(efer)n
(ences,)f(so)h(ther)n(e)f(can)221 3754 y(be)j(no)f(confusion;)g(object)
h(implementation)f(code)g(must)g(deal)g(with)h(both)f(object)g(r)n
(efer)n(ences)221 3867 y(and)30 b(servants.)48 b(Y)-8
b(ou)29 b(will)i(get)e(a)h(r)o(un-time)g(err)n(or)f(if)i(you)e(use)f(a)
j(servant)e(wher)n(e)g(an)h(object)221 3980 y(r)n(efer)n(ence)22
b(is)h(expected,)d(or)i(vice-versa.)221 4288 y Fp(2.4)119
b(Example)30 b(1)f(\227)h(Colocated)g(client)f(and)h(servant)221
4502 y Fs(In)k(the)g(\002rst)f(example,)k(both)d(the)f(client)i(and)f
(servant)g(ar)n(e)g(in)h(the)f(same)g(addr)n(ess)f(space.)221
4615 y(The)27 b(next)g(sections)f(show)h(how)g(the)f(client)i(and)g
(servant)f(can)h(be)g(split)f(between)f(dif)n(fer)n(ent)221
4728 y(addr)n(ess)21 b(spaces.)362 4843 y(First,)h(the)g(code:)362
4995 y Fg(#!/usr)o(/bin)o(/env)49 b(python)362 5194 y
Ff(import)g(sys)362 5294 y(from)g(omniORB)g(import)g(CORBA)o(,)g
(PortableServer)362 5394 y(import)g(Example)o(,)g(Example__POA)p
eop end
%%Page: 7 13
TeXDict begin 7 12 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(2.4.)51
b(EXAMPLE)21 b(1)i(\227)f(COLOCA)-7 b(TED)24 b(CLIENT)d(AND)i(SER)-5
b(V)-10 b(ANT)798 b Fs(7)204 638 y Ff(class)49 b(Echo_i)f
(\(Example__POA)n(.Echo)o(\):)403 738 y(def)h(echoString)n(\(self,)g
(mesg)o(\):)602 837 y(print)g("echoString)n(\(\))h(called)e(with)h
(message)o(:",)g(mesg)602 937 y(return)g(mesg)204 1136
y(orb)g(=)h(CORBA)o(.ORB_init)n(\(sys)o(.argv)o(,)g(CORBA)o(.ORB_ID)o
(\))204 1236 y(poa)f(=)h(orb)o(.resolve_initial_references)-5
b(\("RootPOA)n("\))204 1435 y(ei)49 b(=)h(Echo_i)o(\(\))204
1535 y(eo)f(=)h(ei)o(._this)o(\(\))204 1734 y(poaManager)e(=)h
(poa._get_the_POAManager)l(\(\))204 1834 y(poaManager)n(.activate)n
(\(\))204 2033 y(message)f(=)i("Hello)o(")204 2133 y(result)98
b(=)50 b(eo.)o(echoString)o(\()o(message)o(\))204 2332
y(print)f(")o(I)h(said)f('\045s'.)g(The)g(object)g(said)g('\045s'.)o(")
h(\045)f(\(message)o(,result)o(\))204 2501 y Fs(The)39
b(example)g(illustrates)g(several)h(important)f(interactions)g(among)g
(the)g(ORB,)g(the)63 2614 y(POA,)22 b(the)g(servant,)g(and)g(the)g
(client.)29 b(Her)n(e)21 b(ar)n(e)i(the)f(details:)63
2881 y Fk(2.4.1)99 b(Imports)63 3062 y Fm(Line)22 b(3)290
3175 y Fs(Import)f(the)h Fh(sys)g Fs(module)g(to)g(access)g
Fh(sys.argv)p Fs(.)63 3371 y Fm(Line)g(4)290 3484 y Fs(Import)33
b(omniORB's)i(implementations)f(of)h(the)f Fh(CORBA)e
Fs(and)j Fh(PortableServer)290 3597 y Fs(modules.)j(The)25
b(standar)n(d)h(r)n(equir)n(es)g(that)g(these)f(modules)g(ar)n(e)i
(available)i(outside)c(of)290 3710 y(any)e(package,)f(so)f(you)h(can)i
(also)e(do)290 3863 y Ff(import)49 b(CORBA)o(,)g(PortableServer)290
4072 y Fs(Explicitly)30 b(specifying)e(omniORB)i(is)f(useful)g(if)h
(you)e(have)i(mor)n(e)f(than)g(one)g(Python)290 4185
y(ORB)22 b(installed.)63 4381 y Fm(Line)g(5)290 4494
y Fs(Import)16 b(the)g(client-side)h(stubs)f(and)i(server)n(-side)d
(skeletons)g(generated)g(for)i(IDL)g(mod-)p 3353 4519
42 92 v 290 4606 a(ule)22 b Fh(Example)p Fs(.)63 4874
y Fk(2.4.2)99 b(Servant)24 b(class)i(de\002nition)63
5055 y Fm(Lines)d(7\22610)290 5168 y Fs(For)37 b(interface)h
Fh(Example::Echo)p Fs(,)e(omniidl)j(pr)n(oduces)e(a)h(skeleton)e(class)
j(named)290 5281 y Fh(Example__POA.Ec)o(ho)o Fs(.)47
b(Her)n(e)30 b(we)h(de\002ne)f(an)h(implementation)g(class,)i
Fh(Echo_i)p Fs(,)290 5394 y(which)23 b(derives)f(fr)n(om)h(the)f
(skeleton)e(class.)p eop end
%%Page: 8 14
TeXDict begin 8 13 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(8)2138
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)448 539 y Fs(Ther)n(e)28
b(is)g(little)h(constraint)f(on)g(how)f(you)h(design)f(your)g
(implementation)h(class,)i(ex-)448 652 y(cept)d(that)f(it)h(has)g(to)f
(inherit)h(fr)n(om)h(the)e(skeleton)f(class)i(and)g(must)f(implement)h
(all)h(of)448 764 y(the)c(operations)e(declar)n(ed)i(in)h(the)e(IDL.)g
(Note)g(that)h(since)g(Python)e(is)j(a)f(dynamic)h(lan-)448
877 y(guage,)k(err)n(ors)e(due)h(to)f(missing)i(operations)d(and)j
(operations)e(with)h(incorr)n(ect)h(type)448 990 y(signatur)n(es)22
b(ar)n(e)h(only)f(r)n(eported)f(when)g(someone)g(tries)h(to)g(call)j
(those)c(operations.)221 1263 y Fk(2.4.3)99 b(ORB)25
b(initialisation)221 1445 y Fm(Line)e(12)448 1558 y Fs(The)32
b(ORB)f(is)h(initialised)h(by)f(calling)i(the)d Fh(CORBA.ORB_init\()o
(\))26 b Fs(function.)56 b Fh(ORB_)448 1671 y(init\(\))34
b Fs(is)j(passed)d(a)j(list)g(of)f(command-line)i(ar)n(guments,)h(and)d
(an)h(ORB)f(identi-)448 1784 y(\002er)-7 b(.)44 b(The)28
b(ORB)g(identi\002er)f(should)g(be)h(`omniORB4',)i(but)e(it)g(is)g
(usually)g(best)g(to)f(use)448 1897 y Fh(CORBA.ORB_ID)p
Fs(,)20 b(which)26 b(is)g(initialised)h(to)e(a)h(suitable)g(string,)f
(or)g(leave)h(it)g(out)e(alto-)448 2010 y(gether)-7 b(,)21
b(and)i(r)n(ely)f(on)h(the)f(default.)448 2166 y Fh(ORB_init\(\))d
Fs(pr)n(ocesses)j(any)h(command-line)i(ar)n(guments)d(which)i(begin)f
(with)h(the)448 2279 y(string)32 b(`)p Fh(-ORB)p Fs(',)f(and)h(r)n
(emoves)g(them)f(fr)n(om)i(the)f(ar)n(gument)f(list.)57
b(See)32 b(section)f(4.1.1)448 2392 y(for)d(details.)44
b(If)28 b(any)h(ar)n(guments)e(ar)n(e)h(invalid,)j(or)d(other)f
(initialisation)j(err)n(ors)d(occur)448 2505 y(\(such)d(as)f(err)n(ors)
f(in)i(the)e(con\002guration)h(\002le\),)g(the)f Fh(CORBA.INITIALIZ)o
(E)17 b Fs(exception)448 2618 y(is)23 b(raised.)221 2890
y Fk(2.4.4)99 b(Obtaining)25 b(the)g(Root)h(POA)221 3073
y Fm(Line)d(13)448 3186 y Fs(T)-8 b(o)21 b(activate)i(our)e(servant)g
(object)h(and)f(make)h(it)g(available)i(to)e(clients,)f(we)g(must)g(r)n
(egis-)448 3298 y(ter)h(it)g(with)h(a)f(POA.)h(In)e(this)h(example,)g
(we)g(use)f(the)h Fr(Root)h(POA)p Fs(,)e(rather)g(than)i(cr)n(eating)
448 3411 y(any)34 b(child)g(POAs.)60 b(The)33 b(Root)g(POA)g(is)h
(found)f(with)g Fh(orb.resolve_ini)o(ti)o(al)o(_)448
3524 y(references\(\))p Fs(.)448 3680 y(A)f(POA)-7 b('s)31
b(behaviour)h(is)f(governed)f(by)h(its)g Fr(policies)p
Fs(.)56 b(The)31 b(Root)f(POA)h(has)h(suitable)448 3793
y(policies)24 b(for)g(many)f(simple)h(servers.)29 b(Chapter)23
b(11)i(of)e(the)g(CORBA)h(2.6)g(speci\002cation)448 3906
y([OMG01a)s(])f(has)g(details)f(of)h(all)h(the)d(POA)i(policies)g
(which)g(ar)n(e)g(available.)221 4178 y Fk(2.4.5)99 b(Object)25
b(initialisation)221 4361 y Fm(Line)e(15)448 4474 y Fs(An)g(instance)f
(of)h(the)f(Echo)g(servant)g(object)g(is)h(cr)n(eated.)221
4673 y Fm(Line)g(16)448 4786 y Fs(The)h(object)h(is)f(implicitly)j
(activated)e(in)g(the)f(Root)f(POA,)i(and)f(an)i(object)e(r)n(efer)n
(ence)g(is)448 4899 y(r)n(eturned,)d(using)h(the)g Fh(_this\(\))d
Fs(method.)448 5055 y(One)30 b(of)g(the)f(important)h(characteristics)g
(of)g(an)h(object)e(r)n(efer)n(ence)h(is)g(that)f(it)h(is)g(com-)448
5168 y(pletely)20 b(location)i(transpar)n(ent.)27 b(A)21
b(client)g(can)h(invoke)f(on)g(the)f(object)h(using)f(its)h(object)448
5281 y(r)n(efer)n(ence)26 b(without)f(any)g(need)g(to)g(know)g(whether)
f(the)h(servant)h(object)f(is)h(colocated)448 5394 y(in)e(the)d(same)i
(addr)n(ess)e(space)h(or)h(is)f(in)h(a)h(dif)n(fer)n(ent)e(addr)n(ess)f
(space.)p eop end
%%Page: 9 15
TeXDict begin 9 14 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(2.5.)51
b(EXAMPLE)21 b(2)i(\227)f(DIFFERENT)e(ADDRESS)i(SP)-8
b(ACES)1105 b Fs(9)290 539 y(In)27 b(the)g(case)h(of)f(colocated)h
(client)g(and)f(servant,)h(omniORB)g(is)g(able)g(to)f(short-cir)n(cuit)
290 652 y(the)35 b(client)i(calls)h(so)d(they)g(do)g(not)h(involve)h
(IIOP)-12 b(.)36 b(The)f(calls)j(still)f(go)e(thr)n(ough)g(the)290
764 y(POA,)22 b(however)-7 b(,)20 b(so)h(the)g(various)i(POA)f
(policies)f(af)n(fect)i(local)h(calls)f(in)f(the)f(same)h(way)290
877 y(as)k(r)n(emote)f(ones.)36 b(This)25 b(optimisation)h(is)g
(applicable)h(not)e(only)h(to)f(object)h(r)n(efer)n(ences)290
990 y(r)n(eturned)k(by)i Fh(_this\(\))p Fs(,)f(but)g(to)h(any)f(object)
h(r)n(efer)n(ences)f(that)g(ar)n(e)i(passed)d(ar)n(ound)290
1103 y(within)18 b(the)f(same)h(addr)n(ess)e(space)i(or)f(r)n(eceived)h
(fr)n(om)g(other)f(addr)n(ess)f(spaces)i(via)h(IIOP)290
1216 y(calls.)63 1488 y Fk(2.4.6)99 b(Activating)25 b(the)g(POA)63
1670 y Fm(Lines)e(18\22619)290 1783 y Fs(POAs)31 b(ar)n(e)i(initially)g
(in)f(the)f Fr(holding)j Fs(state,)f(meaning)f(that)f(incoming)i(r)n
(equests)c(ar)n(e)290 1896 y(blocked.)e(Lines)20 b(18)i(and)f(19)h
(acquir)n(e)g(a)f(r)n(efer)n(ence)g(to)f(the)g(POA)-7
b('s)22 b(POA)f(manager)-7 b(,)22 b(and)290 2009 y(use)e(it)i(to)f(put)
g(the)f(POA)i(into)f(the)g Fr(active)i Fs(state.)k(Incoming)21
b(r)n(equests)e(ar)n(e)j(now)f(served.)290 2122 y Fm(Failing)i(to)h
(activate)i(the)e(POA)e(is)j(one)e(of)g(the)h(most)g(common)e
(programming)h(mis-)290 2235 y(takes.)49 b(If)30 b(your)e(program)h
(appears)i(deadlocked,)f(make)g(sure)g(you)e(activated)j(the)290
2348 y(POA!)63 2619 y Fk(2.4.7)99 b(Performing)24 b(a)g(call)63
2802 y Fm(Line)e(22)290 2914 y Fs(At)e(long)h(last,)g(we)g(can)g(call)i
(the)d(object's)h Fh(echoString\(\))15 b Fs(operation.)27
b(Even)20 b(though)290 3027 y(the)37 b(object)h(is)h(local,)k(the)37
b(operation)g(goes)g(thr)n(ough)g(the)g(ORB)i(and)f(POA,)g(so)f(the)290
3140 y(types)25 b(of)j(the)e(ar)n(guments)h(can)h(be)f(checked,)g(and)h
(any)f(mutable)h(ar)n(guments)e(can)j(be)290 3253 y(copied.)52
b(This)31 b(ensur)n(es)f(that)h(the)f(semantics)h(of)g(local)i(and)e(r)
n(emote)f(calls)i(ar)n(e)g(iden-)290 3366 y(tical.)67
b(If)35 b(any)g(of)h(the)e(ar)n(guments)g(\(or)i(r)n(eturn)e(values\))i
(ar)n(e)f(of)h(the)e(wr)n(ong)g(type,)j(a)290 3479 y
Fh(CORBA.BAD_PARAM)16 b Fs(exception)21 b(is)i(raised.)63
3794 y Fp(2.5)119 b(Example)29 b(2)h(\227)f(Dif)n(ferent)e(Address)j
(Spaces)63 4011 y Fs(In)g(this)g(example,)j(the)c(client)i(and)g(the)f
(object)g(implementation)h(r)n(eside)f(in)h(two)f(dif)n(fer)n(ent)63
4124 y(addr)n(ess)19 b(spaces.)27 b(The)21 b(code)f(of)h(this)g
(example)g(is)h(almost)f(the)f(same)i(as)f(the)f(pr)n(evious)h(exam-)63
4237 y(ple.)26 b(The)20 b(only)g(dif)n(fer)n(ence)g(is)g(the)g(extra)f
(work)h(which)g(needs)f(to)g(be)h(done)f(to)h(pass)f(the)h(object)63
4350 y(r)n(efer)n(ence)i(fr)n(om)h(the)f(object)g(implementation)h(to)f
(the)f(client.)204 4465 y(The)e(simplest)g(\(and)h(quite)g(primitive\))
h(way)f(to)f(pass)g(an)i(object)f(r)n(efer)n(ence)f(between)f(two)63
4578 y(addr)n(ess)i(spaces)g(is)i(to)f(pr)n(oduce)f(a)i
Fr(stringi\002ed)i Fs(version)d(of)g(the)g(object)g(r)n(efer)n(ence)g
(and)g(to)g(pass)63 4691 y(this)i(string)g(to)h(the)f(client)i(as)f(a)g
(command-line)i(ar)n(gument.)31 b(The)24 b(string)f(is)h(then)f
(converted)63 4804 y(by)d(the)g(client)h(into)g(a)g(pr)n(oper)e(object)
i(r)n(efer)n(ence.)26 b(This)21 b(method)e(is)i(used)e(in)i(this)g
(example.)27 b(In)63 4917 y(the)g(next)g(example,)i(we)e(shall)i(intr)n
(oduce)e(a)i(better)d(way)i(of)g(passing)f(the)g(object)h(r)n(efer)n
(ence)63 5030 y(using)22 b(the)f(CORBA)i(Naming)g(Service.)63
5301 y Fk(2.5.1)99 b(Object)25 b(Implementation:)30 b(Making)24
b(a)h(Stringi\002ed)g(Object)g(Reference)p eop end
%%Page: 10 16
TeXDict begin 10 15 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(10)2093
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)362 539 y Fg(#!/usr)o(/bin)o
(/env)49 b(python)362 738 y Ff(import)g(sys)362 837 y(from)g(omniORB)g
(import)g(CORBA)o(,)g(PortableServer)362 937 y(import)g(Example)o(,)g
(Example__POA)362 1136 y(class)g(Echo_i)g(\(Example__POA)m(.Echo\):)562
1236 y(def)g(echoString)n(\(self)o(,)h(mesg)o(\):)761
1336 y(print)f(")o(echoString)o(\(\))g(called)g(with)g(message)o(:)o
(",)h(mesg)761 1435 y(return)e(mesg)362 1634 y(orb)i(=)f(CORBA)o
(.ORB_init)o(\()o(sys.argv)o(,)h(CORBA)o(.)o(ORB_ID)o(\))362
1734 y(poa)g(=)f(orb.)o(resolve_initial_references)l(\()o("RootPOA)o
("\))362 1933 y(ei)h(=)f(Echo_i)o(\(\))362 2033 y(eo)h(=)f(ei._this)o
(\(\))362 2232 y(print)g(orb.)o(object_to_string)m(\(eo\))362
2431 y(poaManager)f(=)i(poa)o(._get_the_POAManager)m(\(\))362
2531 y(poaManager)n(.activate)o(\(\))362 2730 y(orb.run)o(\(\))362
2896 y Fs(Up)24 b(until)h(line)g(18,)h(this)e(example)g(is)h(identical)
g(to)f(the)g(colocated)g(case.)33 b(On)25 b(line)g(18,)h(the)221
3009 y(ORB's)d Fh(object_to_stri)o(ng)o(\(\))16 b Fs(operation)22
b(is)h(called.)29 b(This)23 b(r)n(esults)e(in)j(a)f(string)f(starting)
221 3122 y(with)29 b(the)f(signatur)n(e)h(`IOR:')g(and)g(followed)f(by)
h(some)f(hexadecimal)i(digits.)46 b(All)30 b(CORBA)221
3235 y(2)e(compliant)g(ORBs)e(ar)n(e)i(able)g(to)e(convert)h(the)f
(string)h(into)f(its)h(internal)h(r)n(epr)n(esentation)d(of)221
3348 y(a)36 b(so-called)g(Inter)n(operable)d(Object)j(Refer)n(ence)e
(\(IOR\).)i(The)e(IOR)i(contains)f(the)f(location)221
3461 y(information)c(and)g(a)g(key)e(to)h(uniquely)g(identify)g(the)g
(object)g(implementation)g(in)h(its)g(own)221 3574 y(addr)n(ess)21
b(space)778 3541 y Fe(1)815 3574 y Fs(.)28 b(Fr)n(om)23
b(the)e(IOR,)i(an)g(object)f(r)n(efer)n(ence)g(can)i(be)e(constr)o
(ucted.)362 3688 y(After)34 b(the)f(POA)h(has)g(been)g(activated,)j
Fh(orb.run\(\))30 b Fs(is)k(called.)64 b(Since)34 b(omniORB)g(is)221
3801 y(fully)27 b(multi-thr)n(eaded,)g(it)g(is)g(not)f(actually)h
(necessary)f(to)g(call)i Fh(orb.run\(\))23 b Fs(for)j(operation)221
3913 y(dispatch)e(to)h(happen\227if)f(the)g(main)i(pr)n(ogram)e(had)h
(some)f(other)f(work)h(to)g(do,)g(it)h(could)g(do)221
4026 y(so,)34 b(and)e(r)n(emote)f(invocations)i(would)f(be)g
(dispatched)f(in)i(separate)e(thr)n(eads.)55 b(However)-7
b(,)221 4139 y(in)32 b(the)f(absence)g(of)g(anything)g(else)g(to)f(do,)
j Fh(orb.run\(\))27 b Fs(is)32 b(called)g(so)f(the)f(thr)n(ead)h
(blocks)221 4252 y(rather)20 b(than)h(exiting)f(immediately)h(when)f
(the)g(end-of-\002le)g(is)h(r)n(eached.)27 b Fh(orb.run\(\))16
b Fs(stays)221 4365 y(blocked)22 b(until)h(the)f(ORB)h(is)f(shut)g
(down.)221 4595 y Fk(2.5.2)99 b(Client:)31 b(Using)25
b(a)g(Stringi\002ed)g(Object)g(Reference)362 4812 y Fg(#!/usr)o(/bin)o
(/env)49 b(python)362 5011 y Ff(import)g(sys)362 5111
y(from)g(omniORB)g(import)g(CORBA)362 5210 y(import)g(Example)p
221 5306 1316 4 v 327 5362 a Fd(1)356 5394 y Fc(Notice)18
b(that)j(the)e(object)g(key)f(is)g(not)h(globally)f(unique)h(acr)o(oss)
e(addr)o(ess)g(spaces.)p eop end
%%Page: 11 17
TeXDict begin 11 16 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(2.5.)51
b(EXAMPLE)21 b(2)i(\227)f(DIFFERENT)e(ADDRESS)i(SP)-8
b(ACES)1060 b Fs(11)204 638 y Ff(orb)49 b(=)h(CORBA)o(.ORB_init)n
(\(sys)o(.argv)o(,)g(CORBA)o(.ORB_ID)o(\))204 837 y(ior)f(=)h(sys)o
(.argv)o([1])204 937 y(obj)f(=)h(orb)o(.string_to_object)m(\(ior)o(\))
204 1136 y(eo)f(=)h(obj)o(._narrow)o(\(Example)n(.Echo)o(\))204
1336 y(if)f(eo)h(is)f(None)o(:)403 1435 y(print)g("Object)f(reference)h
(is)g(not)g(an)h(Example)n(::Echo)o(")403 1535 y(sys)o(.exit\(1\))204
1734 y(message)e(=)i("Hello)f(from)g(Python)o(")204 1834
y(result)98 b(=)50 b(eo.)o(echoString)o(\()o(message)o(\))204
2033 y(print)f(")o(I)h(said)f('\045s'.)g(The)g(object)g(said)g
('\045s'.)o(")h(\045)f(\(message)o(,result)o(\))204 2224
y Fs(The)23 b(stringi\002ed)f(object)h(r)n(efer)n(ence)h(is)f(passed)f
(to)h(the)g(client)h(as)g(a)g(command-line)h(ar)n(gu-)63
2337 y(ment)270 2304 y Fe(2)306 2337 y Fs(.)38 b(The)25
b(client)h(uses)e(the)h(ORB's)h Fh(string_to_obje)o(ct)o(\(\))19
b Fs(function)26 b(to)f(convert)g(the)63 2450 y(string)c(into)i(a)g
(generic)f(object)g(r)n(efer)n(ence)g(\()p Fh(CORBA.Object)p
Fs(\).)204 2572 y(On)31 b(line)g(12,)i(the)d(object's)g
Fh(_narrow\(\))c Fs(function)31 b(is)f(called)i(to)e(convert)f(the)h
Fh(CORBA.)63 2685 y(Object)18 b Fs(r)n(efer)n(ence)h(into)i(an)f
Fh(Example.Echo)c Fs(r)n(efer)n(ence.)26 b(If)21 b(the)e(IOR)i(was)f
(not)g(actually)i(of)63 2798 y(type)f Fh(Example.Echo)p
Fs(,)c(or)22 b(something)f(derived)h(fr)n(om)h(it,)g
Fh(_narrow\(\))18 b Fs(r)n(eturns)k Fh(None)p Fs(.)204
2921 y(In)c(fact,)j(since)e(Python)e(is)i(a)h(dynamically-typed)e
(language,)i Fh(string_to_obje)o(ct)o(\(\))63 3034 y
Fs(is)35 b(often)f(able)i(to)e(r)n(eturn)g(an)h(object)g(r)n(efer)n
(ence)g(of)g(a)g(mor)n(e)g(derived)f(type)f(than)i Fh(CORBA.)63
3146 y(Object)p Fs(.)25 b(See)c(section)h(3.1)i(for)e(details.)63
3385 y Fk(2.5.3)99 b(System)24 b(exceptions)63 3581 y
Fs(The)d(keep)g(it)i(short,)e(the)g(client)i(code)f(shown)f(above)i
(performs)e(no)i(exception)e(handling.)28 b(A)63 3694
y(r)n(obust)19 b(client)i(\(and)f(server\))f(should)h(do,)f(since)h
(ther)n(e)g(ar)n(e)g(a)h(number)f(of)g(system)e(exceptions)63
3807 y(which)23 b(can)g(arise.)204 3929 y(As)17 b(alr)n(eady)i
(mentioned,)e Fh(ORB_init\(\))d Fs(can)19 b(raise)g(the)e
Fh(CORBA.INITIALIZ)o(E)12 b Fs(excep-)63 4042 y(tion)20
b(if)h(the)f(command)h(line)g(ar)n(guments)f(or)g(con\002guration)g
(\002le)g(ar)n(e)h(invalid.)29 b Fh(string_to_)63 4155
y(object\(\))g Fs(can)34 b(raise)g(two)e(exceptions:)47
b(if)34 b(the)f(string)f(is)h(not)g(an)h(IOR)f(\(or)g(a)h(valid)g(URI)
63 4268 y(with)21 b(omniORB)h(3\),)h(it)f(raises)f Fh(CORBA.BAD_PARAM)p
Fs(;)15 b(if)23 b(the)e(string)g(looks)g(like)h(an)g(IOR,)g(but)63
4381 y(contains)g(invalid)j(data,)d(is)h(raises)f Fh(CORBA.MARSHAL)p
Fs(.)204 4503 y(The)f(call)k(to)c Fh(echoString\(\))c
Fs(can)24 b(r)n(esult)d(in)i(any)g(of)f(the)g(CORBA)g(system)f
(exceptions,)63 4616 y(since)c(any)g(exceptions)f(not)g(caught)i(on)e
(the)h(server)f(side)h(ar)n(e)g(pr)n(opagated)f(back)i(to)f(the)f
(client.)63 4729 y(Even)29 b(if)h(the)f(implementation)h(of)g
Fh(echoString\(\))24 b Fs(does)k(not)h(raise)h(any)f(system)f(excep-)63
4842 y(tions)h(itself,)j(failur)n(es)f(in)g(invoking)f(the)g(operation)
f(can)i(cause)f(a)h(number)f(of)h(exceptions.)63 4955
y(First,)23 b(if)h(the)f(server)g(pr)n(ocess)f(cannot)i(be)g
(contacted,)f(a)h Fh(CORBA.TRANSIENT)17 b Fs(exception)22
b(is)63 5068 y(raised.)51 b(Second,)31 b(if)g(the)f(server)g(pr)n
(ocess)f Fr(can)h Fs(be)h(contacted,)g(but)g(the)f(object)g(in)h
(question)63 5181 y(does)21 b(not)h(exist)f(ther)n(e,)h(a)h
Fh(CORBA.OBJECT_NO)o(T_)o(EX)o(IS)o(T)17 b Fs(exception)k(is)i(raised.)
p 63 5306 1316 4 v 168 5362 a Fd(2)197 5394 y Fc(The)c(code)f(does)g
(not)h(check)g(that)h(ther)o(e)e(is)g(actually)h(an)h(IOR)e(on)h(the)h
(command)f(line!)p eop end
%%Page: 12 18
TeXDict begin 12 17 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(12)2093
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)362 539 y Fs(As)34
b(explained)f(later)h(in)h(section)e(3.1,)k(the)d(call)i(to)d
Fh(_narrow\(\))d Fs(may)k(also)h(involve)f(a)221 652
y(call)e(to)e(the)g(object)g(to)g(con\002rm)h(its)f(type.)50
b(This)30 b(means)g(that)h Fh(_narrow\(\))26 b Fs(can)31
b(also)g(raise)221 764 y Fh(CORBA.TRANSIENT)o Fs(,)16
b Fh(CORBA.OBJECT_NO)o(T_E)o(XI)o(ST)o Fs(,)g(and)22
b Fh(CORBA.COMM_FAILU)o(RE)o Fs(.)362 887 y(Section)d(4.7)h(describes)e
(how)h(exception)f(handlers)h(can)h(be)g(installed)f(for)g(all)i(the)e
(various)221 1000 y(system)i(exceptions,)g(to)h(avoid)h(surr)n(ounding)
e(all)j(code)e(with)g Fh(try)p Fs(.)14 b(.)g(.)g Fh(except)j
Fs(blocks.)221 1312 y Fk(2.5.4)99 b(Lifetime)24 b(of)h(a)g(CORBA)g
(object)221 1508 y Fs(CORBA)h(objects)e(ar)n(e)i(either)f
Fr(transient)h Fs(or)g Fr(persistent)p Fs(.)38 b(The)25
b(majority)h(ar)n(e)g(transient,)e(mean-)221 1621 y(ing)19
b(that)g(the)f(lifetime)i(of)f(the)f(CORBA)h(object)g(\(as)h(contacted)
e(thr)n(ough)g(an)i(object)e(r)n(efer)n(ence\))221 1734
y(is)27 b(the)f(same)g(as)h(the)f(lifetime)h(of)g(its)f(servant)g
(object.)40 b(Persistent)24 b(objects)i(can)i(live)f(beyond)221
1847 y(the)33 b(destr)o(uction)f(of)i(their)g(servant)f(object,)j(the)d
(POA)h(they)f(wer)n(e)g(cr)n(eated)g(in,)k(and)d(even)221
1960 y(their)24 b(pr)n(ocess.)33 b(Persistent)23 b(objects)h(ar)n(e,)h
(of)g(course,)f(only)g(contactable)h(when)f(their)h(associ-)221
2073 y(ated)19 b(servants)g(ar)n(e)i(active,)g(or)f(can)h(be)e
(activated)i(by)f(their)g(POA)g(with)g(a)g(servant)g(manager)3450
2040 y Fe(3)3487 2073 y Fs(.)221 2186 y(A)28 b(r)n(efer)n(ence)f(to)h
(a)g(persistent)e(object)i(can)h(be)f(published,)g(and)g(will)h(r)n
(emain)g(valid)h(even)d(if)221 2299 y(the)22 b(server)g(pr)n(ocess)f
(is)i(r)n(estarted.)362 2421 y(A)f(POA)-7 b('s)22 b(Lifespan)f(Policy)h
(determines)e(whether)g(objects)h(cr)n(eated)g(within)h(it)g(ar)n(e)g
(tran-)221 2534 y(sient)g(or)g(persistent.)k(The)21 b(Root)h(POA)h(has)
f(the)g Fh(TRANSIENT)d Fs(policy)-10 b(.)362 2656 y(An)33
b(alternative)g(to)e(cr)n(eating)i(persistent)d(objects)i(is)h(to)f(r)n
(egister)f(object)h(r)n(efer)n(ences)g(in)221 2769 y(a)26
b Fr(naming)g(service)i Fs(and)e(bind)g(them)f(to)g(\002xed)g
(pathnames.)37 b(Clients)26 b(can)g(bind)g(to)f(the)g(object)221
2882 y(implementations)17 b(at)h(r)o(untime)g(by)f(asking)g(the)g
(naming)h(service)g(to)f(r)n(esolve)g(the)g(pathnames)221
2995 y(to)33 b(the)g(object)h(r)n(efer)n(ences.)60 b(CORBA)34
b(de\002nes)d(a)k(standar)n(d)e(naming)h(service,)i(which)f(is)e(a)221
3108 y(component)26 b(of)g(the)h(Common)g(Object)g(Services)g(\(COS\))h
([OMG98)r(],)g(that)e(can)i(be)f(used)e(for)221 3221
y(this)17 b(purpose.)24 b(The)17 b(next)f(section)h(describes)f(an)i
(example)f(of)g(how)g(to)g(use)f(the)h(COS)h(Naming)221
3334 y(Service.)221 3690 y Fp(2.6)119 b(Example)30 b(3)f(\227)h(Using)g
(the)f(Naming)h(Service)221 3920 y Fs(In)e(this)g(example,)h(the)e
(object)h(implementation)g(uses)f(the)h(Naming)g(Service)g([OMG98)r(])h
(to)221 4033 y(pass)g(on)h(the)f(object)h(r)n(efer)n(ence)f(to)g(the)g
(client.)50 b(This)30 b(method)e(is)i(far)h(mor)n(e)e(practical)j(than)
221 4146 y(using)j(stringi\002ed)f(object)h(r)n(efer)n(ences.)66
b(The)34 b(full)j(listings)e(of)g(the)g(server)f(and)i(client)g(ar)n(e)
221 4259 y(below)-8 b(.)362 4381 y(The)30 b(names)g(used)f(by)h(the)f
(Naming)h(service)g(consist)g(of)g(a)h(sequence)d(of)i
Fr(name)h(compo-)221 4494 y(nents)p Fs(.)36 b(Each)26
b(name)g(component)e(has)h(an)h Fr(id)h Fs(and)e(a)h
Fr(kind)g Fs(\002eld,)g(both)f(of)g(which)h(ar)n(e)g(strings.)221
4607 y(All)f(name)g(components)d(except)h(the)g(last)i(one)e(ar)n(e)i
(bound)e(to)h Fr(naming)g(contexts)p Fs(.)34 b(A)24 b(naming)221
4720 y(context)i(is)i(analogous)f(to)g(a)h(dir)n(ectory)e(in)i(a)g
(\002ling)g(system:)36 b(it)28 b(can)g(contain)g(names)f(of)h(ob-)221
4833 y(ject)c(r)n(efer)n(ences)e(or)h(other)g(naming)h(contexts.)29
b(The)23 b(last)h(name)g(component)e(is)i(bound)f(to)g(an)221
4946 y(object)g(r)n(efer)n(ence.)362 5068 y(Sequences)g(of)j(name)f
(components)e(can)j(be)f(r)n(epr)n(esented)d(as)k(a)f(\003at)h(string,)
e(using)h(`.')36 b(to)221 5181 y(separate)29 b(the)h(id)g(and)g(kind)g
(\002elds,)h(and)f(`/')h(to)f(separate)f(name)h(components)f(fr)n(om)i
(each)p 221 5306 1316 4 v 327 5362 a Fd(3)356 5394 y
Fc(The)18 b(POA)h(itself)f(can)i(be)e(activated)i(on)f(demand)g(with)g
(an)h(adapter)e(activator)-6 b(.)p eop end
%%Page: 13 19
TeXDict begin 13 18 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(2.6.)51
b(EXAMPLE)21 b(3)i(\227)f(USING)g(THE)g(NAMING)f(SER)-5
b(VICE)1034 b Fs(13)63 539 y(other)276 506 y Fe(4)312
539 y Fs(.)34 b(In)24 b(our)h(example,)g(the)f(Echo)g(object)h(r)n
(efer)n(ence)f(is)h(bound)f(to)g(the)g(stringi\002ed)f(name)63
652 y(`)p Fh(test.my_context)o(/E)o(xa)o(mp)o(le)o(Ech)o(o.)o(Ob)o(je)o
(ct)o Fs('.)204 765 y(The)j(kind)h(\002eld)g(is)g(intended)f(to)g
(describe)h(the)f(name)i(in)f(a)h(syntax-independent)c(way)-10
b(.)63 878 y(The)24 b(naming)j(service)e(does)f(not)h(interpr)n(et,)f
(assign,)i(or)f(manage)h(these)d(values.)37 b(However)-7
b(,)63 990 y(both)28 b(the)g(name)i(and)f(the)f(kind)g(attribute)h
(must)f(match)i(for)f(a)h(name)f(lookup)f(to)g(succeed.)63
1103 y(In)34 b(this)h(example,)j(the)c(kind)h(values)g(for)g
Fh(test)e Fs(and)j Fh(ExampleEcho)30 b Fs(ar)n(e)35 b(chosen)f(to)h(be)
63 1216 y(`)p Fh(my_context)p Fs(')17 b(and)22 b(`)p
Fh(Object)p Fs(')d(r)n(espectively)-10 b(.)26 b(This)21
b(is)h(an)g(arbitrary)g(choice)f(as)h(ther)n(e)e(is)i(no)63
1329 y(standar)n(dised)f(set)g(of)i(kind)f(values.)63
1585 y Fk(2.6.1)99 b(Obtaining)25 b(the)g(Root)g(Context)g(object)h
(reference)63 1763 y Fs(The)21 b(initial)j(contact)f(with)f(the)f
(Naming)i(Service)f(can)h(be)g(established)e(via)j(the)d
Fr(r)n(oot)j Fs(context.)63 1875 y(The)33 b(object)g(r)n(efer)n(ence)g
(to)g(the)g(r)n(oot)g(context)g(is)g(pr)n(ovided)g(by)h(the)f(ORB)g
(and)h(can)h(be)e(ob-)63 1988 y(tained)25 b(by)h(calling)i
Fh(resolve_initia)o(l_)o(re)o(fer)o(en)o(ce)o(s\()o(\))p
Fs(.)k(The)25 b(following)h(code)f(frag-)63 2101 y(ment)d(shows)f(how)h
(it)h(is)g(used:)204 2251 y Ff(import)48 b(CosNaming)204
2351 y(orb)h(=)h(CORBA)o(.ORB_init)n(\(sys)o(.argv)o(,)g(CORBA)o
(.ORB_ID)o(\))204 2450 y(obj)f(=)h(orb)o(.resolve_initial_references)-5
b(\("NameService)n(")o(\);)204 2550 y(cxt)49 b(=)h(obj)o(._narrow)o(\()
o(CosNaming)o(.NamingContext)m(\))204 2713 y Fs(Remember)-7
b(,)31 b(omniORB)e(constr)o(ucts)g(its)g(internal)h(list)g(of)g
(initial)i(r)n(efer)n(ences)c(at)i(initial-)63 2826 y(isation)j(time)g
(using)f(the)g(information)h(pr)n(ovided)f(in)i(the)e(con\002guration)g
(\002le)h Fh(omniORB.)63 2939 y(cfg)p Fs(,)k(or)f(given)f(on)h(the)f
(command)h(line.)67 b(If)36 b(this)g(\002le)f(is)h(not)f(pr)n(esent,)i
(the)e(internal)h(list)63 3052 y(will)21 b(be)g(empty)e(and)h
Fh(resolve_initial)o(_r)o(efe)o(re)o(nc)o(es)o(\(\))14
b Fs(will)22 b(raise)e(a)h Fh(CORBA.ORB.)63 3165 y(InvalidName)c
Fs(exception.)204 3278 y(Note)k(that,)h(like)g Fh(string_to_objec)o
(t\()o(\))p Fs(,)16 b Fh(resolve_initial)o(_r)o(efe)o(re)o(nc)o(es)o
(\(\))63 3391 y Fs(r)n(eturns)23 b(base)h Fh(CORBA.Object)p
Fs(,)19 b(so)k(we)h(should)f(narr)n(ow)i(it)f(to)g(the)f(interface)i
(we)e(want.)33 b(In)63 3504 y(this)22 b(case,)g(we)g(want)h
Fh(CosNaming.Namin)o(gC)o(on)o(te)o(xt)2075 3471 y Fe(5)2107
3504 y Fs(.)63 3760 y Fk(2.6.2)99 b(The)25 b(Naming)f(Service)h
(interface)63 3937 y Fs(It)h(is)h(beyond)e(the)h(scope)f(of)i(this)g
(chapter)f(to)g(describe)g(in)h(detail)g(the)f(Naming)h(Service)g(in-)
63 4050 y(terface.)49 b(Y)-8 b(ou)29 b(should)f(consult)i(the)f(CORBA)g
(services)h(speci\002cation)g([OMG98)r(])g(\(chapter)63
4163 y(3\).)63 4419 y Fk(2.6.3)99 b(Server)24 b(code)63
4597 y Fs(Hopefully)-10 b(,)21 b(the)h(server)f(code)h(is)h
(self-explanatory:)204 4746 y Fg(#!/)o(usr/)o(bin/env)49
b(python)204 4846 y Ff(import)f(sys)p 63 4938 1316 4
v 168 4994 a Fd(4)197 5026 y Fc(Ther)o(e)25 b(ar)o(e)h(escaping)f(r)o
(ules)h(to)g(cope)g(with)h(id)e(and)i(kind)e(\002elds)g(which)j
(contain)f(`.')45 b(and)26 b(`/')g(characters.)63 5117
y(See)20 b(chapter)h(6)g(of)f(this)g(manual,)i(and)f(chapter)g(3)g(of)f
(the)h(CORBA)f(services)f(speci\002cation,)i(as)f(updated)g(for)g(the)
63 5209 y(Inter)o(operable)e(Naming)g(Service)h([OMG00].)168
5271 y Fd(5)197 5302 y Fc(If)h(you)f(ar)o(e)g(on-the-ball,)h(you)g
(will)f(have)h(noticed)g(that)h(we)f(didn't)f(call)h
Fb(_narrow\(\))e Fc(when)j(r)o(esolving)d(the)63 5394
y(Root)g(POA.)h(The)f(r)o(eason)g(it)h(is)f(safe)h(to)f(miss)g(it)h
(out)g(is)f(given)g(in)h(section)g(3.1.)p eop end
%%Page: 14 20
TeXDict begin 14 19 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(14)2093
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)362 539 y Ff(from)49
b(omniORB)g(import)g(CORBA)o(,)g(PortableServer)362 638
y(import)g(CosNaming)n(,)h(Example)o(,)f(Example__POA)362
837 y Fg(#)h(Define)f(an)g(implementation)e(of)j(the)f(Echo)g
(interface)362 937 y Ff(class)g(Echo_i)g(\(Example__POA)m(.Echo\):)562
1037 y(def)g(echoString)n(\(self)o(,)h(mesg)o(\):)761
1136 y(print)f(")o(echoString)o(\(\))g(called)g(with)g(message)o(:)o
(",)h(mesg)761 1236 y(return)e(mesg)362 1435 y Fg(#)i(Initialise)e(the)
h(ORB)g(and)h(find)f(the)g(root)g(POA)362 1535 y Ff(orb)h(=)f(CORBA)o
(.ORB_init)o(\()o(sys.argv)o(,)h(CORBA)o(.)o(ORB_ID)o(\))362
1634 y(poa)g(=)f(orb.)o(resolve_initial_references)l(\()o("RootPOA)o
("\))362 1834 y Fg(#)h(Create)f(an)g(instance)f(of)i(Echo_i)f(and)g(an)
g(Echo)g(object)g(reference)362 1933 y Ff(ei)h(=)f(Echo_i)o(\(\))362
2033 y(eo)h(=)f(ei._this)o(\(\))362 2232 y Fg(#)h(Obtain)f(a)g
(reference)f(to)i(the)f(root)g(naming)g(context)362 2332
y Ff(obj)448 b(=)50 b(orb)o(.resolve_initial_references)-5
b(\("NameService)n(")o(\))362 2431 y(rootContext)48 b(=)i(obj)o
(._narrow)o(\()o(CosNaming)o(.NamingContext)m(\))362
2631 y(if)g(rootContext)d(is)j(None)o(:)562 2730 y(print)e("Failed)h
(to)g(narrow)g(the)g(root)g(naming)g(context)o(")562
2830 y(sys)o(.exit)o(\(1\))362 3029 y Fg(#)h(Bind)f(a)h(context)e
(named)h("test)o(.my_context)n(")h(to)f(the)g(root)g(context)362
3129 y Ff(name)g(=)h([CosNaming)n(.NameComponent)n(\()o("test)o(",)g
("my_context)n("\)])362 3229 y(try:)562 3328 y(testContext)d(=)j
(rootContext)n(.bind_new_context)m(\(name)o(\))562 3428
y(print)e("New)h(test)h(context)e(bound)o(")362 3627
y(except)h(CosNaming)n(.NamingContext)n(.AlreadyBound)m(,)h(ex:)562
3727 y(print)e("Test)h(context)g(already)f(exists)o(")562
3826 y(obj)h(=)g(rootContext)n(.resolve)o(\(name)o(\))562
3926 y(testContext)e(=)j(obj)o(._narrow)o(\(CosNaming)n(.NamingContext)
m(\))562 4026 y(if)f(testContext)f(is)h(None)o(:)761
4125 y(print)g(")o(test.mycontext)f(exists)g(but)i(is)f(not)g(a)h
(NamingContext)n(")p 3550 4155 42 100 v 761 4225 a(sys)o(.exit)o(\(1\))
362 4424 y Fg(#)g(Bind)f(the)g(Echo)g(object)g(to)g(the)h(test)f
(context)362 4524 y Ff(name)g(=)h([CosNaming)n(.NameComponent)n(\()o
("ExampleEcho)n(",)g(")o(Object)o("\)])362 4623 y(try:)562
4723 y(testContext)m(.bind\()o(name,)f(eo\))562 4823
y(print)f("New)h(ExampleEcho)f(object)h(bound)o(")362
5022 y(except)g(CosNaming)n(.NamingContext)n(.AlreadyBound)m(:)562
5121 y(testContext)m(.rebind)o(\(name)o(,)h(eo\))562
5221 y(print)e("ExampleEcho)g(binding)h(already)f(existed)h(--)g
(rebound)o(")p eop end
%%Page: 15 21
TeXDict begin 15 20 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(2.6.)51
b(EXAMPLE)21 b(3)i(\227)f(USING)g(THE)g(NAMING)f(SER)-5
b(VICE)1034 b Fs(15)204 539 y Fg(#)49 b(Activate)g(the)g(POA)204
638 y Ff(poaManager)f(=)h(poa._get_the_POAManager)l(\(\))204
738 y(poaManager)n(.activate)n(\(\))204 937 y Fg(#)g(Block)g(for)h
(ever)f(\()o(or)h(until)f(the)g(ORB)g(is)h(shut)f(down)o(\))204
1037 y Ff(orb)o(.run)o(\(\))63 1324 y Fk(2.6.4)99 b(Client)25
b(code)63 1501 y Fs(Hopefully)c(the)h(client)h(code)f(is)h
(self-explanatory)f(too:)204 1639 y Fg(#!/)o(usr/)o(bin/env)49
b(python)204 1739 y Ff(import)f(sys)204 1838 y(from)h(omniORB)f(import)
h(CORBA)204 1938 y(import)f(CosNaming)o(,)h(Example)204
2137 y Fg(#)g(Initialise)f(the)i(ORB)204 2237 y Ff(orb)f(=)h(CORBA)o
(.ORB_init)n(\(sys)o(.argv)o(,)g(CORBA)o(.ORB_ID)o(\))204
2436 y Fg(#)f(Obtain)g(a)h(reference)e(to)h(the)h(root)f(naming)f
(context)204 2536 y Ff(obj)448 b(=)49 b(orb.)o
(resolve_initial_references)l(\()o("NameService)n("\))204
2635 y(rootContext)f(=)h(obj.)o(_narrow)o(\(CosNaming)n(.NamingContext)
n(\))204 2835 y(if)g(rootContext)f(is)h(None:)403 2934
y(print)g("Failed)f(to)i(narrow)f(the)g(root)g(naming)g(context)n(")403
3034 y(sys)o(.exit\(1\))204 3233 y Fg(#)g(Resolve)g(the)g(name)g("test)
o(.my_context)n(/ExampleEcho)n(.Object)o(")204 3333 y
Ff(name)g(=)g([CosNaming)o(.)o(NameComponent)n(\("test)o(",)g
("my_context)n("\),)602 3432 y(CosNaming)o(.)o(NameComponent)n
(\("ExampleEcho)n(")o(,)h("Object)o("\)])204 3532 y(try)o(:)403
3632 y(obj)f(=)h(rootContext)n(.resolve)n(\(name)o(\))204
3831 y(except)e(CosNaming)o(.NamingContext)m(.NotFound)o(,)h(ex:)403
3931 y(print)g("Name)g(not)g(found)o(")403 4030 y(sys)o(.exit\(1\))204
4229 y Fg(#)g(Narrow)g(the)g(object)g(to)h(an)f(Example)o(::)o(Echo)204
4329 y Ff(eo)g(=)h(obj)o(._narrow)o(\(Example)n(.Echo)o(\))204
4528 y(if)f(eo)h(is)f(None)o(:)403 4628 y(print)g("Object)f(reference)h
(is)g(not)g(an)h(Example)n(::Echo)o(")403 4728 y(sys)o(.exit\(1\))204
4927 y Fg(#)f(Invoke)g(the)g(echoString)f(operation)204
5026 y Ff(message)g(=)i("Hello)f(from)g(Python)o(")204
5126 y(result)98 b(=)50 b(eo.)o(echoString)o(\()o(message)o(\))204
5325 y(print)f(")o(I)h(said)f('\045s'.)g(The)g(object)g(said)g
('\045s'.)o(")h(\045)f(\(message)o(,result)o(\))p eop
end
%%Page: 16 22
TeXDict begin 16 21 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(16)2093
b Fj(CHAPTER)21 b(2.)51 b(THE)22 b(BASICS)221 539 y Fp(2.7)119
b(Global)30 b(IDL)f(de\002nitions)221 750 y Fs(As)18
b(we)f(have)h(seen,)g(the)f(Python)f(mapping)i(maps)g(IDL)g(modules)f
(to)g(Python)g(packages)g(with)221 862 y(the)23 b(same)h(name.)31
b(This)23 b(poses)f(a)i(pr)n(oblem)g(for)f(IDL)h(declarations)f(at)h
(global)h(scope.)k(Global)221 975 y(declarations)j(ar)n(e)g(generally)f
(a)h(bad)h(idea)e(since)h(they)e(make)i(name)g(clashes)g(mor)n(e)f
(likely)-10 b(,)221 1088 y(but)23 b(they)e(must)h(be)h(supported.)362
1201 y(Since)35 b(Python)e(does)f(not)i(have)h(a)g(concept)e(of)h(a)h
(global)h(scope)d(\(only)h(a)h(per)n(-module)221 1314
y(global)26 b(scope,)f(which)h(is)f(danger)n(ous)f(to)g(modify\),)i
(global)g(declarations)g(ar)n(e)f(mapped)g(to)f(a)221
1427 y(specially)d(named)f(Python)f(package.)27 b(By)19
b(default,)h(this)g(package)g(is)h(named)f Fh(_GlobalIDL)p
Fs(,)221 1540 y(with)31 b(skeletons)d(in)j Fh(_GlobalIDL__POA)p
Fs(.)24 b(The)30 b(package)h(name)g(may)g(be)g(changed)f(with)221
1653 y(omniidl's)h Fh(-Wbglobal)26 b Fs(option,)k(described)f(in)h
(section)f(5.2.)51 b(The)29 b(omniORB)h(C++)g(Echo)221
1766 y(example,)22 b(with)h(IDL:)362 1915 y Ff(interface)48
b(Echo)h({)462 2015 y(string)g(echoString)n(\(in)g(string)g(mesg)o(\);)
362 2114 y(};)221 2277 y Fs(can)24 b(ther)n(efor)n(e)d(be)i(supported)c
(with)k(code)e(like)362 2427 y Fg(#!/usr)o(/bin)o(/env)49
b(python)362 2626 y Ff(import)g(sys)362 2725 y(from)g(omniORB)g(import)
g(CORBA)362 2825 y(import)g(_GlobalIDL)362 3024 y(orb)h(=)f(CORBA)o
(.ORB_init)o(\()o(sys.argv)o(,)h(CORBA)o(.)o(ORB_ID)o(\))362
3224 y(ior)g(=)f(sys.)o(argv[1])362 3323 y(obj)h(=)f(orb.)o
(string_to_object)m(\(ior\))362 3423 y(eo)100 b(=)49
b(obj.)o(_narrow)o(\(_GlobalIDL)n(.Echo)o(\))362 3622
y(message)g(=)g("Hello)g(from)g(Python)o(")362 3722 y(result)99
b(=)49 b(eo.echoString)n(\(message)o(\))362 3821 y(print)g("I)h(said)f
('\045)o(s'.)h(The)f(object)g(said)g('\045)o(s'")g(\045)h(\(message)o
(,)o(result)o(\))p eop end
%%Page: 17 23
TeXDict begin 17 22 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1162 a Fl(Chapter)44
b(3)63 1578 y Fn(Python)51 b(language)i(mapping)f(issues)63
2038 y Fs(omniORBpy)30 b(adher)n(es)g(to)g(the)g(standar)n(d)h(Python)e
(mapping)i([OMG01b)r(],)j(so)c(ther)n(e)g(is)h(no)63
2151 y(need)18 b(to)h(describe)f(the)h(mapping)g(her)n(e.)27
b(This)19 b(chapter)g(outlines)f(a)i(number)g(of)f(issues)f(which)63
2264 y(ar)n(e)25 b(not)g(addr)n(essed)e(by)i(the)g(standar)n(d)g(\(or)g
(ar)n(e)h(optional\),)g(and)f(how)g(they)f(ar)n(e)i(r)n(esolved)e(in)63
2377 y(omniORBpy)-10 b(.)63 2682 y Fp(3.1)119 b(Narrowing)28
b(object)i(references)63 2895 y Fs(As)20 b(explained)h(in)h(chapter)f
(2,)h(whenever)e(you)g(r)n(eceive)i(an)g(object)f(r)n(efer)n(ence)g
(declar)n(ed)g(to)g(be)63 3008 y(base)34 b Fh(CORBA::Object)p
Fs(,)e(such)i(as)h(fr)n(om)g Fh(NamingContext::r)o(es)o(ol)o(ve)o(\(\))
28 b Fs(or)35 b Fh(ORB::)63 3120 y(string_to_obje)o(ct)o(\(\))o
Fs(,)16 b(you)21 b(should)f(narr)n(ow)i(the)e(r)n(efer)n(ence)h(to)g
(the)f(type)g(you)h(r)n(equir)n(e.)63 3233 y(Y)-8 b(ou)32
b(might)h(think)f(that)h(since)g(Python)f(is)i(a)f(dynamically)i(typed)
c(language,)36 b(narr)n(owing)63 3346 y(should)27 b(never)h(be)h
(necessary)-10 b(.)44 b(Unfortunately)-10 b(,)28 b(although)g
(omniORBpy)g(often)g(generates)63 3459 y(object)22 b(r)n(efer)n(ences)g
(with)g(the)g(right)g(types,)f(it)h(cannot)h(do)f(so)g(in)h(all)h(cir)n
(cumstances.)204 3573 y(The)h(r)o(ules)g(which)i(govern)e(when)g(narr)n
(owing)h(is)g(r)n(equir)n(ed)f(ar)n(e)h(quite)f(complex.)38
b(T)-8 b(o)25 b(be)63 3686 y(totally)d(safe,)h(you)f(can)h
Fr(always)i Fs(narr)n(ow)d(object)h(r)n(efer)n(ences)f(to)g(the)g(type)
f(you)h(ar)n(e)h(expecting.)63 3799 y(The)28 b(advantages)g(of)h(this)f
(appr)n(oach)h(ar)n(e)g(that)g(it)g(is)f(simple)h(and)g(that)f(it)h(is)
g(guaranteed)e(to)63 3912 y(work)21 b(with)i(all)h(Python)d(ORBs.)204
4026 y(The)26 b(disadvantage)g(with)g(calling)i(narr)n(ow)f(for)f(all)i
(r)n(eceived)e(object)h(r)n(efer)n(ences)e(is)i(that)63
4139 y(much)c(of)h(the)e(time)h(it)h(is)f(guaranteed)f(not)g(to)h(be)g
(necessary)-10 b(.)28 b(If)23 b(you)g(understand)e(the)h(situa-)63
4251 y(tions)g(in)h(which)g(narr)n(owing)f Fr(is)i Fs(necessary)-10
b(,)21 b(you)g(can)j(avoid)f(spurious)e(narr)n(owing.)63
4512 y Fk(3.1.1)99 b(The)25 b(gory)g(details)63 4691
y Fs(When)20 b(object)g(r)n(efer)n(ences)g(ar)n(e)h(transmitted)e(\(or)
i(stor)n(ed)e(in)i(stringi\002ed)e(IORs\),)i(they)e(contain)63
4804 y(a)24 b(single)g(type)f(identi\002er)g(string,)h(termed)f(the)g
Fr(r)n(epository)29 b(id)p Fs(.)k(Normally)-10 b(,)25
b(the)e(r)n(epository)f(id)63 4917 y(r)n(epr)n(esents)c(the)i(most)f
(derived)h(interface)h(of)g(the)e(object.)27 b(However)-7
b(,)20 b(it)h(is)f(also)h(permitted)e(to)63 5030 y(be)k(the)g(empty)f
(string,)h(or)g(to)g(r)n(efer)h(to)f(an)h(interface)g(higher)f(up)g
(the)g(inheritance)g(hierar)n(chy)-10 b(.)63 5143 y(T)i(o)21
b(give)i(a)g(concr)n(ete)f(example,)g(suppose)f(ther)n(e)g(ar)n(e)i
(two)f(IDL)g(\002les:)204 5294 y Fg(//)49 b(a.idl)204
5394 y Ff(module)f(M1)i({)1662 5622 y Fs(17)p eop end
%%Page: 18 24
TeXDict begin 18 23 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(18)878
b Fj(CHAPTER)21 b(3.)51 b(PYTHON)22 b(LANGUAGE)f(MAPPING)h(ISSUES)462
539 y Ff(interface)48 b(A)i({)562 638 y(void)f(opA)o(\(\);)462
738 y(};)362 837 y(};)362 1024 y Fg(//)h(b.)o(idl)362
1123 y Ff(#include)f(")o(a.idl)o(")362 1223 y(module)g(M2)g({)462
1323 y(interface)f(B)i(:)f(M1::A)g({)562 1422 y(void)g(opB)o(\(\);)462
1522 y(};)362 1621 y(};)221 1778 y Fs(A)31 b(r)n(efer)n(ence)g(to)g(an)
h(object)g(with)f(interface)h Fh(B)f Fs(will)i(normally)f(contain)g
(the)f(r)n(epository)e(id)221 1891 y(`)p Fh(IDL:M2/B:1.0)p
Fs(')931 1858 y Fe(1)964 1891 y Fs(.)47 b(It)28 b(is)h(also)g
(permitted)f(to)g(have)h(an)h(empty)e(r)n(epository)f(id,)j(or)f(the)f
(id)221 2003 y(`)p Fh(IDL:M1/A:1.0)p Fs('.)h(`)p Fh(IDL:M1/A:1.0)p
Fs(')19 b(is)25 b(unlikely)f(unless)g(the)f(server)h(is)g(being)h
(deliber)n(-)221 2116 y(ately)e(obtuse.)362 2229 y(Whenever)32
b(omniORBpy)g(r)n(eceives)g(an)i(object)e(r)n(efer)n(ence)h(fr)n(om)g
(somewher)n(e\227either)221 2342 y(as)27 b(a)h(r)n(eturn)e(value)h(or)g
(as)g(an)g(operation)f(ar)n(gument\227it)h(has)g(a)g(particular)h
Fr(tar)n(get)i Fs(interface)221 2455 y(in)24 b(mind,)f(which)h(it)g
(compar)n(es)f(with)g(the)g(r)n(epository)e(id)j(it)f(has)g(r)n
(eceived.)30 b(A)23 b(tar)n(get)g(of)g(base)221 2568
y Fh(CORBA::Object)17 b Fs(is)23 b(just)f(one)g(\(common\))h(case.)28
b(For)21 b(example,)i(in)g(the)f(following)h(IDL:)362
2711 y Fg(//)50 b(c.)o(idl)362 2811 y Ff(#include)f(")o(a.idl)o(")362
2910 y(module)g(M3)g({)462 3010 y(interface)f(C)i({)562
3109 y(Object)e(getObj)o(\(\);)562 3209 y(M1)o(::A)99
b(getA)o(\(\);)462 3309 y(};)362 3408 y(};)221 3565 y
Fs(the)20 b(tar)n(get)g(interface)h(for)f Fh(getObj)p
Fs('s)e(r)n(eturn)i(value)h(is)g Fh(CORBA::Object)p Fs(;)15
b(the)20 b(tar)n(get)g(inter)n(-)221 3677 y(face)k(for)e
Fh(getA)p Fs('s)f(r)n(eturn)h(value)h(is)g Fh(M1::A)p
Fs(.)362 3790 y(omniORBpy)33 b(uses)f(the)h(r)n(esult)g(of)g(comparing)
h(the)f(r)n(eceived)g(and)g(tar)n(get)g(r)n(epository)221
3903 y(ids)22 b(to)g(determine)f(the)h(type)f(of)h(the)g(object)g(r)n
(efer)n(ence)g(it)h(cr)n(eates.)k(The)22 b(object)g(r)n(efer)n(ence)g
(has)221 4016 y(either)g(the)g(type)f(of)h(the)g(r)n(eceived)h(r)n
(efer)n(ence,)e(or)i(the)e(tar)n(get)h(type,)f(accor)n(ding)i(to)f
(this)h(table:)494 4209 y Fm(Case)p 2847 4243 4 113 v
2209 w(Objref)g(T)-8 b(ype)p 444 4246 2844 4 v 494 4325
a Fs(1.)99 b(The)22 b(r)n(eceived)h(id)f(is)h(the)f(same)h(as)f(the)g
(tar)n(get)g(id)p 2847 4359 4 113 v 536 w(r)n(eceived)p
444 4363 2844 4 v 494 4442 a(2.)99 b(The)31 b(r)n(eceived)h(id)f(is)h
(not)f(the)g(same)g(as)h(the)f(tar)n(get)g(id,)i(but)661
4555 y(the)26 b(ORB)g(knows)e(that)i(the)f(r)n(eceived)h(interface)g
(is)g(derived)661 4667 y(fr)n(om)e(the)d(tar)n(get)h(interface)p
2847 4701 4 339 v 2899 4442 a(r)n(eceived)p 444 4705
2844 4 v 494 4784 a(3.)99 b(The)22 b(r)n(eceived)h(id)f(is)h(unknown)e
(to)h(the)g(ORB)p 2847 4818 4 113 v 658 w(tar)n(get)p
444 4821 2844 4 v 494 4900 a(4.)99 b(The)30 b(r)n(eceived)f(id)h(is)g
(not)g(the)f(same)g(as)h(the)g(tar)n(get)f(id,)i(and)661
5013 y(the)f(ORB)f(knows)g(that)h(the)f(r)n(eceived)g(interface)i(is)f
Fr(not)g Fs(de-)661 5126 y(rived)23 b(fr)n(om)g(the)f(tar)n(get)g
(interface)p 2847 5160 4 339 v 2899 4900 a(tar)n(get)p
221 5215 1316 4 v 327 5271 a Fd(1)356 5302 y Fc(It)h(is)g(possible)f
(to)i(change)g(the)g(r)o(epository)c(id)j(strings)f(associated)h(with)h
(particular)f(interfaces)g(using)g(the)221 5394 y Fb(ID)p
Fc(,)18 b Fb(version)g Fc(and)h Fb(prefix)f Fc(pragmas.)p
eop end
%%Page: 19 25
TeXDict begin 19 24 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(3.2.)51
b(SUPPOR)m(T)21 b(FOR)i(ANY)f(V)-10 b(ALUES)1782 b Fs(19)204
539 y(Cases)28 b(1)i(and)f(2)h(ar)n(e)f(the)f(most)g(common.)47
b(Case)30 b(2)f(explains)g(why)g(it)g(is)g(not)f(necessary)63
652 y(to)g(narr)n(ow)g(the)g(r)n(esult)g(of)h(calling)i
Fh(resolve_initia)o(l_)o(re)o(fe)o(ren)o(ce)o(s\()o("R)o(oo)o(tPO)o(A")
o(\))p Fs(:)63 764 y(the)23 b(r)n(eturn)h(is)g(always)h(of)f(the)f
(known)h(type)e Fh(PortableServer.P)o(OA)o Fs(,)c(which)25
b(is)g(derived)63 877 y(fr)n(om)e(the)f(tar)n(get)f(type)h(of)g
Fh(CORBA.Object)p Fs(.)204 990 y(Case)28 b(3)h(is)f(also)g(quite)g
(common.)45 b(Suppose)25 b(a)k(client)g(knows)d(about)i(IDL)g(modules)f
Fh(M1)63 1103 y Fs(and)h Fh(M3)g Fs(fr)n(om)h(above,)h(but)e(not)g
(module)g Fh(M2)p Fs(.)45 b(When)28 b(it)g(calls)i Fh(getA\(\))c
Fs(on)i(an)h(instance)g(of)63 1216 y Fh(M3::C)p Fs(,)18
b(the)h(r)n(eturn)h(value)h(may)g(validly)h(be)e(of)h(type)d
Fh(M2::B)p Fs(,)g(which)j(it)g(does)e(not)h(know)-8 b(.)25
b(By)63 1329 y(cr)n(eating)e(an)h(object)f(r)n(efer)n(ence)g(of)h(type)
d Fh(M1::A)h Fs(in)h(this)g(case,)h(the)e(client)i(is)g(still)g(able)g
(to)f(call)63 1442 y(the)e(object's)h Fh(opA\(\))d Fs(operation.)27
b(On)22 b(the)g(other)e(hand,)i(if)h Fh(getObj\(\))18
b Fs(r)n(eturns)j(an)i(object)f(of)63 1555 y(type)e Fh(M2::B)p
Fs(,)f(the)i(ORB)h(will)h(cr)n(eate)e(a)i(r)n(efer)n(ence)e(to)g(base)g
Fh(CORBA::Object)p Fs(,)16 b(since)22 b(that)f(is)63
1668 y(the)g(tar)n(get)h(type.)204 1781 y(Note)i(that)i(the)g(ORB)f
Fr(never)j Fs(r)n(ejects)d(an)i(object)f(r)n(efer)n(ence)f(due)g(to)h
(it)g(having)h(the)e(wr)n(ong)63 1894 y(type.)33 b(Even)25
b(if)h(it)f(knows)f(that)h(the)f(r)n(eceived)h(id)g(is)g(not)g(derived)
f(fr)n(om)i(the)e(tar)n(get)g(interface)63 2006 y(\(case)i(4\),)i(it)f
(might)f(be)g(the)g(case)g(that)g(the)g(object)g(actually)i(has)e(a)h
(mor)n(e)f(derived)g(interface,)63 2119 y(which)c(is)f(derived)f(fr)n
(om)i(both)f(the)g(type)e(it)j(is)f(claiming)j(to)d(be)g
Fr(and)h Fs(the)e(tar)n(get)h(type.)26 b(That)21 b(is,)63
2232 y(of)h(course,)g(extr)n(emely)f(unlikely)-10 b(.)204
2345 y(In)17 b(cases)g(3)h(and)g(4,)g(the)f(ORB)h(con\002rms)f(the)f
(type)g(of)i(the)f(object)g(by)g(calling)j Fh(_is_a\(\))14
b Fs(just)63 2458 y(befor)n(e)25 b(the)h(\002rst)f(invocation)i(on)e
(the)h(object.)38 b(If)26 b(it)g(turns)f(out)g(that)h(the)f(object)h
(is)g(not)f(of)h(the)63 2571 y(right)i(type)f(after)i(all,)i(the)d
Fh(CORBA.INV_OBJRE)o(F)22 b Fs(exception)28 b(is)h(raised.)45
b(The)28 b(alternative)63 2684 y(to)d(this)g(appr)n(oach)h(would)f(be)h
(to)f(check)g(the)g(types)e(of)j(object)f(r)n(efer)n(ences)g(when)g
(they)f(wer)n(e)63 2797 y(r)n(eceived,)j(rather)f(than)h(waiting)g
(until)g(the)f(\002rst)g(invocation.)42 b(That)26 b(would)h(be)f(inef)n
(\002cient,)63 2910 y(however)-7 b(,)35 b(since)f(it)g(is)g(quite)f
(possible)h(that)f(a)i(r)n(eceived)e(object)h(r)n(efer)n(ence)f(will)i
(never)f(be)63 3023 y(used.)26 b(It)c(may)h(also)g(cause)f(objects)g
(to)g(be)h(activated)g(earlier)g(than)g(expected.)204
3136 y(In)e(summary)-10 b(,)21 b(whenever)e(your)i(code)f(r)n(eceives)h
(an)g(object)g(r)n(efer)n(ence,)g(you)f(should)g(bear)63
3248 y(in)27 b(mind)h(what)f(omniORBpy's)f(idea)i(of)f(the)f(tar)n(get)
h(type)e(is.)42 b(Y)-8 b(ou)26 b(must)h(not)f(assume)h(that)63
3361 y(the)c(ORB)g(will)i(always)f(corr)n(ectly)g(\002gur)n(e)e(out)h
(a)i(mor)n(e)e(derived)g(type)f(than)i(the)e(tar)n(get.)31
b(One)63 3474 y(consequence)21 b(of)j(this)f(is)h(that)f(you)g(must)g
(always)h(narr)n(ow)g(a)g(plain)g Fh(CORBA::Object)18
b Fs(to)23 b(a)63 3587 y(mor)n(e)f(speci\002c)h(type)e(befor)n(e)h
(invoking)h(on)f(it)1655 3554 y Fe(2)1693 3587 y Fs(.)28
b(Y)-8 b(ou)22 b Fr(can)g Fs(assume)g(that)h(the)f(object)g(r)n(efer)n
(ence)63 3700 y(you)g(r)n(eceive)h(is)h(of)f(the)f(tar)n(get)h(type,)f
(or)g(something)g(derived)g(fr)n(om)i(it,)g(although)e(the)h(object)63
3813 y(it)36 b(r)n(efers)f(to)g(may)i(turn)e(out)g(to)g(be)h(invalid.)
70 b(The)35 b(fact)i(that)f(omniORBpy)f(often)g Fr(is)i
Fs(able)63 3926 y(\002gur)n(e)17 b(out)h(a)g(mor)n(e)g(derived)g(type)e
(than)j(the)e(tar)n(get)g(is)i(only)f(useful)f(when)h(using)f(the)h
(Python)63 4039 y(interactive)23 b(command)g(line.)63
4335 y Fp(3.2)119 b(Support)29 b(for)h(Any)g(values)63
4546 y Fs(In)h(statically)h(typed)e(languages,)i(such)f(as)h(C++,)i
(Anys)c(can)j(only)e(be)g(used)f(with)h(built-in)63 4659
y(types)15 b(and)j(IDL-declar)n(ed)f(types)f(for)i(which)g(stubs)f
(have)h(been)f(generated.)24 b(If,)18 b(for)g(example,)63
4772 y(a)h(C++)g(pr)n(ogram)f(r)n(eceives)h(an)g(Any)f(containing)g(a)i
(str)o(uct)d(for)i(which)g(it)g(does)e(not)g(have)i(static)63
4885 y(knowledge,)j(it)j(cannot)g(easily)g(extract)f(the)g(str)o(uct)g
(contents.)32 b(The)24 b(only)h(solution)f(is)g(to)h(use)63
4998 y(the)c(inconvenient)i(DynAny)f(interface.)204 5111
y(Since)k(Python)e(is)i(a)h(dynamically)g(typed)d(language,)i(it)g
(does)e(not)i(have)g(this)f(dif)n(\002culty)-10 b(.)63
5223 y(When)22 b(omniORBpy)g(r)n(eceives)h(an)g(Any)g(containing)g
(types)e(it)i(does)e(not)i(know)-8 b(,)21 b(it)i(is)g(able)h(to)p
63 5306 1316 4 v 168 5362 a Fd(2)197 5394 y Fc(Unless)18
b(you)g(ar)o(e)g(invoking)h(pseudo)e(operations)h(like)g
Fb(_is_a\(\))f Fc(and)j Fb(_non_existent\(\))p Fc(.)p
eop end
%%Page: 20 26
TeXDict begin 20 25 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(20)878
b Fj(CHAPTER)21 b(3.)51 b(PYTHON)22 b(LANGUAGE)f(MAPPING)h(ISSUES)221
539 y Fs(cr)n(eate)f(new)f(Python)g(types)f(which)i(behave)g(exactly)g
(as)g(if)h(ther)n(e)e(wer)n(e)g(statically)i(generated)221
652 y(stubs)27 b(available.)48 b(Note)27 b(that)h(this)f(behaviour)i
(is)f(not)g(r)n(equir)n(ed)g(by)g(the)f(Python)g(mapping)221
764 y(speci\002cation,)c(so)f(other)f(Python)g(ORBs)h(may)h(not)f(be)h
(so)e(accommodating.)362 877 y(The)32 b(equivalent)h(of)g(DynAny)f(cr)n
(eation)h(can)h(be)f(achieved)g(by)g(dynamically)h(writing)221
990 y(and)23 b(importing)f(new)g(IDL,)g(as)h(described)e(in)i(section)f
(4.9.)362 1103 y(Ther)n(e)38 b(is,)43 b(however)-7 b(,)41
b(a)e(minor)g(\003y)g(in)g(the)f(ointment)g(when)f(it)i(comes)f(to)g(r)
n(eceiving)221 1216 y(Anys.)47 b(When)28 b(an)i(Any)e(is)i
(transmitted,)f(it)g(is)h(sent)e(as)h(a)h(T)-8 b(ypeCode)27
b(followed)h(by)h(the)g(ac-)221 1329 y(tual)23 b(value.)28
b(Normally)-10 b(,)22 b(the)f(T)-8 b(ypeCodes)19 b(for)j(entities)f
(with)h(names\227members)f(of)g(str)o(ucts,)221 1442
y(for)34 b(example\227contain)g(those)e(names)i(as)g(strings.)60
b(That)33 b(permits)g(omniORBpy)g(to)g(cr)n(e-)221 1555
y(ate)g(types)f(with)i(the)e(corr)n(esponding)g(names.)61
b(Unfortunately)-10 b(,)34 b(the)f(GIOP)h(speci\002cation)221
1668 y(permits)f(T)-8 b(ypeCodes)32 b(to)h(be)i(sent)d(with)j(empty)e
(strings)f(wher)n(e)i(the)f(names)h(would)g(nor)n(-)221
1781 y(mally)d(be.)49 b(In)29 b(this)g(situation,)i(the)d(types)g
(which)i(omniORBpy)f(cr)n(eates)g(cannot)h(be)f(given)221
1894 y(the)e(corr)n(ect)h(names.)44 b(The)28 b(contents)e(of)i(all)i
(types)c(except)h(str)o(ucts)g(and)h(exceptions)e(can)j(be)221
2006 y(accessed)k(without)h(having)h(to)e(know)h(their)g(names,)i(thr)n
(ough)d(the)h(standar)n(d)g(interfaces.)221 2119 y(Unknown)22
b(str)o(ucts,)h(exceptions)e(and)j(valuetypes)e(r)n(eceived)h(by)h
(omniORBpy)f(have)h(an)g(at-)221 2232 y(tribute)j(named)g(`)p
Fh(_values)p Fs(')d(which)k(contains)f(a)h(sequence)d(of)i(the)g
(member)g(values.)41 b(This)221 2345 y(attribute)22 b(is)h(omniORBpy)f
(speci\002c.)362 2458 y(Similarly)-10 b(,)21 b(T)-8 b(ypeCodes)15
b(for)j(constr)o(ucted)f(types)f(such)i(as)g(str)o(ucts)f(and)i(unions)
e(normally)221 2571 y(contain)34 b(the)f(r)n(epository)e(ids)i(of)g
(those)f(types.)58 b(This)33 b(means)g(that)g(omniORBpy)g(can)h(use)221
2684 y(types)g(statically)j(declar)n(ed)e(in)h(the)f(stubs)g(when)g
(they)f(ar)n(e)i(available.)70 b(Once)36 b(again,)k(the)221
2797 y(speci\002cation)25 b(permits)f(the)g(r)n(epository)f(id)h
(strings)g(to)g(be)h(empty)2559 2764 y Fe(3)2595 2797
y Fs(.)34 b(This)24 b(means)h(that)g(even)221 2910 y(if)j(stubs)f(for)g
(a)h(type)e(r)n(eceived)h(in)h(an)g(Any)f(ar)n(e)h(available,)j(it)d
(may)g(not)f(be)g(able)h(to)f(cr)n(eate)g(a)221 3023
y(Python)21 b(value)j(with)e(the)g(right)g(type.)27 b(For)21
b(example,)i(with)f(a)h(str)o(uct)f(de\002nition)g(such)g(as:)362
3158 y Ff(module)49 b(M)h({)462 3258 y(struct)f(S)g({)562
3357 y(string)f(str;)562 3457 y(long)148 b(l;)462 3556
y(};)362 3656 y(};)221 3805 y Fs(The)26 b(transmitted)f(T)-8
b(ypeCode)23 b(for)k Fh(M::S)d Fs(may)j(contain)f(only)g(the)g
(information)h(that)f(it)g(is)g(a)221 3918 y(str)o(uctur)n(e)f
(containing)i(a)g(string)e(followed)h(by)g(a)h(long,)f(not)g(that)g(it)
g(is)g(type)f Fh(M::S)p Fs(,)f(or)i(what)221 4031 y(the)c(member)h
(names)f(ar)n(e.)362 4143 y(T)-8 b(o)29 b(cope)g(with)h(this)f
(situation,)i(omniORBpy)e(has)h(an)g(extension)e(to)h(the)g(standar)n
(d)g(in-)221 4256 y(terface)38 b(which)g(allows)g(you)f(to)f
Fr(coer)n(ce)k Fs(an)e(Any)f(value)h(to)f(a)h(known)f(type.)71
b(Calling)40 b(an)221 4369 y(Any's)27 b Fh(value\(\))d
Fs(method)i(with)i(a)g(T)-8 b(ypeCode)25 b(ar)n(gument)i(r)n(eturns)f
(either)h(a)h(value)g(of)g(the)221 4482 y(r)n(equested)f(type,)i(or)g
Fh(None)e Fs(if)j(the)e(r)n(equested)f(T)-8 b(ypeCode)27
b(is)i(not)f Fr(equivalent)j Fs(to)e(the)f(Any's)221
4595 y(T)-8 b(ypeCode.)26 b(The)21 b(following)i(code)f(is)h
(guaranteed)e(to)h(be)g(safe,)h(but)f(is)h(not)f(standar)n(d:)362
4730 y Ff(a)50 b(=)g Fg(#)f(Acquire)g(an)g(Any)g(from)g(somewhere)362
4830 y Ff(v)h(=)g(a)o(.value)o(\(CORBA)o(.TypeCode)n(\(CORBA)o(.id\(M)o
(.S\)\)\))362 4930 y(if)g(v)f(is)h(not)f(None)o(:)562
5029 y(print)f(v.str)362 5129 y(else:)562 5229 y(print)g("The)h(Any)h
(does)f(not)g(contain)g(a)g(value)g(compatible)f(with)h(M::S)o(.")p
3650 5259 42 100 v 221 5306 1316 4 v 327 5362 a Fd(3)356
5394 y Fc(The)18 b(use)h(of)f(empty)g(r)o(epository)e(id)i(strings)g
(is)g(depr)o(ecated)f(as)i(of)f(GIOP)h(1.2.)p eop end
%%Page: 21 27
TeXDict begin 21 26 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(3.3.)51
b(INTERF)-7 b(ACE)20 b(REPOSIT)n(OR)m(Y)i(STUBS)1609
b Fs(21)63 539 y Fk(3.2.1)99 b(Any)24 b(helper)g(module)63
715 y Fs(omniORBpy)32 b(pr)n(ovides)g(an)i(alternative,)i(non-standar)n
(d)c(way)h(of)h(constr)o(ucting)e(and)h(de-)63 828 y(constr)o(ucting)18
b(Anys)g(that)i(is)f(often)g(mor)n(e)g(convenient)g(to)g(use)f(in)i
(Python)e(pr)n(ograms.)26 b(It)19 b(uses)63 941 y(Python's)25
b(own)h(dynamic)h(typing)e(to)h(infer)h(the)f(T)-8 b(ypeCodes)23
b(to)j(use.)39 b(The)25 b Fh(omniORB.any)63 1054 y Fs(module)d
(contains)g(two)g(functions,)g Fh(to_any\(\))d Fs(and)k
Fh(from_any\(\))p Fs(.)204 1167 y Fh(to_any\(\))18 b
Fs(takes)i(a)i(Python)e(object)h(and)g(tries)g(to)f(r)n(eturn)h(it)g
(inside)g(an)h(Any)-10 b(.)27 b(It)20 b(uses)g(the)63
1280 y(following)j(r)o(ules:)199 1481 y Fo(\017)46 b
Fs(Python)21 b(strings)g(ar)n(e)i(r)n(epr)n(esented)d(as)j(CORBA)g
(strings.)199 1664 y Fo(\017)46 b Fs(Python)21 b(unicode)h(objects)g
(ar)n(e)h(r)n(epr)n(esented)d(as)j(CORBA)f(wstrings.)199
1848 y Fo(\017)46 b Fs(Python)21 b(integers)g(ar)n(e)i(r)n(epr)n
(esented)d(as)i(CORBA)h(longs.)199 2032 y Fo(\017)46
b Fs(Python)30 b(long)g(integers)g(ar)n(e)h(r)n(epr)n(esented)d(as)k(a)
f(CORBA)g(integer)f(type)g(taken)g(fr)n(om)290 2144 y(long,)22
b(unsigned)f(long,)g(long)h(long,)g(unsigned)f(long,)h(depending)e(on)i
(what)h(size)f(type)290 2257 y(the)27 b(Python)f(long)i(integer)e(will)
j(\002t)f(in.)44 b(If)28 b(the)f(value)h(is)g(too)f(lar)n(ge)h(for)g
(any)g(of)g(these,)290 2370 y Fh(CORBA.BAD_PARAM)16 b
Fs(is)23 b(raised.)199 2554 y Fo(\017)46 b Fs(Python)18
b(lists)h(and)g(tuples)f(of)i(the)e(types)g(above)h(ar)n(e)h(r)n(epr)n
(esented)c(as)k(sequences)d(of)i(the)290 2667 y(corr)n(esponding)i
(CORBA)h(types.)199 2850 y Fo(\017)46 b Fs(Python)20
b(lists)h(and)g(tuples)f(of)i(mixed)f(types)e(ar)n(e)j(r)n(epr)n
(esented)c(as)k(sequences)d(of)i(Anys.)199 3034 y Fo(\017)46
b Fs(Python)16 b(dictionaries)i(with)g(string)f(keys)f(ar)n(e)j(r)n
(epr)n(esented)c(as)j(CORBA)g(str)o(ucts,)f(using)290
3147 y(the)32 b(dictionary)h(keys)e(as)h(the)g(member)h(names,)i(and)d
(the)g(types)f(of)i(the)f(dictionary)290 3260 y(values)23
b(as)g(the)e(member)i(types.)199 3444 y Fo(\017)46 b
Fs(Instances)32 b(of)h(CORBA)f(types)f(\(str)o(ucts,)k(unions,)g
(enums,)f(etc.\))59 b(generated)30 b(by)j(the)290 3556
y(IDL)22 b(compiler)h(ar)n(e)g(r)n(epr)n(esented)d(as)j(themselves.)204
3757 y(All)g(other)f(Python)f(types)f(r)n(esult)i(in)h(a)h
Fh(CORBA.BAD_PARA)o(M)17 b Fs(exception.)204 3870 y(The)27
b Fh(from_any\(\))d Fs(function)29 b(works)e(in)i(r)n(everse.)44
b(It)28 b(takes)f(an)i(Any)e(as)i(its)f(ar)n(gument)63
3983 y(and)g(extracts)f(its)h(contents)e(using)i(the)f(same)h(r)o(ules)
g(as)g Fh(to_any\(\))p Fs(.)41 b(By)27 b(default,)j(CORBA)63
4096 y(str)o(ucts)18 b(ar)n(e)i(extracted)e(to)g(dictionaries;)i(if)h
(the)d(optional)h Fh(keep_structs)14 b Fs(ar)n(gument)19
b(is)h(set)63 4209 y(tr)o(ue,)h(they)h(ar)n(e)h(instead)e(left)i(as)g
(instances)f(of)h(the)e(CORBA)i(str)o(uct)f(classes.)63
4505 y Fp(3.3)119 b(Interface)27 b(Repository)k(stubs)63
4716 y Fs(The)23 b(Interface)g(Repository)e(interfaces)j(ar)n(e)g
(declar)n(ed)g(in)h(IDL)e(module)g Fh(CORBA)f Fs(so,)i(accor)n(d-)63
4829 y(ing)c(to)g(the)g(Python)f(mapping,)i(the)e(stubs)h(for)g(them)g
(should)g(appear)g(in)h(the)f(Python)f Fh(CORBA)63 4942
y Fs(module,)i(along)i(with)g(all)h(the)e(other)f(CORBA)i
(de\002nitions.)k(However)-7 b(,)21 b(since)i(the)f(stubs)f(ar)n(e)63
5055 y(extr)n(emely)28 b(lar)n(ge,)j(omniORBpy)e(does)f(not)h(include)h
(them)f(by)g(default.)49 b(T)-8 b(o)28 b(do)h(so)g(would)63
5168 y(unnecessarily)21 b(incr)n(ease)i(the)f(memory)g(footprint)f(and)
i(start-up)f(time.)204 5281 y(The)36 b(Interface)h(Repository)e(stubs)h
(ar)n(e)i(automatically)h(included)e(if)h(you)e(de\002ne)g(the)63
5394 y Fh(OMNIORBPY_IMPO)o(RT)o(_I)o(R_S)o(TU)o(BS)30
b Fs(envir)n(onment)36 b(variable.)72 b(Alternatively)-10
b(,)40 b(you)c(can)p eop end
%%Page: 22 28
TeXDict begin 22 27 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(22)878
b Fj(CHAPTER)21 b(3.)51 b(PYTHON)22 b(LANGUAGE)f(MAPPING)h(ISSUES)221
539 y Fs(import)32 b(the)f(stubs)f(at)i(r)o(un-time)g(by)g(calling)i
(the)d Fh(omniORB.import)o(IRS)o(tu)o(bs)o(\(\))25 b
Fs(func-)221 652 y(tion.)j(In)22 b(both)g(cases,)g(the)g(stubs)f
(become)i(available)i(in)e(the)f(Python)g Fh(CORBA)e
Fs(module.)p eop end
%%Page: 23 29
TeXDict begin 23 28 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1165 a Fl(Chapter)44
b(4)63 1584 y Fn(omniORB)51 b(con\002guration)h(and)g(API)63
2047 y Fs(omniORB)23 b(4.1,)g(and)g(thus)e(omniORBpy)h(3,)h(has)g(a)h
(wide)e(range)g(of)h(parameters)f(that)g(can)i(be)63
2160 y(con\002gur)n(ed.)37 b(They)26 b(can)h(be)f(set)f(in)i(the)f
(con\002guration)g(\002le)g(/)h(W)-5 b(indows)25 b(r)n(egistry)-10
b(,)25 b(as)i(envi-)63 2273 y(r)n(onment)e(variables,)j(or)e(on)f(the)h
(command)g(line.)38 b(A)26 b(few)g(parameters)f(can)i(be)f(con\002gur)n
(ed)63 2386 y(at)g(r)o(un)g(time.)39 b(This)26 b(chapter)g(lists)g(all)
i(the)d(con\002guration)h(parameters,)g(and)g(how)g(they)f(ar)n(e)63
2499 y(used.)63 2822 y Fp(4.1)119 b(Setting)29 b(parameters)63
3041 y Fs(When)20 b Fh(CORBA::ORB_init)o(\(\))15 b Fs(is)21
b(called,)h(the)f(value)h(for)f(each)g(con\002guration)g(parameter)63
3153 y(is)h(sear)n(ched)g(for)h(in)g(the)f(following)h(or)n(der:)176
3386 y(1.)46 b(Command)23 b(line)g(ar)n(guments)176 3589
y(2.)46 b(Envir)n(onment)22 b(variables)176 3792 y(3.)46
b(Con\002guration)22 b(\002le)h(/)g(W)-5 b(indows)21
b(r)n(egistry)176 3996 y(4.)46 b(Built-in)23 b(defaults)63
4275 y Fk(4.1.1)99 b(Command)23 b(line)i(arguments)63
4459 y Fs(Command)k(line)g(ar)n(guments)f(take)h(the)f(form)h(`)p
Fh(-ORB)p Fr(parameter)p Fs(',)i(and)e(usually)g(expect)f(an-)63
4572 y(other)21 b(ar)n(gument.)27 b(An)c(example)f(is)h(`)p
Fh(-ORBtraceLevel)48 b(10)p Fs('.)63 4851 y Fk(4.1.2)99
b(Environment)24 b(variables)63 5036 y Fs(Envir)n(onment)j(variables)j
(consist)e(of)g(the)f(parameter)h(name)g(pr)n(e\002xed)f(with)h(`)p
Fh(ORB)p Fs('.)f(Using)63 5149 y(bash,)22 b(for)h(example)204
5306 y Ff(export)48 b(ORBtraceLevel)n(=10)1662 5622 y
Fs(23)p eop end
%%Page: 24 30
TeXDict begin 24 29 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(24)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fk(4.1.3)99 b(Con\002guration)25
b(\002le)221 716 y Fs(The)30 b(best)g(way)h(to)g(understand)d(the)j
(format)g(of)g(the)f(con\002guration)g(\002le)h(is)g(to)f(look)h(at)g
(the)221 828 y Fh(sample.cfg)23 b Fs(\002le)28 b(in)f(the)g(omniORB)h
(distribution.)41 b(Each)28 b(parameter)f(is)g(set)f(on)i(a)f(single)
221 941 y(line)c(like)221 1154 y Fh(traceLevel)50 b(=)k(10)362
1367 y Fs(Some)27 b(parameters)f(can)h(have)h(mor)n(e)f(than)g(one)f
(value,)i(in)g(which)f(case)g(the)g(parameter)221 1480
y(name)c(may)g(be)g(speci\002ed)e(mor)n(e)h(than)h(once,)f(or)g(you)g
(can)h(leave)g(it)g(out:)221 1693 y Fh(InitRef)52 b(=)i(NameService=co)
o(rb)o(an)o(ame)o(::)o(ho)o(st)o(1.)o(exa)o(mp)o(le)o(.c)o(om)658
1806 y(=)g(InterfaceRepos)o(it)o(or)o(y=c)o(or)o(ba)o(lo)o(c:)o(:ho)o
(st)o(2.)o(ex)o(am)o(ple)o(.c)o(om)o(:1)o(23)o(4/I)o(fR)p
3827 1820 42 73 v 221 2001 3289 17 v 358 2142 a Fs(Note)26
b(how)i(command)h(line)g(ar)n(guments)e(and)i(envir)n(onment)f
(variables)h(pr)n(e\002x)f(pa-)358 2255 y(rameter)j(names)i(with)f
(`-ORB')h(and)g(`ORB')g(r)n(espectively)-10 b(,)33 b(but)g(the)e
(con\002guration)358 2368 y(\002le)22 b(does)f(not)h(use)g(a)h(pr)n
(e\002x.)p 221 2453 V 221 2728 a Fk(4.1.4)99 b(W)l(indows)25
b(registry)221 2905 y Fs(On)20 b(W)-5 b(indows,)19 b(con\002guration)g
(parameters)f(can)i(be)g(stor)n(ed)e(in)h(the)g(r)n(egistry)-10
b(,)18 b(under)h(the)f(key)221 3018 y Fh(HKEY_LOCAL_MACH)o(IN)o(E\\S)o
(OF)o(TW)o(AR)o(E\\)o(omn)o(iO)o(RB)o Fs(.)362 3131 y(The)i(\002le)h
Fh(sample.reg)16 b Fs(shows)j(the)g(settings)g(that)h(can)h(be)g(made.)
27 b(It)19 b(can)j(be)e(edited)f(and)221 3244 y(then)j(imported)f(into)
i(r)n(egedit.)221 3543 y Fp(4.2)119 b(T)-13 b(racing)29
b(options)221 3754 y Fs(The)22 b(following)h(options)e(contr)n(ol)i
(debugging)e(trace)h(output.)221 3980 y Fh(traceLevel)87
b Fr(default)24 b Fs(=)f Fh(1)221 4163 y Fs(omniORB)18
b(can)g(output)e(tracing)i(and)f(diagnostic)g(messages)f(to)h(the)g
(standar)n(d)g(err)n(or)f(str)n(eam.)221 4276 y(The)22
b(following)h(levels)g(ar)n(e)g(de\002ned:)412 4502 y(level)g(0)146
b(critical)25 b(err)n(ors)c(only)412 4615 y(level)i(1)146
b(informational)24 b(messages)d(only)412 4728 y(level)i(2)146
b(con\002guration)22 b(information)h(and)g(warnings)412
4841 y(level)g(5)146 b(noti\002cations)22 b(when)f(server)g(thr)n(eads)
g(ar)n(e)i(cr)n(eated)e(and)817 4954 y(communication)j(endpoints)c(ar)n
(e)j(shutdown)412 5067 y(level)g(10)101 b(execution)21
b(and)i(exception)e(traces)412 5180 y(level)i(25)101
b(trace)22 b(each)h(send)f(or)g(r)n(eceive)h(of)f(a)i(giop)e(message)
412 5293 y(level)h(30)101 b(dump)22 b(up)g(to)g(128)i(bytes)d(of)i
(each)g(giop)f(message)412 5406 y(level)h(40)101 b(dump)22
b(complete)g(contents)e(of)j(each)g(giop)f(message)p
eop end
%%Page: 25 31
TeXDict begin 25 30 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.2.)51
b(TRACING)22 b(OPTIONS)2153 b Fs(25)63 539 y(The)22 b(trace)g(level)h
(is)g(cumulative,)h(so)e(at)g(level)h(40,)h(all)g(trace)f(messages)d
(ar)n(e)j(output.)63 768 y Fh(traceException)o(s)85 b
Fr(default)24 b Fs(=)f Fh(0)63 955 y Fs(If)k(the)f Fh(traceExceptions)
21 b Fs(parameter)26 b(is)i(set)e(tr)o(ue,)h(all)i(system)c(exceptions)
h(ar)n(e)h(logged)63 1068 y(as)f(they)f(ar)n(e)h(thr)n(own,)g(along)g
(with)g(details)g(about)g(wher)n(e)f(the)g(exception)g(is)h(thr)n(own)f
(fr)n(om.)63 1181 y(This)d(parameter)g(is)h(enabled)f(by)h(default)f
(if)i(the)e(traceLevel)g(is)g(set)g(to)g(10)h(or)g(mor)n(e.)63
1411 y Fh(traceInvocatio)o(ns)84 b Fr(default)25 b Fs(=)d
Fh(0)63 1597 y Fs(If)39 b(the)f Fh(traceInvocatio)o(ns)33
b Fs(parameter)38 b(is)h(set)f(tr)o(ue,)k(all)f(local)f(and)f(r)n
(emote)f(invoca-)63 1710 y(tions)e(ar)n(e)i(logged,)h(in)f(addition)f
(to)f(any)i(logging)e(that)h(may)h(have)f(been)g(selected)f(with)63
1823 y Fh(traceLevel)p Fs(.)63 2053 y Fh(traceInvocatio)o(nR)o(et)o
(urn)o(s)85 b Fr(default)24 b Fs(=)f Fh(0)63 2240 y Fs(If)h(the)g
Fh(traceInvocationR)o(et)o(ur)o(ns)18 b Fs(parameter)24
b(is)h(set)f(tr)o(ue,)g(a)i(log)e(message)f(is)i(output)63
2353 y(as)e(an)g(operation)g(invocation)h(r)n(eturns.)k(In)22
b(conjunction)i(with)f Fh(traceInvocatio)o(ns)17 b Fs(and)63
2466 y Fh(traceTime)h Fs(\(described)j(below\),)h(this)g(pr)n(ovides)f
(a)h(simple)h(way)f(of)g(timing)g(CORBA)g(calls)63 2579
y(within)h(your)e(application.)63 2808 y Fh(traceThreadId)85
b Fr(default)24 b Fs(=)f Fh(0)63 2995 y Fs(If)30 b Fh(traceThreadId)25
b Fs(is)30 b(set)f(tr)o(ue,)i(all)h(trace)f(messages)d(ar)n(e)j(pr)n
(e\002xed)e(with)h(the)g(id)g(of)g(the)63 3108 y(thr)n(ead)c
(outputting)f(the)h(message.)40 b(This)27 b(can)g(be)g(handy)g(for)g
(tracking)g(down)f(race)h(condi-)63 3221 y(tions,)22
b(but)h(it)g(adds)f(signi\002cant)i(over)n(head)e(to)h(the)f(logging)g
(function)h(so)g(it)g(is)g(turned)f(of)n(f)i(by)63 3334
y(default.)63 3563 y Fh(traceTime)86 b Fr(default)25
b Fs(=)e Fh(0)63 3750 y Fs(If)33 b Fh(traceTime)c Fs(is)k(set)f(tr)o
(ue,)j(all)f(trace)f(messages)e(ar)n(e)j(pr)n(e\002xed)d(with)i(the)g
(time.)59 b(This)32 b(is)63 3863 y(useful,)25 b(but)g(on)g(some)g
(platforms)g(it)h(adds)e(a)i(very)f(lar)n(ge)h(over)n(head,)f(so)g(it)g
(is)h(turned)e(of)n(f)i(by)63 3976 y(default.)63 4254
y Fk(4.2.1)99 b(T)-11 b(racing)25 b(API)63 4438 y Fs(The)19
b(tracing)g(parameters)g(can)h(be)g(inspected)e(or)h(modi\002ed)g(at)g
(r)o(untime)h(with)f(the)g(following)63 4551 y(functions)j(in)h(the)f
Fh(omniORB)d Fs(module:)303 4708 y Ff(traceLevel)o(\(\))303
4808 y(traceInvocations)m(\(\))303 4908 y(traceInvocationReturns)l
(\(\))303 5007 y(traceThreadId)n(\(\))303 5107 y(traceTime)o(\(\))63
5281 y Fs(Calling)j(one)f(of)g(the)f(functions)g(with)h(no)g(ar)n
(guments)f(r)n(eturns)g(the)g(curr)n(ent)h(value;)h(calling)g(it)63
5394 y(with)g(a)h(single)g(integer)e(ar)n(gument)h(sets)f(the)h(value.)
p eop end
%%Page: 26 32
TeXDict begin 26 31 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(26)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fp(4.3)119 b(Miscellaneous)29 b(global)h(options)
221 761 y Fs(These)21 b(options)g(contr)n(ol)i(miscellaneous)g(featur)n
(es)e(that)i(af)n(fect)g(the)f(whole)g(ORB)h(r)o(untime.)221
993 y Fh(dumpConfigurati)o(on)84 b Fr(default)25 b Fs(=)d
Fh(0)221 1182 y Fs(If)h(set)e(tr)o(ue,)h(the)g(ORB)g(dumps)g(the)f
(values)i(of)g(all)h(con\002guration)e(parameters)g(at)h(start-up.)221
1414 y Fh(scanGranularity)84 b Fr(default)25 b Fs(=)d
Fh(5)221 1603 y Fs(As)j(explained)g(in)h(chapter)f(7,)i(omniORB)e(r)n
(egularly)h(scans)f(incoming)h(and)g(outgoing)e(con-)221
1716 y(nections,)30 b(so)e(it)h(can)h(close)f(unused)e(ones.)46
b(This)29 b(value)h(is)f(the)g(granularity)g(in)h(seconds)d(at)221
1829 y(which)34 b(the)e(ORB)h(performs)f(its)h(scans.)59
b(A)33 b(value)h(of)f(zer)n(o)g(turns)f(of)n(f)i(the)e(scanning)h
(alto-)221 1942 y(gether)-7 b(.)221 2173 y Fh(nativeCharCodeS)o(et)84
b Fr(default)25 b Fs(=)d Fh(ISO-8859-1)221 2363 y Fs(The)g(native)h
(code)f(set)f(the)h(application)i(is)f(using)f(for)g
Fh(char)f Fs(and)i Fh(string)p Fs(.)i(See)d(chapter)g(8.)221
2594 y Fh(copyValuesInLoc)o(al)o(Cal)o(ls)84 b Fr(default)24
b Fs(=)f Fh(1)221 2783 y Fs(Determines)35 b(whether)e(valuetype)i
(parameters)g(in)h(local)h(calls)f(ar)n(e)g(copied)f(or)g(not.)66
b(See)221 2896 y(chapter)22 b(10.)221 3128 y Fh(abortOnInternal)o(Er)o
(ror)84 b Fr(default)24 b Fs(=)f Fh(0)221 3317 y Fs(If)31
b(this)f(is)h(set)f(tr)o(ue,)i(internal)f(fatal)h(err)n(ors)e(will)i
(abort)f(immediately)-10 b(,)32 b(rather)f(than)f(thr)n(ow-)221
3430 y(ing)24 b(the)f Fh(omniORB::fatalEx)o(ce)o(pt)o(io)o(n)18
b Fs(exception.)31 b(This)23 b(can)i(be)f(helpful)g(for)g(tracking)221
3543 y(down)e(bugs,)f(since)i(it)g(leaves)f(the)g(call)j(stack)d
(intact.)221 3878 y Fp(4.4)119 b(Client)30 b(side)f(options)221
4101 y Fs(These)21 b(options)g(contr)n(ol)i(aspects)e(of)i(client-side)
f(behaviour)-7 b(.)221 4332 y Fh(InitRef)88 b Fr(default)24
b Fs(=)f Fa(none)221 4521 y Fs(Specify)e(objects)g(available)k(fr)n(om)
d Fh(orb.resolve_ini)o(ti)o(al)o(_re)o(fe)o(re)o(nc)o(es)o(\(\))p
Fs(.)f(The)g(ar)n(-)221 4634 y(guments)e(take)g(the)h(form)g(<)p
Fr(key)p Fs(>=<)p Fr(uri)p Fs(>,)j(wher)n(e)c(the)h Fr(key)h
Fs(is)g(the)e(name)i(given)f(to)g Fh(resolve_)221 4747
y(initial_referen)o(ce)o(s\(\))g Fs(and)27 b Fr(uri)g
Fs(is)f(a)i(valid)g(CORBA)e(object)h(r)n(efer)n(ence)f(URI,)g(as)h(de-)
221 4860 y(tailed)c(in)g(chapter)f(6.)221 5092 y Fh(DefaultInitRef)85
b Fr(default)24 b Fs(=)f Fa(none)221 5281 y Fs(Specify)39
b(the)f(default)h(URI)f(pr)n(e\002x)g(for)h Fh(resolve_initial)o(_r)o
(ef)o(er)o(enc)o(es)o(\(\))o Fs(,)e(as)i(ex-)221 5394
y(plained)23 b(in)g(chapter)f(6.)p eop end
%%Page: 27 33
TeXDict begin 27 32 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.4.)51
b(CLIENT)21 b(SIDE)h(OPTIONS)2016 b Fs(27)63 539 y Fh(clientTranspor)o
(tR)o(ul)o(e)85 b Fr(default)24 b Fs(=)f Fh(*)54 b(unix,tcp,ssl)63
723 y Fs(Used)33 b(to)h(specify)f(the)h(way)h(the)e(client)i(contacts)f
(a)i(server)-7 b(,)36 b(depending)c(on)i(the)g(server)7
b('s)63 836 y(addr)n(ess.)26 b(See)c(section)f(7.7.1)j(for)e(details.)
63 1063 y Fh(clientCallTime)o(Ou)o(tP)o(eri)o(od)84 b
Fr(default)24 b Fs(=)f Fh(0)63 1247 y Fs(Call)g(timeout)d(in)i
(milliseconds)f(for)h(the)e(client)i(side.)k(If)c(a)f(call)i(takes)e
(longer)f(than)h(the)g(speci-)63 1360 y(\002ed)d(number)i(of)g
(milliseconds,)g(the)f(ORB)g(closes)g(the)g(connection)g(to)g(the)g
(server)f(and)i(raises)63 1473 y(a)e Fh(TRANSIENT)13
b Fs(exception.)25 b(A)17 b(value)i(of)e(zer)n(o)h(means)f(no)g
(timeout;)h(calls)h(can)g(block)f(for)f(ever)-7 b(.)63
1586 y(See)21 b(section)h(7.3.1)i(for)e(mor)n(e)h(information)g(about)f
(timeouts.)63 1756 y Fm(Note)p Fs(:)39 b(omniORB)28 b(3)h(had)f
(timeouts)f(speci\002ed)g(in)i(seconds;)g(omniORB)f(4.0)h(and)f(later)h
(use)63 1869 y(milliseconds)23 b(for)f(timeouts.)63 2096
y Fh(clientConnectT)o(im)o(eO)o(utP)o(er)o(io)o(d)85
b Fr(default)24 b Fs(=)f Fh(0)63 2281 y Fs(The)i(timeout)g(that)h(is)g
(used)f(in)h(the)g(case)g(that)g(a)g(new)g(network)e(connection)h(is)i
(established)63 2394 y(to)33 b(the)h(server)-7 b(.)61
b(A)34 b(value)h(of)f(zer)n(o)g(means)g(that)g(the)f(normal)i(call)h
(timeout)d(is)i(used.)61 b(See)63 2506 y(section)21 b(7.3.1)j(for)f
(mor)n(e)f(information)h(about)g(timeouts.)63 2733 y
Fh(supportPerThre)o(ad)o(Ti)o(meO)o(ut)84 b Fr(default)24
b Fs(=)f Fh(0)63 2918 y Fs(If)29 b(this)g(parameter)f(is)i(set)e(tr)o
(ue,)h(timeouts)f(can)i(be)f(set)f(on)h(a)h(per)e(thr)n(ead)h(basis,)i
(as)e(well)g(as)63 3031 y(globally)21 b(and)g(per)f(object.)27
b(Checking)21 b(per)n(-thr)n(ead)f(storage)f(has)i(a)g(noticeable)g
(performance)63 3144 y(impact,)i(so)f(it)h(is)f(turned)f(of)n(f)j(by)e
(default.)63 3371 y Fh(outConScanPeri)o(od)84 b Fr(default)25
b Fs(=)d Fh(120)63 3555 y Fs(Idle)h(timeout)f(in)i(seconds)e(for)i
(outgoing)e(\(i.e.)h(client)h(initiated\))h(connections.)30
b(If)23 b(a)h(connec-)63 3668 y(tion)e(has)h(been)f(idle)g(for)h(this)f
(amount)h(of)f(time,)h(the)e(ORB)i(closes)f(it.)28 b(See)21
b(section)h(7.5.)63 3895 y Fh(maxGIOPConnect)o(io)o(nP)o(erS)o(er)o(ve)
o(r)85 b Fr(default)24 b Fs(=)f Fh(5)63 4079 y Fs(The)32
b(maximum)j(number)e(of)h(concurr)n(ent)f(connections)f(the)h(ORB)g
(will)h(open)f(to)f(a)i Fr(single)63 4192 y Fs(server)-7
b(.)35 b(If)25 b(multiple)h(thr)n(eads)f(on)g(the)f(client)i(call)i
(the)c(same)h(server)-7 b(,)26 b(the)e(ORB)h(opens)f(addi-)63
4305 y(tional)e(connections)e(to)h(the)f(server)-7 b(,)20
b(up)h(to)g(the)f(maximum)j(speci\002ed)d(by)i(this)e(parameter)-7
b(.)28 b(If)63 4418 y(the)d(maximum)j(is)e(r)n(eached,)h(thr)n(eads)e
(ar)n(e)i(blocked)f(until)g(a)h(connection)f(becomes)g(fr)n(ee)g(for)63
4531 y(them)c(to)g(use.)63 4758 y Fh(oneCallPerConn)o(ec)o(ti)o(on)84
b Fr(default)25 b Fs(=)e Fh(1)63 4942 y Fs(When)18 b(this)h(parameter)g
(is)g(set)f(to)h(tr)o(ue)g(\(the)f(default\),)i(the)f(ORB)g(will)h
(only)f(send)f(a)i(single)f(call)63 5055 y(on)f(a)h(connection)f(at)h
(a)g(time.)26 b(If)19 b(multiple)g(client)g(thr)n(eads)f(invoke)g(on)g
(the)g(same)g(server)-7 b(,)19 b(mul-)63 5168 y(tiple)29
b(connections)f(ar)n(e)i(opened,)e(up)h(to)g(the)f(limit)j(speci\002ed)
d(by)h Fh(maxGIOPConnecti)o(on)63 5281 y(PerServer)p
Fs(.)i(W)-5 b(ith)26 b(this)f(parameter)f(set)g(to)h(false,)h(the)f
(ORB)g(will)h(allow)g(concurr)n(ent)f(calls)63 5394 y(on)c(a)g(single)g
(connection.)27 b(This)21 b(saves)g(connection)f(r)n(esour)n(ces,)g
(but)h(r)n(equir)n(es)g(slightly)g(mor)n(e)p eop end
%%Page: 28 34
TeXDict begin 28 33 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(28)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fs(management)29 b(work)f(for)h(both)g(client)g
(and)g(server)-7 b(.)47 b(Some)28 b(server)n(-side)g(ORBs)g
(\(including)221 652 y(omniORB)23 b(versions)f(befor)n(e)g(4.0\))h
(serialise)g(all)h(calls)g(on)e(a)i(single)e(connection.)221
887 y Fh(offerBiDirectio)o(na)o(lGI)o(OP)84 b Fr(default)24
b Fs(=)f Fh(0)221 1080 y Fs(If)h(set)e(tr)o(ue,)h(the)g(client)h(will)h
(indicate)f(to)f(servers)f(that)h(it)h(is)f(willing)i(to)e(accept)h
(callbacks)h(on)221 1193 y(client-initiated)30 b(connections)f(using)g
(bidir)n(ectional)i(GIOP)-12 b(,)30 b(pr)n(ovided)e(the)h(r)n(elevant)h
(POA)221 1306 y(policies)23 b(ar)n(e)g(set.)k(See)21
b(section)h(7.8.)221 1542 y Fh(verifyObjectExi)o(st)o(sAn)o(dT)o(yp)o
(e)85 b Fr(default)24 b Fs(=)f Fh(1)221 1735 y Fs(By)i(default,)g
(omniORB)h(uses)e(the)g(GIOP)i Fh(LOCATE_REQUEST)19 b
Fs(message)24 b(to)h(verify)h(the)e(ex-)221 1847 y(istence)31
b(of)g(an)h(object)g(prior)f(to)g(the)f(\002rst)h(invocation.)55
b(In)31 b(the)g(case)h(that)f(the)f(full)j(type)d(of)221
1960 y(the)h(object)g(is)g(not)g(known,)h(it)f(instead)g(calls)i(the)d
Fh(_is_a\(\))e Fs(operation)i(to)h(check)g(the)g(ob-)221
2073 y(ject's)25 b(type.)34 b(Some)25 b(ORBs)f(have)i(bugs)e(that)h
(mean)h(one)e(or)h(other)f(of)h(these)f(operations)g(fail.)221
2186 y(Setting)d(this)i(parameter)f(false)h(pr)n(events)e(omniORB)i(fr)
n(om)g(making)g(these)e(calls.)221 2422 y Fh(giopTargetAddre)o(ss)o
(Mod)o(e)85 b Fr(default)24 b Fs(=)f Fh(0)221 2615 y
Fs(GIOP)j(1.2)f(supports)e(thr)n(ee)h(addr)n(essing)g(modes)f(for)i
(contacting)g(objects.)35 b(This)25 b(parameter)221 2728
y(selects)34 b(the)h(mode)g(that)g(omniORB)g(uses.)65
b(A)36 b(value)g(of)f(0)h(means)g Fh(GIOP::KeyAddr)p
Fs(;)f(1)221 2841 y(means)23 b Fh(GIOP::ProfileA)o(dd)o(r)p
Fs(;)16 b(2)24 b(means)e Fh(GIOP::Reference)o(Ad)o(dr)o
Fs(.)221 3076 y Fh(bootstrapAgentH)o(os)o(tna)o(me)84
b Fr(default)24 b Fs(=)f Fa(none)221 3269 y Fs(If)f(set,)f(this)g
(parameter)h(indicates)g(the)f(hostname)g(to)g(use)g(for)h(look-ups)e
(using)i(the)f(obsolete)221 3382 y(Sun)k(bootstrap)g(agent.)36
b(This)25 b(mechanism)i(is)f(superseded)c(by)j(the)g(inter)n(operable)g
(naming)221 3495 y(service.)221 3731 y Fh(bootstrapAgentP)o(or)o(t)85
b Fr(default)24 b Fs(=)f Fh(900)221 3924 y Fs(The)f(port)g(number)g
(for)h(the)e(obsolete)g(Sun)i(bootstrap)e(agent.)221
4159 y Fh(principal)87 b Fr(default)24 b Fs(=)f Fa(none)221
4352 y Fs(GIOP)33 b(1.0)g(and)f(1.1)h(have)g(a)g(r)n(equest)d(header)i
(\002eld)g(named)g(`principal',)k(which)d(contains)221
4465 y(a)i(sequence)e(of)i(octets.)63 b(It)34 b(was)g(never)g
(de\002ned)f(what)i(it)g(should)e(mean,)38 b(and)d(its)f(use)g(is)221
4578 y(now)27 b(depr)n(ecated;)g(GIOP)h(1.2)g(has)f(no)g(such)g
(\002eld.)42 b(Some)26 b(systems)f(\(e.g.)h(Gnome\))i(use)e(the)221
4691 y(principal)h(\002eld)f(as)g(a)h(primitive)f(authentication)g
(scheme.)37 b(This)26 b(parameter)f(sets)g(the)g(data)221
4804 y(omniORB)e(uses)e(in)i(the)f(principal)i(\002eld.)j(The)22
b(default)h(is)f(an)i(empty)d(sequence.)221 5163 y Fp(4.5)119
b(Server)29 b(side)h(options)221 5394 y Fs(These)21 b(parameters)h(af)n
(fect)h(server)n(-side)f(operations.)p eop end
%%Page: 29 35
TeXDict begin 29 34 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.5.)51
b(SER)-5 b(VER)21 b(SIDE)h(OPTIONS)2012 b Fs(29)63 539
y Fh(endPoint)578 b Fr(default)24 b Fs(=)f Fh(giop:tcp::)63
652 y(endPointNoList)o(en)63 764 y(endPointPublis)o(h)63
877 y(endPointNoPubl)o(is)o(h)63 990 y(endPointPublis)o(hA)o(ll)o(IFs)
63 1233 y Fs(These)g(options)h(determine)f(the)h(end-points)f(the)h
(ORB)h(should)f(listen)h(on,)g(and)g(the)f(details)63
1346 y(that)e(should)g(be)g(published)g(in)h(IORs.)k(See)22
b(chapter)g(7)h(for)g(details.)63 1585 y Fh(serverTranspor)o(tR)o(ul)o
(e)85 b Fr(default)24 b Fs(=)f Fh(*)54 b(unix,tcp,ssl)63
1781 y Fs(Con\002gur)n(e)22 b(the)g(r)o(ules)g(about)h(whether)e(a)j
(server)d(should)h(accept)h(an)h(incoming)f(connection)63
1894 y(fr)n(om)g(a)g(client.)28 b(See)22 b(section)g(7.7.2)h(for)g
(details.)63 2133 y Fh(serverCallTime)o(Ou)o(tP)o(eri)o(od)84
b Fr(default)24 b Fs(=)f Fh(0)63 2329 y Fs(This)d(timeout)g(is)h(used)e
(to)i(catch)g(the)f(situation)h(that)f(the)g(server)g(starts)g(r)n
(eceiving)h(a)g(r)n(equest,)63 2442 y(but)29 b(the)f(end)g(of)h(the)g
(r)n(equest)e(never)i(comes.)47 b(If)29 b(a)h(calls)g(takes)e(longer)g
(than)h(the)g(speci\002ed)63 2555 y(number)f(of)g(milliseconds)g(to)g
(arrive,)i(the)d(ORB)h(shuts)f(the)g(connection.)44 b(A)28
b(value)g(of)h(zer)n(o)63 2668 y(means)22 b(never)g(timeout.)63
2906 y Fh(inConScanPerio)o(d)85 b Fr(default)24 b Fs(=)f
Fh(180)63 3103 y Fs(Idle)d(timeout)g(in)i(seconds)d(for)i(incoming.)28
b(If)21 b(a)g(connection)g(has)g(been)f(idle)h(for)g(this)g(amount)63
3215 y(of)h(time,)h(the)e(ORB)i(closes)f(it.)28 b(See)21
b(section)h(7.5.)63 3454 y Fh(threadPerConne)o(ct)o(io)o(nPo)o(li)o(cy)
84 b Fr(default)24 b Fs(=)f Fh(1)63 3650 y Fs(If)d(tr)o(ue)g(\(the)g
(default\),)h(the)f(ORB)g(dedicates)g(one)g(server)f(thr)n(ead)h(to)g
(each)h(incoming)g(connec-)63 3763 y(tion.)27 b(Setting)21
b(it)i(false)g(means)g(the)e(server)h(should)g(use)f(a)i(thr)n(ead)g
(pool.)63 4002 y Fh(maxServerThrea)o(dP)o(er)o(Con)o(ne)o(ct)o(io)o(n)
85 b Fr(default)24 b Fs(=)f Fh(100)63 4198 y Fs(If)h(the)g(client)h
(multiplexes)f(several)g(concurr)n(ent)g(r)n(equests)e(on)j(a)g(single)
f(connection,)g(omni-)63 4311 y(ORB)31 b(uses)e(extra)i(thr)n(eads)f
(to)h(service)g(them.)53 b(This)31 b(parameter)g(speci\002es)f(the)g
(maximum)63 4424 y(number)22 b(of)h(thr)n(eads)e(that)i(ar)n(e)g
(allowed)f(to)g(service)h(a)g(single)f(connection)g(at)h(any)g(one)f
(time.)63 4663 y Fh(maxServerThrea)o(dP)o(oo)o(lSi)o(ze)84
b Fr(default)24 b Fs(=)f Fh(100)63 4859 y Fs(The)k(maximum)i(number)f
(of)g(thr)n(eads)f(the)g(server)g(will)i(allocate)g(to)f(do)f(various)h
(tasks,)g(in-)63 4972 y(cluding)e(dispatching)f(calls)i(in)f(the)f(thr)
n(ead)g(pool)g(mode.)36 b(This)26 b(number)f(does)f(not)h(include)63
5085 y(thr)n(eads)c(dispatched)h(under)f(the)h(thr)n(ead)g(per)g
(connection)g(server)f(mode.)63 5323 y Fh(threadPerConne)o(ct)o(io)o
(nUp)o(pe)o(rL)o(im)o(it)84 b Fr(default)25 b Fs(=)d
Fh(10000)p eop end
%%Page: 30 36
TeXDict begin 30 35 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(30)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fs(If)i(the)g Fh(threadPerConne)o(cti)o(on)o(Po)o
(li)o(cy)19 b Fs(parameter)25 b(is)g(tr)o(ue,)g(the)f(ORB)h(can)h
(automati-)221 652 y(cally)19 b(transition)e(to)g(thr)n(ead)g(pool)g
(mode)g(if)h(too)f(many)h(connections)e(arrive.)27 b(This)18
b(parameter)221 764 y(sets)25 b(the)h(number)g(of)h(connections)e(at)i
(which)g(thr)n(ead)f(pooling)g(is)g(started.)38 b(The)26
b(default)g(of)221 877 y(10000)f(is)e(designed)d(to)i(mean)h(that)g(it)
f(never)g(happens.)221 1116 y Fh(threadPerConnec)o(ti)o(onL)o(ow)o(er)o
(Li)o(mi)o(t)85 b Fr(default)24 b Fs(=)f Fh(9000)221
1313 y Fs(If)35 b(thr)n(ead)g(pooling)f(was)h(started)f(because)h(the)f
(number)h(of)g(connections)f(hit)h(the)f(upper)221 1426
y(limit,)24 b(this)e(parameter)g(determines)f(when)h(thr)n(ead)g(per)g
(connection)g(should)f(start)h(again.)221 1665 y Fh(threadPoolWatch)o
(Co)o(nne)o(ct)o(io)o(n)85 b Fr(default)24 b Fs(=)f Fh(1)221
1861 y Fs(If)e(non-zer)n(o,)g(thr)n(eads)f(fr)n(om)i(the)e(pool)h
(temporarily)f(behave)i(a)f(bit)h(like)f(thr)n(ead)g(per)f(connec-)221
1974 y(tion)j(after)f(dispatching)g(a)h(call.)30 b(See)22
b(section)f(7.4.2)j(for)e(details.)221 2213 y Fh(acceptBiDirecti)o(on)o
(alG)o(IO)o(P)85 b Fr(default)24 b Fs(=)f Fh(0)221 2410
y Fs(Determines)i(whether)g(a)h(server)f(will)j(ever)d(accept)i
(clients')f(of)n(fers)g(of)g(bidir)n(ectional)i(GIOP)221
2523 y(connections.)f(See)22 b(section)f(7.8.)221 2762
y Fh(unixTransportDi)o(re)o(cto)o(ry)84 b Fr(default)24
b Fs(=)f Fh(/tmp/omni-\045u)221 2958 y Fs(\(Unix)g(platforms)f(only\).)
28 b(Selects)21 b(the)h(location)h(used)e(to)h(stor)n(e)f(Unix)h
(domain)h(sockets.)j(The)221 3071 y(`)p Fh(\045u)p Fs(')d(is)f
(expanded)f(to)h(the)g(user)f(name.)221 3310 y Fh(unixTransportPe)o(rm)
o(iss)o(io)o(n)85 b Fr(default)24 b Fs(=)f Fh(0777)221
3507 y Fs(\(Unix)e(platforms)f(only\).)27 b(Determines)19
b(the)h(octal)h(permission)e(bits)h(for)g(Unix)h(domain)g(sock-)221
3619 y(ets.)27 b(By)22 b(default,)g(all)i(users)d(can)i(connect)f(to)g
(a)i(server)-7 b(,)21 b(just)h(as)h(with)f(TCP)-12 b(.)221
3858 y Fh(supportCurrent)85 b Fr(default)24 b Fs(=)f
Fh(1)221 4055 y Fs(omniORB)f(supports)d(the)h Fh(PortableServer:)o(:C)o
(urr)o(en)o(t)15 b Fs(interface)22 b(to)f(pr)n(ovide)g(thr)n(ead)221
4168 y(context)d(information)h(to)f(servants.)25 b(Supporting)17
b(curr)n(ent)h(has)h(a)g(small)h(but)f(noticeable)g(r)o(un-)221
4281 y(time)27 b(over)n(head)f(due)g(to)g(accessing)g(thr)n(ead)h
(speci\002c)f(storage,)g(so)g(this)h(option)f(allows)h(it)g(to)221
4394 y(be)c(turned)e(of)n(f.)221 4633 y Fh(objectTableSize)84
b Fr(default)25 b Fs(=)d Fh(0)221 4829 y Fs(Hash)27 b(table)g(size)g
(of)g(the)f(Active)i(Object)f(Map.)41 b(If)27 b(this)g(is)g(zer)n(o,)h
(the)e(ORB)g(uses)g(a)h(dynami-)221 4942 y(cally)g(r)n(esized)e(open)f
(hash)i(table.)37 b(This)25 b(is)h(normally)g(the)f(best)g(option,)g
(but)g(it)h(leads)f(to)g(less)221 5055 y(pr)n(edictable)f(performance)g
(since)g(any)g(operation)e(which)j(adds)e(or)g(r)n(emoves)h(a)g(table)g
(entry)221 5168 y(may)33 b(trigger)d(a)j(r)n(esize.)55
b(If)32 b(set)f(to)h(a)g(non-zer)n(o)g(value,)j(the)c(hash)h(table)g
(has)g(the)f(speci\002ed)221 5281 y(number)e(of)f(entries,)h(and)f(is)h
(never)f(r)n(esized.)45 b(Note)27 b(that)h(the)g(hash)g(table)h(is)g
(open,)g(so)e(this)221 5394 y(does)18 b(not)i(limit)h(the)e(number)h
(of)g(active)h(objects,)e(just)h(how)f(ef)n(\002ciently)h(they)f(can)i
(be)f(located.)p eop end
%%Page: 31 37
TeXDict begin 31 36 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.6.)51
b(GIOP)23 b(AND)f(INTEROPERABILITY)c(OPTIONS)1212 b Fs(31)63
539 y Fh(poaHoldRequest)o(Ti)o(me)o(out)84 b Fr(default)24
b Fs(=)f Fh(0)63 722 y Fs(If)28 b(a)g(POA)h(is)f(put)f(in)i(the)e
Fh(HOLDING)e Fs(state,)j(calls)h(to)f(it)g(will)h(be)f(timed)g(out)f
(after)h(the)g(speci-)63 835 y(\002ed)f(number)i(of)f(milliseconds,)i
(by)f(raising)g(a)g Fh(TRANSIENT)24 b Fs(exception.)45
b(Zer)n(o)28 b(means)g(no)63 948 y(timeout.)63 1175 y
Fh(supportBootstr)o(ap)o(Ag)o(ent)84 b Fr(default)24
b Fs(=)f Fh(0)63 1359 y Fs(If)f(set)g(tr)o(ue,)f(servers)g(support)g
(the)h(Sun)g(bootstrap)f(agent)h(pr)n(otocol.)63 1662
y Fp(4.6)119 b(GIOP)28 b(and)i(interoperability)e(options)63
1874 y Fs(These)21 b(options)g(contr)n(ol)h(omniORB's)h(use)e(of)i
(GIOP)-12 b(,)23 b(and)f(cover)h(some)e(ar)n(eas)i(wher)n(e)f(omni-)63
1987 y(ORB)g(can)i(work)d(ar)n(ound)i(buggy)e(behaviour)i(by)g(other)e
(ORBs.)63 2213 y Fh(maxGIOPVerson)85 b Fr(default)24
b Fs(=)f Fh(1.2)63 2397 y Fs(Choose)d(the)g(maximum)j(GIOP)e(version)g
(the)f(ORB)h(should)f(support.)26 b(V)-8 b(alid)21 b(values)h(ar)n(e)f
(1.0,)63 2510 y(1.1)i(and)g(1.2.)63 2737 y Fh(giopMaxMsgSize)84
b Fr(default)24 b Fs(=)f Fh(2097152)63 2921 y Fs(The)g(lar)n(gest)g
(message,)f(in)j(bytes,)d(that)i(the)f(ORB)g(will)i(send)e(or)g(r)n
(eceive,)h(to)f(avoid)h(r)n(esour)n(ce)63 3033 y(starvation.)29
b(If)24 b(the)e(limit)j(is)e(exceeded,)e(a)j Fh(MARSHAL)c
Fs(exception)i(is)h(thr)n(own.)29 b(The)23 b(size)g(must)63
3146 y(be)f(>=)h(8192.)63 3373 y Fh(strictIIOP)86 b Fr(default)24
b Fs(=)f Fh(1)63 3557 y Fs(If)f(tr)o(ue,)g(be)h(strict)f(about)h
(interpr)n(etation)f(of)g(the)g(IIOP)h(speci\002cation;)g(if)g(false,)g
(permit)f(some)63 3670 y(buggy)f(behaviour)i(to)f(pass.)63
3896 y Fh(lcdMode)87 b Fr(default)25 b Fs(=)d Fh(0)63
4080 y Fs(If)29 b(tr)o(ue,)h(select)f(`Lowest)e(Common)j(Denominator)7
b(')29 b(mode.)48 b(This)29 b(disables)g(various)h(IIOP)63
4193 y(and)22 b(GIOP)h(featur)n(es)f(that)h(ar)n(e)g(known)e(to)h
(cause)h(pr)n(oblems)f(with)g(some)g(ORBs.)63 4419 y
Fh(tcAliasExpand)85 b Fr(default)24 b Fs(=)f Fh(0)63
4603 y Fs(This)d(\003ag)g(is)g(used)f(to)g(indicate)i(whether)d(T)-8
b(ypeCodes)18 b(associated)h(with)h(Anys)f(should)g(have)63
4716 y(aliases)j(r)n(emoved.)k(This)21 b(functionality)h(is)g(included)
f(because)g(some)g(ORBs)f(will)j(not)e(r)n(ecog-)63 4829
y(nise)k(an)h(Any)f(containing)h(a)g(T)-8 b(ypeCode)23
b(with)j(aliases)g(to)f(be)g(the)g(same)h(as)f(the)g(actual)i(type)63
4942 y(contained)j(in)i(the)e(Any)-10 b(.)52 b(Note)29
b(that)i(omniORB)g(will)i(always)e(r)n(emove)g(top-level)f(aliases,)63
5055 y(but)21 b(will)j(not)d(r)n(emove)g(aliases)i(fr)n(om)f(T)-8
b(ypeCodes)19 b(that)j(ar)n(e)g(members)g(of)g(other)e(T)-8
b(ypeCodes)63 5168 y(\(e.g.)28 b(T)-8 b(ypeCodes)27 b(for)j(members)f
(of)g(str)o(ucts)g(etc.\),)i(unless)d Fh(tcAliasExpand)c
Fs(is)30 b(set)e(to)h(1.)63 5281 y(Ther)n(e)23 b(is)h(a)g(performance)g
(penalty)f(when)g(inserting)g(into)h(an)g(Any)g(if)g
Fh(tcAliasExpand)18 b Fs(is)63 5394 y(set)j(to)h(1.)p
eop end
%%Page: 32 38
TeXDict begin 32 37 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(32)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fh(useTypeCodeIndi)o(re)o(cti)o(on)o(s)85
b Fr(default)24 b Fs(=)f Fh(1)221 724 y Fs(T)-8 b(ypeCode)20
b(Indir)n(ections)h(r)n(educe)g(the)h(size)g(of)g(marshalled)h(T)-8
b(ypeCodes,)19 b(and)j(ar)n(e)h(essential)221 837 y(for)28
b(r)n(ecursive)h(types,)e(but)h(some)g(old)g(ORBs)g(do)f(not)h(support)
e(them.)45 b(Setting)27 b(this)h(\003ag)h(to)221 950
y(false)23 b(pr)n(events)e(the)h(use)g(of)g(indir)n(ections)h(\(and,)f
(ther)n(efor)n(e,)g(r)n(ecursive)g(T)-8 b(ypeCodes\).)221
1178 y Fh(acceptMisaligne)o(dT)o(cIn)o(di)o(re)o(ct)o(io)o(ns)84
b Fr(default)25 b Fs(=)e Fh(0)221 1363 y Fs(If)34 b(tr)o(ue,)j(try)c
(to)h(\002x)g(a)h(mis-aligned)g(indir)n(ection)f(in)h(a)g(typecode.)60
b(This)34 b(is)h(used)d(to)i(work)221 1476 y(ar)n(ound)23
b(a)g(bug)f(in)h(some)f(old)g(versions)g(of)g(V)-5 b(isibr)n(oker)7
b('s)22 b(Java)i(ORB.)221 2015 y Fp(4.7)119 b(System)30
b(Exception)g(Handlers)221 2230 y Fs(By)f(default,)j(all)f(system)d
(exceptions)g(that)i(ar)n(e)g(raised)g(during)f(an)i(operation)d
(invocation,)221 2343 y(with)21 b(the)f(exception)f(of)i(some)e(cases)h
(of)h Fh(CORBA.TRANSIENT)o Fs(,)15 b(ar)n(e)21 b(pr)n(opagated)e(to)h
(the)g(ap-)221 2456 y(plication)29 b(code.)43 b(Some)28
b(applications)g(may)h(pr)n(efer)e(to)g(trap)h(these)e(exceptions)h
(within)h(the)221 2569 y(pr)n(oxy)20 b(objects)h(so)f(that)g(the)h
(application)h(logic)f(does)f(not)g(have)h(to)f(deal)h(with)g(the)f
(err)n(or)h(con-)221 2682 y(dition.)50 b(For)30 b(example,)h(when)f(a)g
Fh(CORBA.COMM_FAILU)o(RE)23 b Fs(is)31 b(r)n(eceived,)g(an)g
(application)221 2795 y(may)i(just)e(want)h(to)g(r)n(etry)f(the)g
(invocation)i(until)g(it)f(\002nally)h(succeeds.)55 b(This)31
b(appr)n(oach)i(is)221 2908 y(useful)22 b(for)h(objects)f(that)g(ar)n
(e)h(persistent)d(and)j(have)g(idempotent)d(operations.)362
3023 y(omniORBpy)e(pr)n(ovides)f(a)h(set)f(of)h(functions)f(to)h
(install)h(exception)d(handlers.)26 b(Once)18 b(they)221
3136 y(ar)n(e)36 b(installed,)i(pr)n(oxy)c(objects)g(will)i(call)h
(these)d(handlers)g(when)g(the)h(associated)f(system)221
3249 y(exceptions)25 b(ar)n(e)j(raised)e(by)h(the)f(ORB)h(r)o(untime.)
41 b(Handlers)26 b(can)i(be)f(installed)g(for)g Fh(CORBA.)221
3362 y(TRANSIENT)p Fs(,)d Fh(CORBA.COMM_FAIL)o(UR)o(E)e
Fs(and)28 b Fh(CORBA.SystemExc)o(ep)o(tio)o(n)p Fs(.)38
b(This)28 b(last)221 3475 y(handler)h(covers)f(all)j(system)c
(exceptions)g(other)h(than)h(the)f(two)g(cover)n(ed)h(by)g(the)f
(\002rst)g(two)221 3588 y(handlers.)k(An)24 b(exception)g(handler)g
(can)h(be)f(installed)h(for)f(individual)i(pr)n(oxy)d(objects,)h(or)g
(it)221 3701 y(can)g(be)e(installed)h(for)f(all)j(pr)n(oxy)c(objects)h
(in)h(the)f(addr)n(ess)f(space.)221 3969 y Fk(4.7.1)99
b(Minor)25 b(codes)221 4151 y Fs(omniORB)19 b(makes)f(extensive)f(use)g
(of)i(exception)e(minor)i(codes)e(to)h(indicate)h(the)f(speci\002c)h
(cir)n(-)221 4264 y(cumstances)24 b(surr)n(ounding)e(a)j(system)d
(exception.)31 b(The)24 b(C++)g(\002le)h Fh(include/omniOR)o(B4)o(/)221
4377 y(minorCode.h)c Fs(contains)k(de\002nitions)g(of)g(all)i(the)e
(minor)h(codes)e(used)g(in)i(omniORB,)f(cov-)221 4490
y(ering)d(codes)g(allocated)h(in)g(the)f(CORBA)g(speci\002cation,)h
(and)f(ones)g(speci\002c)g(to)g(omniORB.)362 4605 y(Applications)33
b(can)g(use)f(minor)h(codes)e(to)h(adjust)g(their)g(behaviour)h(accor)n
(ding)g(to)f(the)221 4718 y(condition.)26 b(Y)-8 b(ou)17
b(can)i(r)n(eceive)f(a)g(string)g(format)g(of)g(a)g(minor)h(code)e(by)h
(calling)h(the)f Fh(omniORB.)221 4831 y(minorCodeToStri)o(ng)o(\(\))e
Fs(function,)23 b(passing)f(an)h(exception)e(object)h(as)h(its)f(ar)n
(gument.)221 5099 y Fk(4.7.2)99 b(CORBA::TRANSIENT)24
b(handlers)221 5281 y Fh(TRANSIENT)e Fs(exceptions)i(can)j(occur)f(in)g
(many)g(cir)n(cumstances.)38 b(One)26 b(cir)n(cumstance)h(is)f(as)221
5394 y(follows:)p eop end
%%Page: 33 39
TeXDict begin 33 38 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.7.)51
b(SYSTEM)21 b(EXCEPTION)g(HANDLERS)1574 b Fs(33)176 539
y(1.)46 b(The)22 b(client)h(invokes)f(on)g(an)h(object)f(r)n(efer)n
(ence.)176 748 y(2.)46 b(The)22 b(object)g(r)n(eplies)g(with)h(a)g
Fh(LOCATION_FORWAR)o(D)17 b Fs(message.)176 958 y(3.)46
b(The)22 b(client)h(caches)g(the)f(new)g(location)h(and)g(r)n(etries)e
(to)h(the)g(new)g(location.)176 1168 y(4.)46 b(T)-5 b(ime)23
b(passes...)176 1378 y(5.)46 b(The)30 b(client)i(tries)e(to)h(invoke)f
(on)h(the)g(object)f(again,)k(using)d(the)f(cached,)j(forwar)n(ded)290
1491 y(location.)176 1701 y(6.)46 b(The)22 b(attempt)f(to)h(contact)h
(the)f(object)g(fails.)176 1910 y(7.)46 b(The)24 b(ORB)g(r)o(untime)h
(r)n(esets)d(the)i(location)h(cache)h(and)e(thr)n(ows)g(a)h
Fh(TRANSIENT)20 b Fs(excep-)290 2023 y(tion)i(with)h(minor)g(code)f
Fh(TRANSIENT_Fail)o(ed)o(On)o(Fo)o(rwa)o(rd)o(ed)o Fs(.)204
2264 y(In)i(this)h(situation,)f(the)g(default)h Fh(TRANSIENT)20
b Fs(exception)k(handler)g(r)n(etries)g(the)g(call,)j(us-)63
2376 y(ing)17 b(the)f(object's)h(original)h(location.)27
b(If)17 b(the)f(r)n(etry)g(r)n(esults)h(in)g(another)f
Fh(LOCATION_FORWARD)o Fs(,)p 3411 2402 42 92 v 63 2489
a(to)26 b(the)f(same)i(or)f(a)h(dif)n(fer)n(ent)g(location,)h(and)f
Fr(that)h Fs(forwar)n(ded)d(location)j(fails)g(immediately)-10
b(,)63 2602 y(the)27 b Fh(TRANSIENT)e Fs(exception)i(will)j(occur)e
(again,)j(and)d(the)g(pattern)f(will)j(r)n(epeat.)44
b(W)-5 b(ith)28 b(r)n(e-)63 2715 y(peated)16 b(exceptions,)h(the)g
(handler)g(starts)g(adding)h(delays)f(befor)n(e)g(r)n(etries,)h(with)f
(exponential)63 2828 y(back-of)n(f.)204 2947 y(In)27
b(all)h(other)e(cir)n(cumstances,)i(the)f(default)g Fh(TRANSIENT)c
Fs(handler)k(just)f(passes)f(the)i(ex-)63 3059 y(ception)22
b(on)g(to)g(the)g(caller)-7 b(.)204 3178 y(Y)f(ou)23
b(can)j(override)e(the)g(default)g(behaviour)h(by)g(installing)h(your)d
(own)h(exception)g(han-)63 3291 y(dler)-7 b(.)27 b(The)22
b(function)h(to)f(call)i(has)f(signatur)n(e:)204 3451
y Ff(omniORB)n(.installTransientExceptionHandler)-6 b(\(cookie)o(,)50
b(function)e([,)h(object)o(]\))p 3641 3481 42 100 v 204
3631 a Fs(The)27 b(ar)n(guments)h(ar)n(e)g(a)h(cookie,)g(which)f(is)h
(any)f(Python)f(object,)i(a)g(call-back)i(function,)63
3744 y(and)25 b(optionally)g(an)h(object)f(r)n(efer)n(ence.)34
b(If)26 b(the)e(object)h(r)n(efer)n(ence)f(is)i(pr)n(esent,)d(the)i
(exception)63 3857 y(handler)32 b(is)h(installed)g(for)g(just)f(that)g
(object;)37 b(otherwise)31 b(the)h(handler)h(is)g(installed)f(for)h
(all)63 3969 y(objects)22 b(with)g(no)g(handler)h(of)g(their)f(own.)204
4088 y(The)g(call-back)j(function)e(must)f(have)h(the)f(signatur)n(e)
204 4248 y Ff(function)n(\(cookie)o(,)50 b(retries)n(,)g(exc)o(\))g(->)
f(boolean)204 4428 y Fs(When)19 b(a)h Fh(TRANSIENT)c
Fs(exception)i(occurs,)i(the)f(function)h(is)g(called,)g(passing)f(the)
g(cookie)63 4541 y(object,)24 b(a)h(count)g(of)f(how)g(many)h(times)f
(the)g(operation)g(has)g(been)g(r)n(etried,)g(and)h(the)e(TRAN-)63
4654 y(SIENT)g(exception)h(object)h(itself.)35 b(If)25
b(the)f(function)i(r)n(eturns)e(tr)o(ue,)g(the)h(operation)f(is)h(r)n
(etried;)63 4767 y(if)33 b(it)g(r)n(eturns)e(false,)k(the)c(original)j
(exception)d(is)i(raised)f(in)h(the)e(application.)59
b(In)32 b(the)g(case)63 4879 y(of)27 b(a)g Fh(TRANSIENT)c
Fs(exception)j(due)g(to)g(a)i(failed)f(location)h(forwar)n(d,)g(the)e
(exception)g(pr)n(opa-)63 4992 y(gated)19 b(to)h(the)g(application)i
(is)f(the)f Fr(original)j Fs(exception)d(that)g(caused)g(the)g
Fh(TRANSIENT)d Fs(\(e.g.)j(a)63 5105 y Fh(COMM_FAILURE)13
b Fs(or)19 b Fh(OBJECT_NOT_EXIS)o(T)p Fs(\),)13 b(rather)18
b(than)h(the)g Fh(TRANSIENT)c Fs(exception)3293 5072
y Fe(1)3329 5105 y Fs(.)p 63 5215 1316 4 v 168 5271 a
Fd(1)197 5302 y Fc(This)23 b(is)f(a)i(change)g(fr)o(om)e(omniORB)g(4.0)
h(/)h(omniORBpy)d(2)j(and)f(earlier)-6 b(,)23 b(wher)o(e)g(it)g(was)g
(the)h Fb(TRANSIENT)63 5394 y Fc(exception)18 b(that)i(was)f(pr)o
(opagated)f(to)h(the)g(application.)p eop end
%%Page: 34 40
TeXDict begin 34 39 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(34)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fk(4.7.3)99 b(CORBA.COMM_F)-5 b(AILURE)22
b(and)i(CORBA.SystemException)221 715 y Fs(Ther)n(e)h(ar)n(e)h(two)f
(other)g(functions)g(for)h(r)n(egistering)f(exception)f(handlers:)34
b(one)25 b(for)h Fh(CORBA.)221 828 y(COMM_FAILURE)p Fs(,)16
b(and)22 b(one)f(for)h(all)h(other)e(exceptions.)26 b(For)21
b(both)g(these)f(cases,)h(the)g(default)221 941 y(is)i(for)f(ther)n(e)g
(to)g(be)h(no)f(handler)-7 b(,)22 b(so)g(exceptions)f(ar)n(e)i(pr)n
(opagated)e(to)h(the)g(application.)362 1088 y Ff(omniORB)o
(.installCommFailureExceptionHandler)-7 b(\(cookie)o(,)50
b(function)e([,)i(object)n(]\))p 3899 1118 42 100 v 362
1188 a(omniORB)o(.installSystemExceptionHandler)-6 b(\(cookie)o(,)50
b(function)e([,)h(object)o(]\))p 3650 1217 V 221 1347
a Fs(In)36 b(both)f(cases,)k(the)c(call-back)k(function)d(has)g(the)g
(same)g(signatur)n(e)f(as)h(for)g Fh(TRANSIENT)221 1460
y Fs(handlers.)221 1758 y Fp(4.8)119 b(Location)31 b(forwarding)221
1968 y Fs(Any)c(CORBA)h(operation)f(invocation)i(can)f(r)n(eturn)f(a)i
Fh(LOCATION_FORWA)o(RD)21 b Fs(message)27 b(to)221 2081
y(the)38 b(caller)-7 b(,)45 b(indicating)40 b(that)f(it)g(should)f(r)n
(etry)g(the)h(invocation)h(on)f(a)g(new)g(object)g(r)n(efer)n(-)221
2194 y(ence.)45 b(The)27 b(standar)n(d)h(allows)h(ServantManagers)f(to)
f(trigger)g Fh(LOCATION_FORWARD)o Fs(s)22 b(by)221 2307
y(raising)27 b(the)f Fh(PortableServer.)o(Fo)o(rw)o(ard)o(Re)o(qu)o(es)
o(t)21 b Fs(exception,)26 b(but)g(it)h(does)e(not)h(pr)n(o-)221
2420 y(vide)e(a)g(similar)i(mechanism)f(for)e(normal)i(servants.)31
b(omniORB)24 b(pr)n(ovides)f(the)g Fh(omniORB.)221 2533
y(LOCATION_FORWAR)o(D)e Fs(exception)26 b(for)h(this)g(purpose.)39
b(It)26 b(can)i(be)f(thr)n(own)f(by)h(any)g(opera-)221
2646 y(tion)c(implementation.)221 2943 y Fp(4.9)119 b(Dynamic)30
b(importing)g(of)g(IDL)221 3154 y Fs(omniORBpy)24 b(is)h(usually)h
(used)d(with)i(pr)n(e-generated)d(stubs.)34 b(Since)25
b(Python)f(is)h(a)g(dynamic)221 3267 y(language,)d(however)-7
b(,)22 b(it)h(is)f(possible)g(to)g(compile)h(and)g(import)f(new)g
(stubs)g(at)g(r)o(un-time.)362 3380 y(Dynamic)g(importing)d(is)h
(achieved)g(with)g Fh(omniORB.import)o(ID)o(L\()o(\))14
b Fs(and)20 b Fh(omniORB.)221 3493 y(importIDLString)o(\(\))o
Fs(.)i(Their)h(signatur)n(es)e(ar)n(e:)362 3639 y Ff(importIDL)o(\()o
(filename)49 b([,)g(args)g(]\))h(->)f(tuple)362 3739
y(importIDLString)m(\(string)g([,)g(args)h(]\))f(->)g(tuple)362
3899 y Fs(The)31 b(\002rst)f(function)h(compiles)g(and)h(imports)e(the)
g(speci\002ed)g(\002le;)35 b(the)c(second)f(takes)f(a)221
4012 y(string)24 b(containing)h(the)f(IDL)g(de\002nitions.)33
b(The)24 b(functions)h(work)f(by)g(forking)g(omniidl)i(and)221
4125 y(importing)35 b(its)g(output)1068 4092 y Fe(2)1103
4125 y Fs(;)41 b(they)34 b(both)g(take)h(an)g(optional)g(ar)n(gument)g
(containing)g(a)h(list)f(of)221 4238 y(strings)20 b(which)j(ar)n(e)f
(used)e(as)i(ar)n(guments)e(for)i(omniidl.)28 b(For)21
b(example,)h(the)e(following)i(com-)221 4351 y(mand)h(r)o(uns)f
(omniidl)i(with)e(an)h(include)g(path)f(set:)362 4497
y Ff(m)50 b(=)g(omniORB)n(.importIDL)n(\("test)o(.idl")o(,)g(["-)o
(I/my/)o(include)o(/path)o("]\))221 4657 y Fs(Instead)33
b(of)i(specifying)f(omniidl)h(ar)n(guments)f(on)g(each)h(import,)i(you)
d(can)h(set)f(the)g(ar)n(gu-)221 4770 y(ments)c(to)g(be)h(used)f(for)h
(all)h(calls)h(using)d(the)g Fh(omniORB.omniidl)o(Ar)o(gu)o(men)o(ts)o
(\(\))24 b Fs(func-)221 4883 y(tion.)362 4996 y(Both)e(import)h
(functions)f(r)n(eturn)g(a)i(tuple)e(containing)h(the)f(names)h(of)g
(the)f(Python)f(mod-)221 5109 y(ules)28 b(that)h(have)g(been)f
(imported.)44 b(The)28 b(modules)g(themselves)f(can)i(be)g(accessed)e
(thr)n(ough)221 5222 y Fh(sys.modules)p Fs(.)c(For)f(example:)p
221 5306 1316 4 v 327 5362 a Fd(2)356 5394 y Fc(omniidl)17
b(must)i(ther)o(efor)o(e)e(be)i(available)g(on)g(your)f(path.)p
eop end
%%Page: 35 41
TeXDict begin 35 40 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(4.10.)51
b(C++)24 b(API)2611 b Fs(35)204 539 y Fg(//)49 b(test)o(.idl)204
638 y Ff(const)g(string)f(s)i(=)g(")o(Hello")o(;)204
738 y(module)e(M1)i({)303 837 y(module)f(M2)h({)403 937
y(const)f(long)g(l)h(=)f(42;)303 1037 y(};)204 1136 y(};)204
1236 y(module)f(M3)i({)303 1336 y(const)f(short)g(s)h(=)f(5;)204
1435 y(};)63 1603 y Fs(Fr)n(om)22 b(Python:)204 1756
y Ff(>>>)49 b(import)g(sys)o(,)h(omniORB)204 1856 y(>>>)f(omniORB)o
(.importIDL)n(\("test)o(.idl)o("\))204 1955 y(\(')o(M1',)g('M1.M2)o(',)
h('M3)o(',)g('_GlobalIDL)n(')o(\))204 2055 y(>>>)f(sys)o(.modules)o
(["M1)o(.M2"].)o(l)204 2155 y(42)204 2254 y(>>>)g(sys)o(.modules)o
(["M3)o("].s)204 2354 y(5)204 2453 y(>>>)g(sys)o(.modules)o
(["_GlobalIDL)n("].)o(s)204 2553 y('Hello)o(')204 2721
y Fs(Note)19 b(that)h(each)h(time)g Fh(importIDL\(\))16
b Fs(or)k Fh(importIDLString\()o(\))14 b Fs(is)21 b(called,)h(the)e
(IDL)63 2834 y(de\002nitions)35 b(ar)n(e)h(compiled)h(and)f(imported)f
(into)h(the)f(associated)h(Python)f(declarations.)63
2947 y(The)j(new)g(declarations)g(overwrite)g(any)h(old)f(ones)f(with)i
(the)f(same)h(names.)75 b(This)39 b(can)63 3060 y(cause)22
b(confusing)g(situations)g(wher)n(e)g(dif)n(fer)n(ent)g(modules)g(see)f
(dif)n(fer)n(ent)h(de\002nitions)g(of)g(the)63 3173 y(same)d(objects.)
27 b(Although)18 b(the)h(objects)g(appear)h(identical,)h(they)e(ar)n(e)
h(not,)f(and)h(comparisons)63 3286 y(within)h(applications)g(and)g
(within)g(omniORBpy)g(unexpectedly)d(fail.)29 b(Y)-8
b(ou)20 b(should)f(not)i(use)63 3398 y(these)g(functions)h(in)h(mor)n
(e)f(than)h(one)f(module)g(to)g(import)g(the)g(same)g(IDL)h(\002les.)63
3708 y Fp(4.10)118 b(C++)32 b(API)63 3922 y Fs(omniORBpy)27
b(has)i(a)g(C++)g(API)f(that)g(can)h(be)g(used)e(by)h(pr)n(ograms)g
(that)g(embed)g(Python)f(in)63 4035 y(C++,)k(or)e(by)g(C++)h(extension)
d(modules)h(to)h(Python.)46 b(The)29 b(API)f(has)i(functions)e(to)h
(convert)63 4148 y(object)i(r)n(efer)n(ences)f(between)g(their)h
(Python)f(r)n(epr)n(esentation)g(and)i(their)f(C++)h(r)n(epr)n(esenta-)
63 4261 y(tion.)43 b(For)27 b(extensions)e(to)i(omniORBpy)g(itself,)i
(it)f(has)g(a)g(mechanism)h(for)e(adding)h(pseudo)63
4374 y(object)22 b(types)f(to)h(omniORBpy)-10 b(.)204
4489 y(The)35 b(de\002nitions)g(used)g(by)h(the)g(C++)h(API)f(ar)n(e)g
(in)h(the)e Fh(omniORBpy.h)d Fs(header)-7 b(.)68 b(An)63
4601 y(example)22 b(of)h(its)f(use)g(is)h(in)g Fh(examples/embed)o(/)p
Fs(.)204 4716 y(The)d(API)g(is)h(accessed)f(thr)n(ough)f(a)i(singleton)
f(str)o(uctur)n(e)g(containing)h(function)f(pointers.)63
4829 y(A)g(pointer)g(to)h(the)f(API)g(str)o(uct)h(is)g(stor)n(ed)e(as)i
(a)h Fh(PyCObject)17 b Fs(in)k(the)f Fh(_omnipy)e Fs(module)j(with)63
4942 y(the)g(name)i Fh(API)p Fs(.)e(It)h(can)i(be)e(accessed)g(with)h
(code)e(like:)204 5095 y Ff(PyObject)n(*)249 b(omnipy)49
b(=)h(PyImport_ImportModule)l(\(\()o(char)o(*\)"_omnipy)o(")o(\);)204
5194 y(PyObject)n(*)249 b(pyapi)99 b(=)50 b(PyObject_GetAttrString)-5
b(\(omnipy)o(,)50 b(\(char)o(*\))o("API")o(\);)p 3591
5224 42 100 v 204 5294 a(omniORBpyAPI)n(*)f(api)199 b(=)50
b(\()o(omniORBpyAPI)n(*\)PyCObject_AsVoidPtr)l(\(pyapi)o(\);)p
3442 5324 V 204 5394 a(Py_DECREF)n(\(pyapi)o(\);)p eop
end
%%Page: 36 42
TeXDict begin 36 41 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(36)936
b Fj(CHAPTER)22 b(4.)51 b(OMNIORB)22 b(CONFIGURA)-7 b(TION)21
b(AND)i(API)221 539 y Fs(The)f(str)o(uctur)n(e)g(has)g(this)h
(de\002nition:)362 688 y Ff(struct)49 b(omniORBpyAPI)f({)462
887 y(PyObject)n(*)i(\(*cxxObjRefToPyObjRef)l(\)\(const)f(CORBA)o(::)o
(Object_ptr)f(cxx_obj)o(,)p 3700 917 42 100 v 2106 987
a(CORBA)o(::)o(Boolean)h(hold_lock)n(\);)462 1087 y Fg(//)g(Convert)g
(a)g(C++)h(object)e(reference)h(to)g(a)h(Python)e(object)h(reference)n
(.)p 3600 1116 V 462 1186 a(//)g(If)h(<hold_lock)n(>)g(is)f(true)o(,)h
(caller)f(holds)f(the)i(Python)e(interpreter)g(lock)o(.)p
3849 1216 V 462 1385 a Ff(CORBA)o(::Object_ptr)g(\(*)o
(pyObjRefToCxxObjRef)m(\)\()o(PyObject)o(*)h(py_obj)o(,)2504
1485 y(CORBA)o(::Boolean)f(hold_lock)o(\);)p 3799 1515
V 462 1585 a Fg(//)h(Convert)g(a)g(Python)g(object)g(reference)f(to)h
(a)h(C++)f(object)g(reference)n(.)p 3600 1615 V 462 1684
a(//)g(Raises)g(BAD_PARAM)f(if)i(the)f(Python)g(object)f(is)i(not)f(an)
g(object)g(reference)n(.)p 3849 1714 V 462 1784 a(//)g(If)h(<hold_lock)
n(>)g(is)f(true)o(,)h(caller)f(holds)f(the)i(Python)e(interpreter)g
(lock)o(.)p 3849 1814 V 362 1884 a Ff(};)p eop end
%%Page: 37 43
TeXDict begin 37 42 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1164 a Fl(Chapter)44
b(5)63 1581 y Fn(The)52 b(IDL)g(compiler)63 2042 y Fs(omniORBpy's)32
b(IDL)h(compiler)g(is)h(called)g(omniidl.)60 b(It)33
b(consists)f(of)h(a)h(generic)e(fr)n(ont-end)63 2155
y(parser)27 b(written)h(in)h(C++,)h(and)f(a)g(number)f(of)h(back-ends)f
(written)f(in)i(Python.)44 b(omniidl)29 b(is)63 2268
y(very)c(strict)h(about)f(IDL)h(validity)-10 b(,)27 b(so)f(you)f(may)h
(\002nd)f(that)h(it)g(r)n(eports)e(err)n(ors)h(in)h(IDL)g(which)63
2381 y(compiles)c(\002ne)g(with)h(other)e(IDL)i(compilers.)204
2496 y(The)f(general)g(form)h(of)f(an)h(omniidl)h(command)f(line)g(is:)
290 2720 y Fh(omniidl)51 b Fs([)p Fr(options)p Fs(])57
b Fh(-b)p Fs(<)p Fr(back-end)p Fs(>)e([)p Fr(back-end)19
b(options)p Fs(])57 b(<)p Fr(\002le)18 b(1)p Fs(>)55
b(<)p Fr(\002le)18 b(2)p Fs(>)55 b(.)14 b(.)g(.)p 3209
2745 42 91 v 63 3033 a Fp(5.1)119 b(Common)31 b(options)63
3248 y Fs(The)22 b(following)g(options)g(ar)n(e)h(common)f(to)g(all)j
(back-ends:)63 3474 y Fh(-b)p Fr(back-end)256 b Fs(Run)22
b(the)g(speci\002ed)f(back-end.)28 b(For)22 b(omniORBpy)-10
b(,)22 b(use)f Fh(-bpython)p Fs(.)63 3587 y Fh(-D)p Fr(name)p
Fs([)p Fh(=)p Fr(value)p Fs(])68 b(De\002ne)22 b Fr(name)h
Fs(for)f(the)g(pr)n(epr)n(ocessor)-7 b(.)63 3700 y Fh(-U)p
Fr(name)379 b Fs(Unde\002ne)21 b Fr(name)i Fs(for)f(the)g(pr)n(epr)n
(ocessor)-7 b(.)63 3813 y Fh(-I)p Fr(dir)471 b Fs(Include)22
b Fr(dir)i Fs(in)f(the)f(pr)n(epr)n(ocessor)e(sear)n(ch)j(path.)63
3926 y Fh(-E)576 b Fs(Only)23 b(r)o(un)g(the)f(pr)n(epr)n(ocessor)-7
b(,)20 b(sending)h(its)h(output)f(to)h(stdout.)63 4039
y Fh(-Y)p Fr(cmd)423 b Fs(Use)22 b Fr(cmd)g Fs(as)h(the)f(pr)n(epr)n
(ocessor)-7 b(,)20 b(rather)i(than)h(the)f(normal)h(C)g(pr)n(epr)n
(ocessor)-7 b(.)63 4152 y Fh(-N)576 b Fs(Do)23 b(not)f(r)o(un)g(the)g
(pr)n(epr)n(ocessor)-7 b(.)63 4265 y Fh(-T)576 b Fs(Use)22
b(a)h(temporary)e(\002le,)h(not)g(a)i(pipe,)d(for)i(pr)n(epr)n(ocessor)
d(output.)63 4378 y Fh(-Wp)p Fr(ar)n(g)p Fs([,)p Fr(ar)n(g)p
Fs(.)14 b(.)g(.)g(])91 b(Send)21 b(ar)n(guments)h(to)g(the)g(pr)n(epr)n
(ocessor)-7 b(.)63 4490 y Fh(-Wb)p Fr(ar)n(g)p Fs([,)p
Fr(ar)n(g)p Fs(.)14 b(.)g(.)g(])91 b(Send)21 b(ar)n(guments)h(to)g(the)
g(back-end.)63 4603 y Fh(-nf)521 b Fs(Do)23 b(not)f(warn)g(about)h(unr)
n(esolved)e(forwar)n(d)i(declarations.)63 4716 y Fh(-k)576
b Fs(Keep)21 b(comments)h(after)h(declarations,)f(to)g(be)h(used)e(by)i
(some)e(back-ends.)63 4829 y Fh(-K)576 b Fs(Keep)21 b(comments)h(befor)
n(e)h(declarations,)f(to)g(be)h(used)e(by)h(some)g(back-ends.)63
4942 y Fh(-C)p Fr(dir)471 b Fs(Change)23 b(dir)n(ectory)e(to)h
Fr(dir)i Fs(befor)n(e)e(writing)h(output)e(\002les.)63
5055 y Fh(-d)576 b Fs(Dump)23 b(the)f(parsed)f(IDL)h(then)g(exit,)g
(without)g(r)o(unning)g(a)h(back-end.)63 5168 y Fh(-p)p
Fr(dir)471 b Fs(Use)22 b Fr(dir)h Fs(as)g(a)g(path)g(to)f(\002nd)g
(omniidl)h(back-ends.)63 5281 y Fh(-V)576 b Fs(Print)23
b(version)f(information)h(then)f(exit.)63 5394 y Fh(-u)576
b Fs(Print)23 b(usage)e(information.)1662 5622 y(37)p
eop end
%%Page: 38 44
TeXDict begin 38 43 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(38)1751
b Fj(CHAPTER)22 b(5.)51 b(THE)21 b(IDL)i(COMPILER)221
539 y Fh(-v)577 b Fs(V)-10 b(erbose:)25 b(trace)e(compilation)h
(stages.)221 862 y(Most)e(of)g(these)f(options)g(ar)n(e)i(self)g
(explanatory)-10 b(,)21 b(but)i(some)f(ar)n(e)h(not)e(so)h(obvious.)221
1116 y Fk(5.1.1)99 b(Preprocessor)25 b(interactions)221
1293 y Fs(IDL)j(is)g(pr)n(ocessed)e(by)i(the)f(C)i(pr)n(epr)n(ocessor)d
(befor)n(e)h(omniidl)i(parses)e(it.)45 b(omniidl)29 b(always)221
1406 y(uses)d(the)h(GNU)g(C)h(pr)n(epr)n(ocessor)d(\(which)k(it)e
(builds)h(with)f(the)g(name)h(omnicpp\).)42 b(The)27
b Fh(-D)p Fs(,)221 1519 y Fh(-U)p Fs(,)19 b(and)g Fh(-I)g
Fs(options)f(ar)n(e)i(just)f(sent)f(to)h(the)f(pr)n(epr)n(ocessor)-7
b(.)25 b(Note)18 b(that)h(the)g(curr)n(ent)g(dir)n(ectory)221
1632 y(is)j(not)g(on)f(the)g(include)i(sear)n(ch)f(path)g(by)f
(default\227use)g(`)p Fh(-I.)p Fs(')g(for)h(that.)28
b(The)21 b Fh(-Y)g Fs(option)g(can)221 1745 y(be)h(used)f(to)h(specify)
g(a)h(dif)n(fer)n(ent)f(pr)n(epr)n(ocessor)e(to)i(omnicpp.)28
b(Bewar)n(e)21 b(that)h(line)h(dir)n(ectives)221 1858
y(inserted)e(by)i(other)e(pr)n(epr)n(ocessors)f(ar)n(e)j(likely)f(to)g
(confuse)g(omniidl.)221 2109 y Fm(5.1.1.1)92 b(W)m(indows)21
b(9x)221 2286 y Fs(The)h(output)f(fr)n(om)j(the)d(C)j(pr)n(epr)n
(ocessor)c(is)j(normally)h(fed)e(to)g(the)g(omniidl)h(parser)f(thr)n
(ough)221 2398 y(a)j(pipe.)32 b(On)25 b(some)e(W)-5 b(indows)24
b(98)h(machines)g(\(but)f(not)g(all!\))35 b(the)24 b(pipe)f(does)g(not)
h(work,)f(and)221 2511 y(the)k(pr)n(epr)n(ocessor)d(output)i(is)h
(echoed)f(to)h(the)f(scr)n(een.)41 b(When)26 b(this)h(happens,)g(the)f
(omniidl)221 2624 y(parser)20 b(sees)g(an)h(empty)f(\002le,)h(and)g(pr)
n(oduces)f(useless)f(stub)h(\002les)h(with)g(strange)f(long)g(names.)
221 2737 y(T)-8 b(o)28 b(avoid)i(the)f(pr)n(oblem,)i(use)d(the)g(`)p
Fh(-T)p Fs(')h(option)f(to)h(cr)n(eate)g(a)h(temporary)e(\002le)h
(between)f(the)221 2850 y(two)22 b(stages.)221 3105 y
Fk(5.1.2)99 b(Forward-declared)24 b(interfaces)221 3281
y Fs(If)f(you)f(have)h(an)g(IDL)f(\002le)h(like:)362
3430 y Ff(interface)48 b(I;)362 3530 y(interface)g(J)i({)462
3629 y(attribute)e(I)i(the_I)o(;)362 3729 y(};)221 3891
y Fs(then)22 b(omniidl)h(will)h(normally)g(issue)d(a)i(warning:)321
4088 y Ff(test.idl:1:)48 b(Warning:)g(Forward)g(declared)h(interface)f
(`I')h(was)g(never)321 4188 y(fully)g(defined)221 4398
y Fs(It)24 b(is)h(illegal)h(to)e(declar)n(e)h(such)f(IDL)g(in)h
(isolation,)h(but)e(it)h Fr(is)g Fs(valid)h(to)e(de\002ne)f(interface)i
Fh(I)f Fs(in)h(a)221 4511 y(separate)i(\002le.)44 b(If)29
b(you)e(have)h(a)h(lot)f(of)g(IDL)g(with)g(this)g(sort)f(of)h(constr)o
(uct,)g(you)f(will)j(dr)n(own)221 4624 y(under)22 b(the)f(warning)i
(messages.)j(Use)c(the)f Fh(-nf)h Fs(option)f(to)h(suppr)n(ess)f(them.)
221 4878 y Fk(5.1.3)99 b(Comments)221 5055 y Fs(By)32
b(default,)i(omniidl)f(discar)n(ds)f(comments)f(in)i(the)e(input)h
(IDL.)f(However)-7 b(,)33 b(with)f(the)g Fh(-k)221 5168
y Fs(and)27 b Fh(-K)f Fs(options,)h(it)g(pr)n(eserves)e(the)h(comments)
g(for)h(use)f(by)h(the)g(back-ends.)40 b(The)26 b(Python)221
5281 y(back-end)e(ignor)n(es)g(this)f(information,)i(but)f(it)h(is)f(r)
n(elatively)h(easy)f(to)f(write)h(new)f(back-ends)221
5394 y(which)g Fr(do)h Fs(make)e(use)g(of)h(comments.)p
eop end
%%Page: 39 45
TeXDict begin 39 44 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(5.2.)51
b(PYTHON)22 b(BACK-END)g(OPTIONS)1675 b Fs(39)204 539
y(The)23 b(two)g(dif)n(fer)n(ent)h(options)e(r)n(elate)i(to)f(how)g
(comments)h(ar)n(e)g(attached)f(to)h(declarations)63
652 y(within)f(the)e(IDL.)h(Given)i(IDL)e(like:)204 803
y Ff(interface)48 b(I)i({)303 902 y(void)f(op1\(\);)303
1002 y Fg(//)h(A)f(comment)303 1102 y Ff(void)g(op2\(\);)204
1201 y(};)63 1367 y Fs(the)21 b Fh(-k)h Fs(\003ag)h(will)h(attach)f
(the)f(comment)h(to)f Fh(op1\(\))p Fs(;)e(the)i Fh(-K)f
Fs(\003ag)i(will)h(attach)f(it)g(to)f Fh(op2\(\))p Fs(.)63
1671 y Fp(5.2)119 b(Python)30 b(back-end)g(options)63
1883 y Fs(When)d(you)f(specify)i(the)e(Python)h(back-end)g(\(with)h
Fh(-bpython)p Fs(\),)e(the)h(following)g Fh(-Wb)g Fs(op-)63
1996 y(tions)18 b(ar)n(e)h(available.)29 b(Note)18 b(that)g(the)g
Fh(-Wb)g Fs(options)f(must)h(be)h(speci\002ed)f Fr(after)i
Fs(the)e Fh(-bpython)63 2109 y Fs(option,)j(so)h(omniidl)h(knows)f
(which)h(back-end)f(to)g(give)h(the)f(ar)n(guments)g(to.)63
2327 y Fh(-Wbstdout)218 b Fs(Send)22 b(the)g(generated)e(stubs)h(to)h
(standar)n(d)h(output,)d(rather)i(than)h(to)f(a)h(\002le.)63
2440 y Fh(-Wbinline)218 b Fs(Output)22 b(stubs)g(for)g(#included)h
(\002les)f(in)h(line)g(with)g(the)f(main)i(\002le.)63
2553 y Fh(-Wbglobal=)p Fr(g)118 b Fs(Use)22 b Fr(g)h
Fs(as)g(the)f(name)g(for)h(the)f(global)h(IDL)g(scope)e(\(default)i
Fh(_GlobalIDL)p Fs(\).)63 2666 y Fh(-Wbpackage=)p Fr(p)63
b Fs(Put)22 b(both)h(Python)e(modules)g(and)i(stub)f(\002les)g(in)h
(package)g Fr(p)p Fs(.)63 2779 y Fh(-Wbmodules=)p Fr(p)63
b Fs(Put)22 b(Python)g(modules)f(in)i(package)g Fr(p)p
Fs(.)63 2892 y Fh(-Wbstubs=)p Fr(p)173 b Fs(Put)22 b(stub)g(\002les)h
(in)g(package)f Fr(p)p Fs(.)204 3221 y(The)27 b Fh(-Wbstdout)d
Fs(option)j(is)h(not)f(r)n(eally)i(useful)e(if)i(you)e(ar)n(e)h
(invoking)g(omniidl)h(your)n(-)63 3334 y(self.)e(It)22
b(is)h(used)e(by)i Fh(omniORB.import)o(IDL)o(\(\))o Fs(,)17
b(described)k(in)i(section)f(4.9.)204 3448 y(When)30
b(you)h(compile)h(an)f(IDL)g(\002le)h(which)g(#includes)f(other)f(IDL)h
(\002les,)i(omniidl)f(nor)n(-)63 3561 y(mally)e(only)f(generates)e
(code)h(for)h(the)f(main)i(\002le,)h(assuming)e(that)f(code)h(for)g
(the)f(included)63 3674 y(\002les)e(will)j(be)d(generated)f(separately)
-10 b(.)40 b(Instead,)26 b(you)g(can)i(use)e(the)g Fh(-Wbinline)d
Fs(option)j(to)63 3787 y(generate)20 b(code)i(for)h(the)f(main)h(IDL)g
(\002le)f Fr(and)i Fs(all)g(included)e(\002les)g(in)h(a)h(single)e
(stub)g(\002le.)204 3901 y(De\002nitions)f(declar)n(ed)h(at)g(IDL)f
(global)i(scope)d(ar)n(e)i(normally)h(placed)f(in)g(a)g(Python)f(mod-)
63 4014 y(ule)h(named)h(`)p Fh(_GlobalIDL)p Fs('.)18
b(The)k Fh(-Wbglobal)d Fs(allows)k(you)e(to)h(change)h(that.)204
4127 y(As)f(explained)g(in)h(section)f(2.2,)h(when)f(you)g(compile)h
(an)g(IDL)f(\002le)h(like:)204 4279 y Fg(//)49 b(example_echo)n(.idl)
204 4378 y Ff(module)f(Example)h({)303 4478 y(interface)g(Echo)g({)403
4577 y(string)g(echoString)n(\(in)g(string)g(mesg)o(\);)303
4677 y(};)204 4777 y(};)63 4942 y Fs(omniidl)32 b(generates)d(dir)n
(ectories)i(named)g Fh(Example)e Fs(and)i Fh(Example__POA)p
Fs(,)e(which)j(pr)n(o-)63 5055 y(vide)g(the)g(standar)n(d)f(Python)g
(mapping)i(modules,)g(and)g(also)f(the)g(\002le)g Fh(example_echo_)63
5168 y(idl.py)23 b Fs(which)j(contains)f(the)g(actual)i(de\002nitions.)
36 b(The)25 b(latter)g(\002le)h(contains)f(code)g(which)63
5281 y(inserts)e(the)g(de\002nitions)g(in)i(the)f(standar)n(d)g
(modules.)32 b(This)24 b(arrangement)f(means)i(that)f(it)g(is)63
5394 y(not)29 b(possible)h(to)g(move)g(all)i(of)e(the)g(generated)e
(code)i(into)g(a)h(Python)e(package)h(by)h(simply)p eop
end
%%Page: 40 46
TeXDict begin 40 45 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(40)1751
b Fj(CHAPTER)22 b(5.)51 b(THE)21 b(IDL)i(COMPILER)221
539 y Fs(placing)29 b(the)e(\002les)g(in)h(a)g(suitably)g(named)g(dir)n
(ectory)-10 b(.)42 b(Y)-8 b(ou)26 b(may)i(wish)g(to)f(do)g(this)g(to)g
(avoid)221 652 y(clashes)c(with)f(names)h(in)g(use)e(elsewher)n(e)g(in)
i(your)f(softwar)n(e.)362 764 y(Y)-8 b(ou)33 b(can)h(place)g(all)h
(generated)c(code)i(in)h(a)g(package)f(using)g(the)f
Fh(-Wbpackage)d Fs(com-)221 877 y(mand)23 b(line)g(option.)k(For)22
b(example,)448 1090 y Fh(omniidl)52 b(-bpython)f(-Wbpackage=gen)o(er)o
(ate)o(d)d(echo_example.id)o(l)p 3400 1104 42 73 v 221
1302 a Fs(cr)n(eates)25 b(a)h(dir)n(ectory)f(named)g(`)p
Fh(generated)p Fs(',)e(containing)j(the)f(generated)e(code.)36
b(The)25 b(stub)221 1415 y(module)f(is)h(now)f(called)h(`)p
Fh(generated.Exampl)o(e)p Fs(',)19 b(and)25 b(the)f(actual)h(stub)f
(de\002nitions)g(ar)n(e)221 1528 y(in)29 b(`)p Fh(generated.examp)o(le)
o(_e)o(ch)o(o_i)o(dl)o Fs('.)39 b(If)28 b(you)f(wish)h(to)g(split)f
(the)h(modules)f(and)h(the)221 1641 y(stub)21 b(de\002nitions)g(into)h
(dif)n(fer)n(ent)g(Python)e(packages,)h(you)h(can)g(use)f(the)h
Fh(-Wbmodules)17 b Fs(and)221 1754 y Fh(-Wbstubs)i Fs(options.)362
1867 y(Note)j(that)h(if)h(you)f(use)f(these)g(options)f(to)i(change)g
(the)g(module)f(package,)h(the)g(interface)221 1980 y(to)e(the)g
(generated)f(code)h(is)h(not)f(strictly-speaking)f(CORBA)i(compliant.)
29 b(Y)-8 b(ou)20 b(may)i(have)h(to)221 2093 y(change)g(your)e(code)h
(if)i(you)d(ever)h(use)g(a)h(Python)e(ORB)i(other)e(than)i(omniORBpy)
-10 b(.)221 2391 y Fp(5.3)119 b(Examples)221 2602 y Fs(Generate)22
b(the)g(Python)f(stubs)g(for)i(a)g(\002le)g Fh(a.idl)p
Fs(:)448 2815 y Fh(omniidl)52 b(-bpython)f(a.idl)221
3027 y Fs(As)22 b(above,)h(but)f(put)g(the)g(stubs)f(in)j(a)f(package)f
(called)i(`)p Fh(stubs)p Fs(':)448 3240 y Fh(omniidl)52
b(-bpython)f(-Wbstubs=stubs)d(a.idl)221 3453 y Fs(Generate)22
b(both)g(Python)f(and)i(C++)g(stubs)f(for)g(two)g(IDL)g(\002les:)448
3665 y Fh(omniidl)52 b(-bpython)f(-bcxx)h(a.idl)g(b.idl)221
3878 y Fs(Just)22 b(check)h(the)e(IDL)i(\002les)f(for)h(validity)-10
b(,)23 b(generating)e(no)h(output:)448 4090 y Fh(omniidl)52
b(a.idl)g(b.idl)p eop end
%%Page: 41 47
TeXDict begin 41 46 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1162 a Fl(Chapter)44
b(6)63 1577 y Fn(Interoperable)53 b(Naming)f(Service)63
2036 y Fs(omniORB)36 b(supports)d(the)i(Inter)n(operable)g(Naming)h
(Service)g(\(INS\).)f(The)h(following)g(is)g(a)63 2149
y(summary)22 b(of)h(its)f(facilities.)63 2449 y Fp(6.1)119
b(Object)29 b(URIs)63 2661 y Fs(As)g(well)h(as)g(accepting)g
(IOR-format)g(strings,)g Fh(orb.string_to_o)o(bj)o(ec)o(t\(\))23
b Fs(now)29 b(also)63 2774 y(supports)g(two)h(new)h(Uniform)h(Resour)n
(ce)e(Identi\002er)g(\(URI\))h([BLFIM98])h(formats,)h(which)63
2887 y(can)25 b(be)g(used)f(to)g(specify)h(objects)f(in)i(a)f
(convenient)g(human-r)n(eadable)h(form.)35 b(The)24 b(existing)63
3000 y(IOR-format)f(strings)e(ar)n(e)i(now)f(also)h(consider)n(ed)e
(URIs.)63 3256 y Fk(6.1.1)99 b(corbaloc)63 3433 y Fh(corbaloc)21
b Fs(URIs)j(allow)i(you)e(to)g(specify)h(object)f(r)n(efer)n(ences)g
(which)i(can)g(be)e(contacted)h(by)63 3546 y(IIOP)-12
b(,)33 b(or)h(found)f(thr)n(ough)g Fh(ORB::resolve_in)o(it)o(ia)o(l_)o
(ref)o(er)o(en)o(ce)o(s\()o(\))p Fs(.)56 b(T)-8 b(o)33
b(specify)63 3659 y(an)23 b(IIOP)f(object)h(r)n(efer)n(ence,)e(you)h
(use)g(a)h(URI)f(of)g(the)g(form:)290 3873 y Fh(corbaloc:iiop:)p
Fs(<)p Fr(host)p Fs(>)p Fh(:)p Fs(<)p Fr(port)p Fs(>)p
Fh(/)p Fs(<)p Fr(object)e(key)p Fs(>)63 4087 y(for)i(example:)290
4300 y Fh(corbaloc:iiop:m)o(yh)o(os)o(t.)o(ex)o(amp)o(le)o(.c)o(om)o
(:1)o(234)o(/M)o(yO)o(bj)o(ec)o(tKe)o(y)63 4514 y Fs(which)36
b(speci\002es)f(an)h(object)g(with)g(key)e(`MyObjectKey')i(within)g(a)h
(pr)n(ocess)d(r)o(unning)i(on)63 4627 y(myhost.example.com)d(listening)
h(on)h(port)e(1234.)67 b(Object)35 b(keys)e(containing)j(non-ASCII)63
4740 y(characters)22 b(can)i(use)e(the)f(standar)n(d)h(URI)g(\045)h
(escapes:)290 4954 y Fh(corbaloc:iiop:m)o(yh)o(os)o(t.)o(ex)o(amp)o(le)
o(.c)o(om)o(:1)o(234)o(/M)o(y\045)o(ef)o(Ob)o(jec)o(tK)o(ey)p
3132 4968 42 73 v 63 5168 a Fs(denotes)d(an)j(object)f(key)g(with)g
(the)g(value)h(239)h(\(hex)f(ef\))g(in)g(the)f(thir)n(d)g(octet.)204
5281 y(The)h(pr)n(otocol)g(name)g(`)p Fh(iiop)p Fs(')g(can)h(be)g(abbr)
n(eviated)g(to)f(the)g(empty)f(string,)h(so)f(the)h(origi-)63
5394 y(nal)g(URI)f(can)h(be)g(written:)1662 5622 y(41)p
eop end
%%Page: 42 48
TeXDict begin 42 47 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(42)1033
b Fj(CHAPTER)21 b(6.)51 b(INTEROPERABLE)19 b(NAMING)j(SER)-5
b(VICE)448 539 y Fh(corbaloc::myhost)o(.e)o(xa)o(mp)o(le.)o(co)o(m:)o
(12)o(34)o(/My)o(Ob)o(je)o(ct)o(Ke)o(y)221 743 y Fs(The)19
b(IANA)f(has)i(assigned)e(port)h(number)g(2809)1895 710
y Fe(1)1954 743 y Fs(for)h(use)e(by)i Fh(corbaloc)p Fs(,)c(so)j(if)i
(the)d(server)h(is)221 856 y(listening)j(on)g(that)g(port,)f(you)g(can)
i(leave)g(the)e(port)g(number)h(out.)27 b(The)21 b(following)i(two)e
(URIs)221 969 y(r)n(efer)h(to)g(the)g(same)h(object:)448
1174 y Fh(corbaloc::myhost)o(.e)o(xa)o(mp)o(le.)o(co)o(m:)o(28)o(09)o
(/My)o(Ob)o(je)o(ct)o(Ke)o(y)448 1287 y(corbaloc::myhost)o(.e)o(xa)o
(mp)o(le.)o(co)o(m/)o(My)o(Ob)o(jec)o(tK)o(ey)221 1491
y Fs(Y)-8 b(ou)17 b(can)h(specify)f(an)h(object)f(which)h(is)g
(available)j(at)c(mor)n(e)h(than)f(one)g(location)h(by)g(separating)221
1604 y(the)k(locations)h(with)f(commas:)448 1809 y Fh(corbaloc::myhost)
o(.e)o(xa)o(mp)o(le.)o(co)o(m,)s(:l)o(oca)o(lh)o(os)o(t:)o(12)o(34/)o
(My)o(Ob)o(je)o(ct)o(Key)p 3513 1823 42 73 v 221 2014
a Fs(Note)37 b(that)h(you)f(must)g(r)n(estate)g(the)h(pr)n(otocol)f
(for)h(each)h(addr)n(ess,)h(hence)e(the)f(`)p Fh(:)p
Fs(')h(befor)n(e)221 2127 y(`)p Fh(localhost)p Fs('.)25
b(It)d(could)g(equally)h(have)g(been)f(written)g(`)p
Fh(iiop:localhost)o Fs('.)362 2240 y(Y)-8 b(ou)22 b(can)h(also)g
(specify)f(an)h(IIOP)g(version)f(number:)448 2444 y Fh
(corbaloc::1.2@my)o(ho)o(st)o(.e)o(xam)o(pl)o(e.)o(co)o(m/)o(MyO)o(bj)o
(ec)o(tK)o(ey)362 2649 y Fs(Specifying)h(IIOP)g(versions)f(above)i(1.0)
g(is)f(slightly)g(risky)f(since)h(higher)g(versions)f(make)221
2762 y(use)k(of)g(various)h(information)g(stor)n(ed)e(in)i(IORs)f(that)
g(is)g(not)g(pr)n(esent)f(in)i(a)g(corbaloc)g(URI.)f(It)221
2875 y(is)21 b(generally)f(best)g(to)g(contact)h(initial)h(corbaloc)g
(objects)e(with)h(IIOP)f(1.0,)i(and)f(r)n(ely)f(on)h(higher)221
2988 y(versions)h(for)g(all)i(other)e(object)g(r)n(efer)n(ences.)221
3214 y(Alternatively)-10 b(,)31 b(to)e(use)g Fh(resolve_initia)o(l_r)o
(ef)o(er)o(en)o(ce)o(s\(\))o Fs(,)c(you)k(use)g(a)h(URI)f(of)h(the)221
3327 y(form:)448 3531 y Fh(corbaloc:rir:/Na)o(me)o(Se)o(rv)o(ice)221
3785 y Fk(6.1.2)99 b(corbaname)221 3962 y Fh(corbaname)24
b Fs(URIs)j(cause)h Fh(string_to_objec)o(t\()o(\))22
b Fs(to)28 b(look-up)f(a)h(name)h(in)f(a)h(CORBA)221
4075 y(Naming)23 b(service.)28 b(They)21 b(ar)n(e)i(an)g(extension)e
(of)i(the)e Fh(corbaloc)f Fs(syntax:)448 4279 y Fh(corbaname:)p
Fs(<)p Fr(corbaloc)h(location)p Fs(>)p Fh(/)p Fs(<)p
Fr(object)k(key)p Fs(>)p Fh(#)p Fs(<)p Fr(stringi\002ed)h(name)p
Fs(>)221 4484 y(for)d(example:)448 4689 y Fh(corbaname::myhos)o(t/)o
(Na)o(me)o(Ser)o(vi)o(ce)o(#p)o(ro)o(jec)o(t/)o(ex)o(am)o(pl)o(e/e)o
(ch)o(o.)o(ob)o(j)p 3400 4703 V 448 4802 a(corbaname:rir:/N)o(am)o(eS)o
(er)o(vic)o(e#)o(pr)o(oj)o(ec)o(t/e)o(xa)o(mp)o(le)o(/e)o(cho)o(.o)o
(bj)221 5006 y Fs(The)e(object)g(found)g(with)h(the)e
Fh(corbaloc)p Fs(-style)d(portion)k(must)g(be)g(of)h(type)e
Fh(CosNaming::)221 5119 y(NamingContext)p Fs(,)d(or)22
b(something)f(derived)g(fr)n(om)i(it.)28 b(If)22 b(the)g(object)g(key)f
(\(or)i Fh(rir)e Fs(name\))i(is)221 5232 y(`)p Fh(NameService)p
Fs(',)18 b(it)23 b(can)g(be)g(left)g(out:)p 221 5306
1316 4 v 327 5362 a Fd(1)356 5394 y Fc(Not)c(2089)h(as)e(printed)h(in)f
([OMG00]!)p eop end
%%Page: 43 49
TeXDict begin 43 48 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(6.2.)51
b(CONFIGURING)22 b(RESOL)-8 b(VE_INITIAL_REFERE)o(NCES)887
b Fs(43)290 539 y Fh(corbaname::myho)o(st)o(#p)o(ro)o(je)o(ct/)o(ex)o
(am)o(pl)o(e/)o(ech)o(o.)o(ob)o(j)290 652 y(corbaname:rir:#)o(pr)o(oj)o
(ec)o(t/)o(exa)o(mp)o(le)o(/e)o(ch)o(o.o)o(bj)63 835
y Fs(The)19 b(stringi\002ed)f(name)i(portion)f(can)h(also)g(be)g(left)g
(out,)f(in)h(which)g(case)g(the)f(URI)g(denotes)e(the)63
948 y Fh(CosNaming::Nam)o(in)o(gC)o(ont)o(ex)o(t)f Fs(which)24
b(would)e(have)h(been)f(used)f(for)h(a)i(look-up:)290
1131 y Fh(corbaname::myho)o(st)o(.e)o(xa)o(mp)o(le.)o(co)o(m)290
1244 y(corbaname:rir:)63 1427 y Fs(The)19 b(\002rst)h(of)g(these)f
(examples)h(is)g(the)g(easiest)f(way)h(of)g(specifying)g(the)g
(location)h(of)f(a)h(naming)63 1540 y(service.)63 1833
y Fp(6.2)119 b(Con\002guring)31 b(resolve_initial_references)63
2044 y Fs(The)17 b(INS)g(speci\002es)g(two)h(standar)n(d)f(command)i
(line)f(ar)n(guments)g(which)g(pr)n(ovide)g(a)h(portable)63
2157 y(way)j(of)h(con\002guring)f Fh(ORB::resolve_i)o(ni)o(ti)o(al_)o
(re)o(fe)o(re)o(nc)o(es\()o(\))p Fs(:)63 2407 y Fk(6.2.1)99
b(ORBInitRef)63 2584 y Fh(-ORBInitRef)28 b Fs(takes)33
b(an)h(ar)n(gument)g(of)f(the)g(form)h(<)p Fr(ObjectId)p
Fs(>)p Fh(=)p Fs(<)p Fr(ObjectURI)r Fs(>.)63 b(So,)36
b(for)63 2697 y(example,)22 b(with)g(command)i(line)f(ar)n(guments)e
(of:)290 2880 y Fh(-ORBInitRef)49 b(NameService=corb)o(an)o(am)o(e:)o
(:my)o(ho)o(st)o(.e)o(xa)o(mpl)o(e.)o(co)o(m)p 3187 2894
42 73 v 63 3063 a(resolve_initia)o(l_)o(re)o(fer)o(en)o(ce)o(s\()o("N)o
(ame)o(Se)o(rv)o(ic)o(e")o(\))25 b Fs(will)32 b(r)n(eturn)e(a)i(r)n
(efer)n(ence)e(to)63 3176 y(the)h(object)i(with)f(key)f(`NameService')i
(available)j(on)c(myhost.example.com,)h(port)e(2809.)63
3289 y(Since)22 b(IOR-format)h(strings)f(ar)n(e)h(consider)n(ed)e
(URIs,)g(you)h(can)h(also)g(say)f(things)g(like:)290
3472 y Fh(-ORBInitRef)49 b(NameService=IOR:)o(00)o(ff)o(..)o(.)63
3722 y Fk(6.2.2)99 b(ORBDefaultInitRef)63 3898 y Fh(-ORBDefaultIni)o
(tR)o(ef)26 b Fs(pr)n(ovides)32 b(a)h(pr)n(e\002x)f(string)f(which)j
(is)e(used)f(to)h(r)n(esolve)g(other)n(-)63 4011 y(wise)f(unknown)f
(names.)55 b(When)31 b Fh(resolve_initial)o(_r)o(ef)o(ere)o(nc)o(es)o
(\(\))25 b Fs(is)32 b(unable)g(to)63 4124 y(r)n(esolve)i(a)h(name)g
(which)g(has)f(been)g(speci\002cally)i(con\002gur)n(ed)d(\(with)i
Fh(-ORBInitRef)p Fs(\),)d(it)63 4237 y(constr)o(ucts)d(a)j(string)e
(consisting)g(of)g(the)h(default)f(pr)n(e\002x,)i(a)g(`)p
Fh(/)p Fs(')f(character)-7 b(,)33 b(and)e(the)f(name)63
4350 y(r)n(equested.)24 b(The)c(string)g(is)h(then)f(fed)g(to)h
Fh(string_to_obje)o(ct)o(\(\))o Fs(.)h(So,)e(for)h(example,)g(with)63
4463 y(a)i(command)g(line)g(of:)290 4646 y Fh(-ORBDefaultInit)o(Re)o(f)
48 b(corbaloc::myhos)o(t.e)o(xa)o(mp)o(le)o(.c)o(om)63
4829 y Fs(a)19 b(call)h(to)e Fh(resolve_initial)o(_re)o(fe)o(re)o(nc)o
(es)o(\("M)o(yS)o(er)o(vi)o(ce)o("\))12 b Fs(will)20
b(r)n(eturn)e(the)g(object)63 4942 y(r)n(efer)n(ence)k(denoted)e(by)i
(`)p Fh(corbaloc::myhost)o(.e)o(xa)o(mpl)o(e.)o(co)o(m/)o(My)o(Ser)o
(vi)o(ce)o Fs('.)204 5055 y(Similarly)-10 b(,)37 b(a)d
Fh(corbaname)29 b Fs(pr)n(e\002x)k(can)h(be)f(used)f(to)h(cause)g
(look-ups)f(in)h(the)g(naming)63 5168 y(service.)40 b(Note,)26
b(however)-7 b(,)27 b(that)g(since)g(a)g(`)p Fh(/)p Fs(')g(character)h
(is)f(always)g(added)f(to)g(the)g(pr)n(e\002x,)h(it)63
5281 y(is)h(impossible)f(to)g(specify)h(a)g(look-up)f(in)h(the)f(r)n
(oot)g(context)g(of)g(the)g(naming)i(service\227you)63
5394 y(have)23 b(to)f(use)f(a)i(sub-context,)e(like:)p
eop end
%%Page: 44 50
TeXDict begin 44 49 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(44)1033
b Fj(CHAPTER)21 b(6.)51 b(INTEROPERABLE)19 b(NAMING)j(SER)-5
b(VICE)448 539 y Fh(-ORBDefaultInitR)o(ef)48 b(corbaname::myh)o(ost)o
(.e)o(xa)o(mp)o(le)o(.co)o(m#)o(se)o(rv)o(ic)o(es)p 3564
553 42 73 v 221 842 a Fp(6.3)119 b(omniNames)221 1058
y Fk(6.3.1)99 b(NamingContextExt)221 1236 y Fs(omniNames)23
b(supports)d(the)h Fh(CosNaming::Namin)o(gC)o(on)o(te)o(xt)o(Ext)16
b Fs(interface:)362 1387 y Ff(module)49 b(CosNaming)f({)462
1487 y(interface)g(NamingContextExt)f(:)j(NamingContext)d({)562
1587 y(typedef)h(string)h(StringName)n(;)562 1686 y(typedef)f(string)h
(Address)n(;)562 1786 y(typedef)f(string)h(URLString)n(;)562
1985 y(StringName)97 b(to_string)o(\()o(in)50 b(Name)f(n\))398
b(raises)o(\(InvalidName)n(\);)p 3550 2015 42 100 v 562
2085 a(Name)f(to_name)99 b(\()o(in)50 b(StringName)e(sn)o(\))i(raises)o
(\(InvalidName)n(\);)p 3550 2115 V 562 2284 a(exception)e
(InvalidAddress)f({};)562 2483 y(URLString)147 b(to_url)o(\(in)49
b(Address)g(addr)o(,)h(in)f(StringName)f(sn\))661 2583
y(raises)o(\(InvalidAddress)m(,)i(InvalidName)n(\);)562
2782 y(Object)297 b(resolve_str)n(\(in)50 b(StringName)d(n\))661
2882 y(raises)o(\(NotFound)n(,)j(CannotProceed)n(,)f(InvalidName)n(,)h
(AlreadyBound)n(\);)p 3600 2912 V 462 2981 a(};)362 3081
y(};)362 3246 y Fh(to_string\(\))25 b Fs(and)30 b Fh(to_name\(\))c
Fs(convert)k(fr)n(om)g Fh(CosNaming::Name)23 b Fs(sequences)221
3359 y(to)i(\003attened)g(strings)g(and)h(vice-versa.)38
b(Calling)28 b(these)c(operations)g(involves)j(r)n(emote)e(calls)221
3472 y(to)32 b(the)g(naming)h(service,)h(so)e(they)f(ar)n(e)i(not)e
(particularly)j(ef)n(\002cient.)57 b(The)32 b Fh(omniORB.URI)221
3585 y Fs(module)22 b(contains)h(equivalent)g Fh(nameToString\(\))17
b Fs(and)23 b Fh(stringToName\(\))17 b Fs(functions,)221
3698 y(which)23 b(do)f(not)g(involve)i(r)n(emote)d(calls.)362
3811 y(A)28 b Fh(CosNaming::Name)21 b Fs(is)28 b(stringi\002ed)e(by)i
(separating)f(name)h(components)e(with)i(`)p Fh(/)p Fs(')221
3924 y(characters.)39 b(The)25 b Fh(kind)f Fs(and)i Fh(id)g
Fs(\002elds)f(of)h(each)g(component)f(ar)n(e)i(separated)d(by)i(`)p
Fh(.)p Fs(')39 b(char)n(-)221 4037 y(acters.)45 b(If)29
b(the)f Fh(kind)f Fs(\002eld)h(is)h(empty)-10 b(,)28
b(the)g(r)n(epr)n(esentation)f(has)h(no)h(trailing)g(`)p
Fh(.)p Fs(';)j(if)d(the)f Fh(id)221 4150 y Fs(is)j(empty)-10
b(,)31 b(the)f(r)n(epr)n(esentation)f(starts)g(with)i(a)g(`)p
Fh(.)p Fs(')52 b(character;)35 b(if)d(both)e Fh(id)g
Fs(and)h Fh(kind)e Fs(ar)n(e)221 4263 y(empty)-10 b(,)19
b(the)f(r)n(epr)n(esentation)g(is)i(just)f(a)h(`)p Fh(.)p
Fs('.)27 b(The)18 b(backslash)j(`)p Fh(\\)p Fs(')e(is)h(used)e(to)h
(escape)g(the)f(mean-)221 4376 y(ing)23 b(of)f(`)p Fh(/)p
Fs(',)h(`)p Fh(.)p Fs(')28 b(and)23 b(`)p Fh(\\)p Fs(')g(itself.)362
4490 y Fh(to_url\(\))31 b Fs(takes)i(a)i Fh(corbaloc)c
Fs(style)i(addr)n(ess)g(and)h(key)g(string)f(\(but)h(without)g(the)221
4603 y Fh(corbaloc:)24 b Fs(part\),)30 b(and)e(a)h(stringi\002ed)e
(name,)i(and)f(r)n(eturns)f(a)i Fh(corbaname)24 b Fs(URI)k(\(incor)n(-)
221 4715 y(r)n(ectly)h(called)h(a)f(URL\))g(string,)g(having)h(pr)n
(operly)d(escaped)h(any)h(invalid)i(characters.)47 b(The)221
4828 y(speci\002cation)26 b(does)e(not)h(make)h(it)g(clear)h(whether)d
(or)i(not)f(the)g(addr)n(ess)f(string)h(should)g(also)221
4941 y(be)c(escaped)e(by)i(the)f(operation;)g(omniORB)h(does)e(not)h
(escape)g(it.)27 b(For)20 b(this)h(r)n(eason,)f(it)h(is)g(best)221
5054 y(to)26 b(avoid)i(calling)g Fh(to_url\(\))23 b Fs(if)28
b(the)e(addr)n(ess)f(part)i(contains)f(escapable)h(characters.)41
b(The)221 5167 y(local)24 b(function)f Fh(omniORB.URI.add)o(rA)o(nd)o
(Na)o(meT)o(oU)o(RI)o(\(\))16 b Fs(is)23 b(equivalent.)362
5281 y Fh(resolve_str\(\))12 b Fs(is)18 b(equivalent)f(to)g(calling)i
Fh(to_name\(\))14 b Fs(followed)j(by)g(the)g(inherited)221
5394 y Fh(resolve\(\))22 b Fs(operation.)38 b(Ther)n(e)26
b(ar)n(e)g(no)g(string-based)f(equivalents)h(of)h(the)e(various)i(bind)
p eop end
%%Page: 45 51
TeXDict begin 45 50 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(6.4.)51
b(OMNIMAPPER)2363 b Fs(45)63 539 y(operations.)63 792
y Fk(6.3.2)99 b(Use)24 b(with)h(corbaname)63 969 y Fs(T)-8
b(o)17 b(make)h(it)h(easy)f(to)f(use)h(omniNames)g(with)g
Fh(corbaname)c Fs(URIs,)k(it)h(starts)e(with)h(the)g(default)63
1082 y(port)j(of)i(2809,)h(and)f(an)g(object)f(key)g(of)g(`)p
Fh(NameService)p Fs(')d(for)j(the)g(r)n(oot)g(naming)h(context.)63
1380 y Fp(6.4)119 b(omniMapper)63 1591 y Fs(omniMapper)29
b(is)i(a)f(simple)h(daemon)e(which)i(listens)e(on)h(port)f(2809)j(\(or)
f(any)f(other)f(port\),)63 1704 y(and)17 b(r)n(edir)n(ects)f(IIOP)h(r)n
(equests)e(for)i(con\002gur)n(ed)f(object)h(keys)f(to)g(associated)h
(persistent)d(IORs.)p 3355 1730 42 92 v 63 1817 a(It)29
b(can)j(be)e(used)f(to)g(make)i(a)g(naming)g(service)f(\(even)g(an)h
(old)f(non-INS)f(awar)n(e)i(version)f(of)63 1930 y(omniNames)e(or)h
(other)f(ORB's)g(naming)i(service\))f(appear)g(on)g(port)f(2809)j(with)
e(the)f(object)63 2043 y(key)19 b(`)p Fh(NameService)p
Fs('.)j(The)e(same)g(goes)f(for)h(any)g(other)f(service)h(you)f(may)i
(wish)f(to)f(specify)-10 b(,)63 2156 y(such)22 b(as)h(an)g(interface)g
(r)n(epository)-10 b(.)25 b(omniMapper)d(is)h(started)e(with)i(a)g
(command)g(line)g(of:)290 2363 y Fh(omniMapper)50 b([-port)i
Fs(<)p Fr(port)p Fs(>)p Fh(])j([-config)c Fs(<)p Fr(con\002g)24
b(\002le)p Fs(>)p Fh(])54 b([-v])63 2570 y Fs(The)29
b Fh(-port)e Fs(option)i(allows)h(you)f(to)g(choose)f(a)i(port)f(other)
f(than)i(2809)h(to)e(listen)h(on.)48 b(The)63 2683 y
Fh(-config)19 b Fs(option)j(speci\002es)f(a)j(location)f(for)g(the)f
(con\002guration)g(\002le.)28 b(The)22 b(default)g(name)h(is)63
2796 y Fh(/etc/omniMappe)o(r.)o(cf)o(g)p Fs(,)k(or)j
Fh(C:\\omniMapper.)o(cfg)24 b Fs(on)30 b(W)-5 b(indows.)51
b(omniMapper)63 2909 y(does)22 b(not)h(normally)i(print)e(anything;)h
(the)f Fh(-v)g Fs(option)g(makes)h(it)g(verbose)f(so)g(it)h(prints)f
(con-)63 3021 y(\002guration)k(information)h(and)f(a)h(r)n(ecor)n(d)g
(of)f(the)g(r)n(edir)n(ections)g(it)g(makes,)h(to)f(standar)n(d)g(out-)
63 3134 y(put.)204 3247 y(The)e(con\002guration)h(\002le)g(is)g(very)g
(simple.)38 b(Each)27 b(line)f(contains)g(a)h(string)e(to)h(be)g(used)e
(as)63 3360 y(an)e(object)h(key)-10 b(,)20 b(some)i(white)g(space,)f
(and)i(an)f(IOR)h(\(or)f(any)g(valid)i(URI\))e(that)g(it)g(will)i(r)n
(edir)n(ect)63 3473 y(that)c(object)h(key)e(to.)27 b(Comments)20
b(should)g(be)g(pr)n(e\002xed)g(with)h(a)g(`)p Fh(#)p
Fs(')g(character)-7 b(.)28 b(For)20 b(example:)290 3680
y Fh(#)54 b(Example)d(omniMapper.cfg)290 3793 y(NameService)486
b(IOR:000f...)290 3906 y(InterfaceReposi)o(to)o(ry)48
b(IOR:0100...)204 4113 y Fs(omniMapper)25 b(can)i(either)d(be)i(r)o(un)
g(on)f(a)h(single)g(machine,)h(in)f(much)g(the)f(same)h(way)f(as)63
4226 y(omniNames,)f(or)g(it)g(can)h(be)g(r)o(un)f(on)g
Fr(every)i Fs(machine,)g(with)e(a)h(common)f(con\002guration)g(\002le.)
63 4339 y(That)e(way)-10 b(,)22 b(each)h(machine's)h(omniORB)e
(con\002guration)g(\002le)h(could)g(contain)g(the)f(line:)290
4546 y Fh(ORBDefaultInitR)o(ef)48 b(corbaloc::loca)o(lh)o(ost)63
4844 y Fp(6.5)119 b(Creating)29 b(objects)h(with)f(simple)h(object)g
(keys)63 5055 y Fs(In)k(normal)g(use,)i(omniORB)f(cr)n(eates)e(object)h
(keys)f(containing)h(various)h(information)g(in-)63 5168
y(cluding)24 b(POA)h(names)f(and)g(various)g(non-ASCII)g(characters.)33
b(Since)24 b(object)g(keys)f(ar)n(e)h(sup-)63 5281 y(posed)c(to)h(be)h
(opaque,)f(this)g(is)h(not)f(usually)h(a)h(pr)n(oblem.)28
b(The)21 b(INS)g(br)n(eaks)g(this)h(opacity)g(and)63
5394 y(r)n(equir)n(es)g(servers)f(to)h(cr)n(eate)g(objects)g(with)h
(human-friendly)g(keys.)p eop end
%%Page: 46 52
TeXDict begin 46 51 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(46)1033
b Fj(CHAPTER)21 b(6.)51 b(INTEROPERABLE)19 b(NAMING)j(SER)-5
b(VICE)362 539 y Fs(If)33 b(you)f(wish)g(to)g(make)h(your)f(objects)g
(available)k(with)c(human-friendly)h(URIs,)h(ther)n(e)221
652 y(ar)n(e)c(two)f(options.)47 b(The)28 b(\002rst)h(is)h(to)f(use)f
(omniMapper)h(as)h(described)e(above,)j(in)f(conjunc-)221
764 y(tion)g(with)g(a)h Fh(PERSISTENT)26 b Fs(POA.)k(The)f(second)g(is)
h(to)g(cr)n(eate)g(objects)f(with)h(the)g(r)n(equir)n(ed)221
877 y(keys)c(yourself.)41 b(Y)-8 b(ou)26 b(do)h(this)g(with)g(a)h
(special)g(POA)g(with)f(the)g(name)h(`)p Fh(omniINSPOA)p
Fs(',)23 b(ac-)221 990 y(quir)n(ed)33 b(fr)n(om)i Fh(resolve_initia)o
(l_)o(re)o(fe)o(ren)o(ce)o(s\()o(\))p Fs(.)55 b(This)33
b(POA)h(has)f(the)g Fh(USER_ID)221 1103 y Fs(and)27 b
Fh(PERSISTENT)22 b Fs(policies,)27 b(and)f(the)g(special)h(pr)n(operty)
d(that)i(the)g(object)g(keys)f(it)i(cr)n(eates)221 1216
y(contain)21 b(only)f(the)g(object)g(ids)g(given)g(to)g(the)f(POA,)i
(and)f(no)g(other)f(data.)28 b(It)19 b(is)i(a)g(normal)g(POA)221
1329 y(in)28 b(all)g(other)e(r)n(espects,)g(so)g(you)g(can)i
(activate/deactivate)g(it,)g(cr)n(eate)f(childr)n(en,)h(and)f(so)g(on,)
221 1442 y(in)c(the)f(usual)h(way)-10 b(.)362 1555 y(Childr)n(en)31
b(of)g(the)e(omniINSPOA)h(do)g(not)g(inherit)g(its)g(special)h(pr)n
(operties)d(of)j(cr)n(eating)221 1668 y(simple)22 b(object)f(keys.)26
b(If)c(the)e(omniINSPOA)-7 b('s)21 b(policies)h(ar)n(e)g(not)f
(suitable)h(for)g(your)e(applica-)221 1781 y(tion,)i(you)g(cannot)h(cr)
n(eate)g(a)g(POA)g(with)g(dif)n(fer)n(ent)f(policies)h(\(such)g(as)g
(single)f(thr)n(eading,)g(for)221 1894 y(example\),)g(and)g(still)h
(generate)d(simple)i(object)f(keys.)26 b(Instead,)20
b(you)h(can)i(activate)g(a)g(servant)221 2006 y(in)f(the)f(omniINSPOA)g
(that)g(uses)f(location)j(forwar)n(ding)e(to)g(r)n(edir)n(ect)g(r)n
(equests)f(to)h(objects)g(in)221 2119 y(a)i(dif)n(fer)n(ent)g(POA.)p
eop end
%%Page: 47 53
TeXDict begin 47 52 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1164 a Fl(Chapter)44
b(7)63 1582 y Fn(Connection)51 b(and)i(Thread)63 1831
y(Management)63 2293 y Fs(This)22 b(chapter)g(describes)g(how)g
(omniORB)g(manages)h(thr)n(eads)f(and)g(network)f(connections.)63
2610 y Fp(7.1)119 b(Background)63 2827 y Fs(In)20 b(CORBA,)h(the)f(ORB)
g(is)h(the)f(`middlewar)n(e')h(that)g(allows)g(a)h(client)f(to)f
(invoke)g(an)i(operation)63 2940 y(on)27 b(an)g(object)g(without)f(r)n
(egar)n(d)h(to)g(its)g(implementation)g(or)g(location.)42
b(In)27 b(or)n(der)f(to)h(invoke)63 3053 y(an)34 b(operation)f(on)g(an)
h(object,)i(a)f(client)f(needs)e(to)h(`bind')i(to)e(the)g(object)g(by)h
(acquiring)h(its)63 3166 y(object)22 b(r)n(efer)n(ence.)28
b(Such)23 b(a)h(r)n(efer)n(ence)e(may)h(be)g(obtained)f(as)h(the)g(r)n
(esult)f(of)h(an)g(operation)f(on)63 3279 y(another)f(object)h(\(such)g
(as)g(a)g(naming)h(service)f(or)f(factory)h(object\))g(or)g(by)g
(conversion)f(fr)n(om)i(a)63 3392 y(stringi\002ed)h(r)n(epr)n
(esentation.)34 b(If)26 b(the)e(object)h(is)h(in)g(a)g(dif)n(fer)n(ent)
f(addr)n(ess)f(space,)i(the)e(binding)63 3505 y(pr)n(ocess)19
b(involves)i(the)f(ORB)h(building)g(a)g(pr)n(oxy)f(object)h(in)g(the)f
(client's)h(addr)n(ess)e(space.)27 b(The)63 3617 y(ORB)h(arranges)h
(for)f(invocations)i(on)e(the)g(pr)n(oxy)g(object)h(to)f(be)h(transpar)
n(ently)f(mapped)g(to)63 3730 y(equivalent)22 b(invocations)i(on)e(the)
g(implementation)g(object.)204 3846 y(For)17 b(the)g(sake)f(of)i(inter)
n(operability)-10 b(,)18 b(CORBA)g(mandates)f(that)h(all)h(ORBs)e
(should)g(support)63 3959 y(IIOP)23 b(as)h(the)e(means)i(to)f
(communicate)h(r)n(emote)f(invocations)h(over)f(a)h(TCP/IP)f
(connection.)63 4072 y(IIOP)f(is)g(usually)657 4039 y
Fe(1)717 4072 y Fs(asymmetric)g(with)h(r)n(espect)e(to)g(the)h(r)n
(oles)g(of)g(the)g(parties)f(at)i(the)e(two)h(ends)63
4185 y(of)d(a)h(connection.)26 b(At)19 b(one)f(end)h(is)g(the)f(client)
i(which)g(can)g(only)f(initiate)h(r)n(emote)e(invocations.)63
4298 y(At)k(the)g(other)f(end)h(is)g(the)g(server)g(which)h(can)g(only)
g(r)n(eceive)f(r)n(emote)g(invocations.)204 4414 y(Notice)34
b(that)h(in)h(CORBA,)f(as)g(in)h(most)e(distributed)g(systems,)i(r)n
(emote)e(bindings)h(ar)n(e)63 4527 y(established)23 b(implicitly)j
(without)e(application)i(intervention.)32 b(This)24 b(pr)n(ovides)g
(the)g(illusion)63 4640 y(that)34 b(all)j(objects)d(ar)n(e)i(local,)j
(a)d(pr)n(operty)d(known)h(as)h(`location)h(transpar)n(ency'.)65
b(CORBA)63 4752 y(does)20 b(not)h(specify)g(when)g(such)h(bindings)f
(should)g(be)h(established)f(or)g(how)g(they)g(should)g(be)63
4865 y(multiplexed)28 b(over)g(the)g(underlying)f(network)g
(connections.)45 b(Instead,)29 b(ORBs)f(ar)n(e)h(fr)n(ee)f(to)63
4978 y(implement)22 b(implicit)j(binding)d(by)h(a)g(variety)g(of)f
(means.)204 5094 y(The)d(r)n(est)g(of)h(this)f(chapter)h(describes)f
(how)g(omniORB)h(manages)g(network)e(connections)63 5207
y(and)k(the)g(pr)n(ogramming)h(interface)g(to)f(\002ne)g(tune)f(the)h
(management)g(policy)-10 b(.)p 63 5306 1316 4 v 168 5362
a Fd(1)197 5394 y Fc(GIOP)19 b(1.2)g(supports)f(`bidir)o(ectional)f
(GIOP',)h(which)i(permits)e(the)h(r\364les)e(to)i(be)g(r)o(eversed.)
1662 5622 y Fs(47)p eop end
%%Page: 48 54
TeXDict begin 48 53 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(48)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)221
539 y Fp(7.2)119 b(The)30 b(model)221 760 y Fs(omniORB)e(is)g(designed)
e(fr)n(om)i(the)f(gr)n(ound)g(up)h(to)f(be)h(fully)g(multi-thr)n
(eaded.)43 b(The)28 b(objec-)221 872 y(tive)e(is)h(to)e(maximise)i(the)
e(degr)n(ee)g(of)h(concurr)n(ency)f(and)h(at)h(the)e(same)h(time)g
(eliminate)h(any)221 985 y(unnecessary)k(thr)n(ead)h(over)n(head.)56
b(Another)31 b(objective)i(is)f(to)g(minimise)h(the)f(interfer)n(ence)
221 1098 y(by)27 b(the)f(activities)i(of)f(other)e(thr)n(eads)h(on)g
(the)g(pr)n(ogr)n(ess)f(of)i(a)h(r)n(emote)d(invocation.)42
b(In)26 b(other)221 1211 y(wor)n(ds,)i(thr)n(ead)e(`cr)n(oss-talk')i
(should)f(be)g(minimised)h(within)g(the)f(ORB.)g(T)-8
b(o)27 b(achieve)h(these)221 1324 y(objectives,)g(the)e(degr)n(ee)g(of)
h(multiplexing)h(at)f(every)f(level)i(is)f(kept)f(to)h(a)h(minimum)g
(by)g(de-)221 1437 y(fault.)362 1555 y(Minimising)21
b(multiplexing)e(works)f(well)i(when)f(the)g(ORB)g(is)g(r)n(elatively)i
(lightly)e(loaded.)221 1668 y(However)-7 b(,)33 b(when)f(the)f(ORB)h
(is)g(under)f(heavy)i(load,)h(it)e(can)i(sometimes)c(be)i(bene\002cial)
i(to)221 1781 y(conserve)24 b(operating)f(system)f(r)n(esour)n(ces)i
(such)g(as)g(thr)n(eads)g(and)g(network)f(connections)g(by)221
1894 y(multiplexing)i(at)f(the)g(ORB)g(level.)33 b(omniORB)25
b(has)f(various)h(options)e(that)h(contr)n(ol)g(its)g(mul-)221
2006 y(tiplexing)e(behaviour)-7 b(.)221 2335 y Fp(7.3)119
b(Client)30 b(side)f(behaviour)221 2556 y Fs(On)23 b(the)f(client)h
(side)f(of)g(a)i(connection,)d(the)h(thr)n(ead)g(that)g(invokes)g(on)g
(a)h(pr)n(oxy)f(object)h(drives)221 2669 y(the)j(GIOP)g(pr)n(otocol)g
(dir)n(ectly)g(and)h(blocks)f(on)g(the)f(connection)h(to)g(r)n(eceive)g
(the)g(r)n(eply)-10 b(.)38 b(The)221 2782 y(\002rst)32
b(time)g(the)f(client)i(makes)e(a)i(call)h(to)e(a)g(particular)i(addr)n
(ess)d(space,)j(the)d(ORB)h(opens)e(a)221 2895 y(suitable)23
b(connection)f(to)g(the)f(r)n(emote)h(addr)n(ess)f(space)h(\(based)g
(on)g(the)g(client)h(transport)e(r)o(ule)221 3008 y(as)30
b(described)f(in)h(section)f(7.7.1\).)51 b(After)29 b(the)g(r)n(eply)g
(has)h(been)f(r)n(eceived,)i(the)e(ORB)h(caches)221 3121
y(the)22 b(open)f(network)g(connection,)h(r)n(eady)g(for)h(use)e(by)i
(another)e(call.)362 3239 y(If)j(two)f(\(or)h(mor)n(e\))g(thr)n(eads)f
(in)h(a)h(multi-thr)n(eaded)e(client)h(attempt)f(to)g(contact)h(the)f
(same)221 3352 y(addr)n(ess)31 b(space)h(simultaneously)-10
b(,)33 b(ther)n(e)e(ar)n(e)i(two)e(dif)n(fer)n(ent)h(ways)g(to)f(pr)n
(oceed.)55 b(The)32 b(de-)221 3464 y(fault)h(way)e(is)h(to)f(open)g
(another)f(network)g(connection)h(to)g(the)g(server)-7
b(.)54 b(This)32 b(means)f(that)221 3577 y(neither)26
b(the)h(client)h(or)e(server)h(ORB)g(has)g(to)f(perform)h(any)g
(multiplexing)h(on)f(the)f(network)221 3690 y
(connections\227multiplexing)35 b(is)g(performed)f(by)i(the)e
(operating)g(system,)j(which)f(has)g(to)221 3803 y(deal)19
b(with)g(multiplexing)g(anyway)-10 b(.)26 b(The)18 b(second)g
(possibility)g(is)h(for)g(the)f(client)i(to)e(multiplex)221
3916 y(the)24 b(concurr)n(ent)f(r)n(equests)f(on)i(a)h(single)f
(network)e(connection.)33 b(This)24 b(conserves)e(operating)221
4029 y(system)f(r)n(esour)n(ces)g(\(network)g(connections\),)g(but)i
(means)f(that)g(both)g(the)g(client)h(and)f(server)221
4142 y(have)h(to)f(deal)h(with)f(multiplexing)h(issues)e(themselves.)
362 4260 y(In)36 b(the)g(default)h(one)e(call)k(per)c(connection)h
(mode,)j(ther)n(e)d(is)h(a)g(limit)h(to)d(the)h(number)221
4373 y(of)i(concurr)n(ent)f(connections)g(that)g(ar)n(e)h(opened,)i
(set)c(with)i(the)f Fh(maxGIOPConnect)o(io)o(n)221 4486
y(PerServer)18 b Fs(parameter)-7 b(.)27 b(T)-8 b(o)21
b(tell)i(the)e(ORB)h(that)f(it)h(may)h(multiplex)f(calls)h(on)f(a)g
(single)g(con-)221 4598 y(nection,)h(set)g(the)f Fh(oneCallPerConne)o
(cti)o(on)17 b Fs(parameter)23 b(to)g(zer)n(o.)30 b(If)24
b(the)e Fh(oneCallPer)221 4711 y(Connection)34 b Fs(parameter)k(is)g
(set)f(to)h(the)f(default)h(value)h(of)f(one,)j(and)d(ther)n(e)g(ar)n
(e)g(mor)n(e)221 4824 y(concurr)n(ent)28 b(calls)i(than)f(speci\002ed)e
(by)i Fh(maxGIOPConnect)o(io)o(nP)o(erS)o(er)o(ve)o(r)p
Fs(,)24 b(calls)30 b(block)221 4937 y(waiting)23 b(for)g(connections)e
(to)h(become)h(fr)n(ee.)362 5055 y(Note)g(that)h(some)f(server)n(-side)
g(ORBs,)h(including)g(omniORB)h(versions)e(befor)n(e)h(version)221
5168 y(4.0,)f(ar)n(e)f(unable)g(to)f(deal)h(with)g(concurr)n(ent)f
(calls)i(multiplexed)e(on)h(a)g(single)g(connection,)f(so)221
5281 y(they)29 b(serialise)h(the)g(calls.)51 b(It)30
b(is)g(usually)h(best)e(to)g(keep)g(to)g(the)h(default)g(mode)f(of)h
(opening)221 5394 y(multiple)23 b(connections.)p eop
end
%%Page: 49 55
TeXDict begin 49 54 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(7.3.)51
b(CLIENT)21 b(SIDE)h(BEHA)-10 b(VIOUR)1875 b Fs(49)63
539 y Fk(7.3.1)99 b(Client)25 b(side)g(timeouts)63 719
y Fs(omniORB)19 b(can)i(associate)e(a)h(timeout)f(with)h(a)g(call,)i
(meaning)e(that)f(if)h(the)f(call)j(takes)c(too)h(long)63
832 y(a)25 b Fh(TRANSIENT)c Fs(exception)j(is)h(thr)n(own.)34
b(T)-5 b(imeouts)23 b(can)j(be)f(set)f(for)g(the)g(whole)h(pr)n(ocess,)
f(for)63 945 y(a)f(speci\002c)f(thr)n(ead,)g(or)h(for)f(a)h(speci\002c)
g(object)f(r)n(efer)n(ence.)204 1059 y(T)-5 b(imeouts)21
b(ar)n(e)i(set)f(using)g(functions)g(in)h(the)f Fh(omniORB)d
Fs(module:)204 1212 y Ff(omniORB)n(.setClientCallTimeout)m(\()o
(millisecs)o(\))204 1312 y(omniORB)n(.setClientCallTimeout)m(\()o
(objref)o(,)50 b(millisecs)n(\))204 1411 y(omniORB)n
(.setClientThreadCallTimeout)-5 b(\(millisecs)o(\))204
1511 y(omniORB)n(.setClientConnectTimeout)l(\(millisecs)n(\))204
1679 y Fh(setClientCallT)o(ime)o(ou)o(t\()o(\))20 b Fs(sets)k(either)h
(the)h(global)h(timeout)e(or)g(the)h(timeout)f(for)63
1792 y(a)i(speci\002c)g(object)g(r)n(efer)n(ence.)40
b Fh(setClientThrea)o(dCa)o(ll)o(Ti)o(me)o(ou)o(t\(\))20
b Fs(sets)25 b(the)h(timeout)63 1904 y(for)c(the)g(calling)i(thr)n
(ead.)k(Setting)21 b(any)h(timeout)g(value)i(to)e(zer)n(o)g(disables)h
(it.)204 2019 y(Accessing)34 b(per)n(-thr)n(ead)f(state)h(is)h(a)g(r)n
(elatively)h(expensive)d(operation,)j(so)e(per)g(thr)n(ead)63
2132 y(timeouts)29 b(ar)n(e)j(disabled)f(by)g(default.)53
b(The)30 b Fh(supportPerThread)o(Ti)o(me)o(Ou)o(t)25
b Fs(parameter)63 2245 y(must)d(be)g(set)g(tr)o(ue)g(to)g(enable)g
(them.)204 2359 y(T)-8 b(o)24 b(choose)f(the)h(timeout)g(value)h(to)f
(use)g(for)h(a)g(call,)i(the)c(ORB)i(\002rst)f(looks)f(to)i(see)e(if)j
(ther)n(e)63 2472 y(is)j(a)h(timeout)f(for)g(the)f(object)i(r)n(efer)n
(ence,)g(then)e(to)h(the)g(calling)i(thr)n(ead,)f(and)f(\002nally)i(to)
d(the)63 2585 y(global)23 b(timeout.)204 2700 y(When)38
b(a)i(client)g(has)f(no)g(existing)f(connection)h(to)f(communicate)i
(with)f(a)h(server)-7 b(,)42 b(it)63 2813 y(must)35 b(open)g(a)h(new)g
(connection)f(befor)n(e)h(performing)f(the)g(call.)70
b Fh(setClientConne)o(ct)63 2926 y(Timeout\(\))19 b Fs(sets)j(an)i
(overriding)e(timeout)h(for)g(cases)g(wher)n(e)f(a)i(new)f(connection)g
(must)g(be)63 3039 y(established.)35 b(The)25 b(ef)n(fect)g(of)g(the)g
(connect)g(timeout)f(depends)f(upon)i(whether)e(the)i(connect)63
3151 y(timeout)c(is)i(gr)n(eater)f(or)g(less)g(than)g(the)g(timeout)g
(that)g(would)g(otherwise)f(be)i(used.)63 3379 y(As)f(an)h(example,)f
(imagine)h(that)g(the)f(usual)g(call)j(timeout)d(is)g(10)i(seconds:)63
3641 y Fm(Connect)e(timeout)h(>)f(usual)h(timeout)63
3821 y Fs(If)k(the)g(connect)g(timeout)g(is)g(set)g(to)g(20)h(seconds,)
f(then)g(a)h(call)h(that)f(establishes)e(a)i(new)f(con-)63
3934 y(nection)18 b(will)j(be)e(permitted)f(20)i(seconds)d(befor)n(e)i
(it)g(times)g(out.)26 b(Subsequent)17 b(calls)k(using)d(the)63
4047 y(same)h(connection)f(have)h(the)f(normal)i(10)g(second)e
(timeout.)25 b(If)19 b(establishing)g(the)f(connection)63
4160 y(takes)f(8)j(seconds,)e(then)g(the)g(call)j(itself)e(takes)e(5)j
(seconds,)e(the)g(call)i(succeeds)e(despite)f(having)63
4273 y(taken)k(13)j(seconds)d(in)i(total,)f(longer)g(than)h(the)e
(usual)i(timeout.)204 4387 y(This)c(kind)g(of)g(con\002guration)g(is)g
(good)f(when)g(connections)g(ar)n(e)i(slow)f(to)g(be)g(established.)63
4649 y Fm(Connect)j(timeout)h(<)f(usual)h(timeout)63
4829 y Fs(If)i(the)f(connect)h(timeout)f(is)h(set)f(to)g(2)i(seconds,)e
(the)g(actual)i(network-level)e(connect)h(is)g(only)63
4942 y(permitted)g(to)h(take)h(2)g(seconds.)39 b(As)27
b(long)f(as)h(the)f(connection)h(is)g(established)f(in)h(less)g(than)63
5055 y(2)c(seconds,)e(the)i(call)i(can)f(pr)n(oceed.)k(The)22
b(10)i(second)e(call)j(timeout)d(still)i(applies)f(to)f(the)h(time)63
5168 y(taken)h(for)h(the)f(whole)g(call)j(\(including)f(the)e
(connection)g(establishment\).)35 b(So,)25 b(if)g(establish-)63
5281 y(ing)i(the)g(connection)g(takes)f(1.5)j(seconds,)d(and)i(the)f
(call)i(itself)f(takes)e(9.5)i(seconds,)f(the)g(call)63
5394 y(will)j(time)g(out)e(because)h(although)g(it)g(met)g(the)g
(connection)g(timeout,)g(it)h(exceeded)d(the)i(10)p eop
end
%%Page: 50 56
TeXDict begin 50 55 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(50)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)221
539 y Fs(second)h(total)g(call)j(timeout.)j(On)23 b(the)f(other)g
(hand,)g(if)i(establishing)e(the)h(connection)f(takes)f(3)221
652 y(seconds,)26 b(the)g(call)i(will)h(fail)f(after)f(only)f(2)h
(seconds,)f(since)h(only)f(2)i(seconds)d(ar)n(e)i(permitted)221
764 y(for)c(the)f(connect.)362 898 y(If)27 b(an)f(object)h(r)n(efer)n
(ence)e(has)i(multiple)g(possible)e(endpoints)f(available,)30
b(the)c(client)h(will)221 1011 y(attempt)17 b(to)h(connect)f(to)h(them)
g(in)g(turn,)g(until)h(one)e(succeeds.)25 b(The)17 b(connect)h(timeout)
f(applies)221 1123 y(to)23 b(each)g(connection)g(attempt.)29
b(So)23 b(with)g(a)h(connect)f(timeout)f(of)h(2)h(seconds,)e(the)g
(client)i(will)221 1236 y(spend)i(up)h(to)f(2)i(seconds)e(attempting)g
(to)h(connect)g(to)f(the)h(\002rst)f(addr)n(ess)g(and)i(then,)f(if)h
(that)221 1349 y(fails,)c(up)e(to)g(2)h(seconds)e(trying)h(the)f
(second)h(addr)n(ess,)f(and)h(so)g(on.)362 1483 y(This)28
b(kind)g(of)g(con\002guration)f(is)h(useful)g(wher)n(e)f(calls)j(may)e
(take)g(a)g(long)g(time)g(to)f(com-)221 1595 y(plete)j(\(so)h(call)j
(timeouts)c(ar)n(e)h(long\),)j(but)d(a)h(fast)f(indication)h(of)g
(connection)f(failur)n(e)h(is)g(r)n(e-)221 1708 y(quir)n(ed.)221
2132 y Fp(7.4)119 b(Server)29 b(side)h(behaviour)221
2384 y Fs(The)e(server)g(side)g(has)g(two)g(primary)h(modes)e(of)i
(operation:)39 b(thr)n(ead)28 b(per)g(connection)g(and)221
2497 y(thr)n(ead)h(pooling.)47 b(It)28 b(is)h(able)h(to)f(dynamically)i
(transition)e(between)e(the)h(two)h(modes,)g(and)221
2610 y(it)f(supports)d(a)j(hybrid)g(scheme)f(that)g(behaves)h(mostly)f
(like)g(thr)n(ead)h(pooling,)g(but)f(has)h(the)221 2723
y(same)23 b(fast)f(turn-ar)n(ound)g(for)h(sequences)d(of)j(calls)h(as)f
(thr)n(ead)f(per)f(connection.)221 3103 y Fk(7.4.1)99
b(Thread)25 b(per)f(connection)i(mode)221 3321 y Fs(In)e(thr)n(ead)g
(per)g(connection)g(mode)f(\(the)h(default,)g(and)h(the)f(only)g
(option)f(in)i(omniORB)f(ver)n(-)221 3434 y(sions)k(befor)n(e)h(4.0\),)
i(each)e(connection)f(has)h(a)g(single)f(thr)n(ead)h(dedicated)e(to)h
(it.)47 b(The)28 b(thr)n(ead)221 3546 y(blocks)g(waiting)g(for)g(a)h(r)
n(equest.)42 b(When)27 b(it)h(r)n(eceives)g(one,)g(it)g(unmarshals)g
(the)f(ar)n(guments,)221 3659 y(makes)33 b(the)g(up-call)i(to)e(the)g
(application)h(code,)i(marshals)e(the)e(r)n(eply)-10
b(,)36 b(and)d(goes)f(back)j(to)221 3772 y(watching)29
b(the)g(connection.)46 b(Ther)n(e)28 b(is)i(thus)e(no)g(thr)n(ead)h
(switching)g(along)g(the)f(call)j(chain,)221 3885 y(meaning)23
b(the)f(call)i(is)f(very)f(ef)n(\002cient.)362 4018 y(As)j(explained)g
(above,)h(a)f(client)h(can)g(choose)e(to)h(multiplex)g(multiple)h
(concurr)n(ent)f(calls)221 4131 y(on)32 b(a)g(single)f(connection,)i
(so)e(once)g(the)g(server)g(has)h(r)n(eceived)f(the)g(r)n(equest,)h
(and)g(just)f(be-)221 4244 y(for)n(e)24 b(it)g(makes)f(the)h(call)h
(into)f(application)h(code,)e(it)i(marks)e(the)g(connection)h(as)g
(`selectable',)221 4357 y(meaning)h(that)f(another)f(thr)n(ead)h
(should)f(watch)i(it)g(to)e(see)g(if)j(any)e(other)f(r)n(equests)f
(arrive.)34 b(If)221 4470 y(they)18 b(do,)h(extra)g(thr)n(eads)f(ar)n
(e)i(dispatched)e(to)g(handle)i(the)e(concurr)n(ent)h(calls.)28
b(GIOP)19 b(1.2)h(actu-)221 4583 y(ally)25 b(allows)f(the)g(ar)n
(gument)f(data)h(for)g(multiple)g(calls)h(to)f(be)f(interleaved)h(on)f
(a)i(connection,)221 4696 y(so)d(the)g(unmarshalling)h(code)f(has)g(to)
g(handle)h(that)f(too.)27 b(As)22 b(soon)f(as)h(any)h(multiplexing)g
(oc-)221 4809 y(curs)i(on)g(the)g(connection,)g(the)g(aim)h(of)g(r)n
(emoving)f(thr)n(ead)g(switching)g(cannot)g(be)h(met,)f(and)221
4922 y(ther)n(e)d(is)h(inevitable)g(inef)n(\002ciency)h(due)d(to)h(thr)
n(ead)g(switching.)362 5055 y(The)39 b Fh(maxServerThrea)o(dPe)o(rC)o
(on)o(ne)o(ct)o(ion)32 b Fs(parameter)39 b(can)h(be)f(set)g(to)f(limit)
j(the)221 5168 y(number)25 b(of)h(thr)n(eads)e(that)i(can)g(be)f
(allocated)i(to)d(a)i(single)g(connection)e(containing)i(concur)n(-)221
5281 y(r)n(ent)h(calls.)42 b(Setting)26 b(the)g(parameter)h(to)f(1)i
(mimics)g(the)e(behaviour)i(of)f(omniORB)g(versions)221
5394 y(befor)n(e)22 b(4.0,)i(that)e(did)g(not)g(support)f(calls)j
(multiplexed)e(on)g(one)g(connection.)p eop end
%%Page: 51 57
TeXDict begin 51 56 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(7.4.)51
b(SER)-5 b(VER)21 b(SIDE)h(BEHA)-10 b(VIOUR)1871 b Fs(51)63
539 y Fk(7.4.2)99 b(Thread)24 b(pool)i(mode)63 725 y
Fs(In)21 b(thr)n(ead)h(pool)f(mode,)g(selected)f(by)i(setting)e(the)h
Fh(threadPerConnect)o(io)o(nP)o(ol)o(ic)o(y)16 b Fs(pa-)63
838 y(rameter)32 b(to)g(zer)n(o,)k(a)d(single)g(thr)n(ead)f(watches)h
(all)h(incoming)g(connections.)58 b(When)32 b(a)i(call)63
950 y(arrives)25 b(on)f(one)g(of)h(them,)g(a)g(thr)n(ead)f(is)h(chosen)
f(fr)n(om)h(a)h(pool)e(of)h(thr)n(eads,)f(and)h(set)e(to)i(work)63
1063 y(unmarshalling)35 b(the)e(ar)n(guments)g(and)i(performing)e(the)g
(up-call.)64 b(Ther)n(e)33 b(is)i(ther)n(efor)n(e)d(at)63
1176 y(least)22 b(one)g(thr)n(ead)g(switch)g(for)h(each)g(call.)204
1294 y(The)i(thr)n(ead)g(pool)g(is)g(not)g(pr)n(e-initialised.)37
b(Instead,)25 b(thr)n(eads)f(ar)n(e)i(started)e(on)h(demand,)63
1407 y(and)30 b(idle)g(thr)n(eads)f(ar)n(e)h(stopped)d(after)j(a)h
(period)e(of)h(inactivity)-10 b(.)51 b(The)29 b(maximum)j(number)63
1520 y(of)25 b(thr)n(eads)f(that)h(can)i(be)e(started)f(in)h(the)g
(pool)g(is)g(set)f(with)i(the)e Fh(maxServerThread)o(Po)o(ol)63
1632 y(Size)d Fs(parameter)-7 b(.)27 b(The)22 b(default)g(is)h(100.)204
1750 y(A)i(common)h(pattern)e(in)i(CORBA)f(applications)i(is)e(for)h(a)
g(client)g(to)e(make)i(several)f(calls)63 1863 y(to)f(a)h(single)f
(object)h(in)g(quick)g(succession.)33 b(T)-8 b(o)24 b(handle)h(this)f
(situation)g(most)g(ef)n(\002ciently)-10 b(,)25 b(the)63
1976 y(default)35 b(behaviour)h(is)f(to)g(not)f(r)n(eturn)h(a)g(thr)n
(ead)g(to)g(the)f(pool)h(immediately)h(after)f(a)h(call)63
2089 y(is)28 b(\002nished.)42 b(Instead,)27 b(it)h(is)g(set)e(to)h
(watch)h(the)f(connection)h(it)g(has)f(just)g(served)g(for)g(a)i(short)
63 2202 y(while,)18 b(mimicking)h(the)d(behaviour)i(in)f(thr)n(ead)g
(per)g(connection)f(mode.)25 b(If)18 b(a)f(new)g(call)i(comes)63
2314 y(in)29 b(during)f(the)g(watching)h(period,)g(the)f(call)j(is)e
(dispatched)e(without)h(any)h(thr)n(ead)f(switch-)63
2427 y(ing,)h(just)e(as)h(in)g(thr)n(ead)g(per)f(connection)g(mode.)43
b(Of)29 b(course,)f(if)h(the)e(server)g(is)h(supporting)63
2540 y(a)j(very)g(lar)n(ge)h(number)f(of)g(connections)f(\(mor)n(e)h
(than)g(the)g(size)g(of)g(the)g(thr)n(ead)f(pool\),)j(this)63
2653 y(policy)20 b(can)g(delay)f(a)i(call)g(coming)f(fr)n(om)h(another)
d(connection.)27 b(If)19 b(the)g Fh(threadPoolWatch)63
2766 y(Connection)14 b Fs(parameter)j(is)i(set)e(to)h(zer)n(o,)h
(connection)f(watching)g(is)h(disabled)f(and)h(thr)n(eads)63
2879 y(r)n(eturn)i(to)h(the)g(pool)g(immediately)h(after)g(\002nishing)
f(a)h(single)g(r)n(equest.)204 2996 y(In)28 b(the)g(face)i(of)f
(multiplexed)f(calls)i(on)f(a)g(single)f(connection,)i(multiple)f(thr)n
(eads)f(fr)n(om)63 3109 y(the)33 b(pool)g(can)h(be)g(dispatched)e(for)i
(one)f(connection,)j(just)d(as)h(in)g(thr)n(ead)f(per)g(connection)63
3222 y(mode.)50 b(W)-5 b(ith)30 b Fh(threadPoolWatc)o(hCo)o(nn)o(ec)o
(ti)o(on)24 b Fs(set)29 b(to)h(the)f(default)h(value)h(of)f(1,)j(only)
63 3335 y(the)23 b(last)i(thr)n(ead)f(servicing)g(a)h(connection)f
(will)i(watch)e(it)h(when)f(it)g(\002nishes)g(a)h(r)n(equest.)31
b(Set-)63 3448 y(ting)d(the)g(parameter)g(to)h(a)g(lar)n(ger)g(number)g
(allows)g(the)f(last)h Fr(n)f Fs(connections)g(to)g(watch)h(the)63
3561 y(connection.)63 3844 y Fk(7.4.3)99 b(Policy)26
b(transition)63 4030 y Fs(If)31 b(the)g(server)f(is)i(dealing)g(with)f
(a)h(r)n(elatively)h(small)f(number)g(of)f(connections,)i(it)f(is)f
(most)63 4143 y(ef)n(\002cient)21 b(to)f(use)g(thr)n(ead)h(per)f
(connection)g(mode.)26 b(If)21 b(the)g(number)f(of)h(connections)f
(becomes)63 4256 y(too)27 b(lar)n(ge,)j(however)-7 b(,)29
b(operating)e(system)g(limits)i(on)f(the)g(number)g(of)g(thr)n(eads)g
(may)h(cause)63 4368 y(a)g(signi\002cant)g(slowdown,)f(or)h(even)f(pr)n
(event)g(the)f(acceptance)j(of)e(new)g(connections)g(alto-)63
4481 y(gether)-7 b(.)204 4599 y(T)f(o)36 b(give)g(the)g(most)g(ef)n
(\002cient)h(r)n(esponse)d(in)j(all)i(cir)n(cumstances,)h(omniORB)d
(allows)g(a)63 4712 y(server)d(to)g(start)g(in)i(thr)n(ead)e(per)g
(connection)h(mode,)i(and)e(transition)f(to)h(thr)n(ead)f(pooling)63
4825 y(if)29 b(many)f(connections)f(arrive.)45 b(This)28
b(is)g(contr)n(olled)g(with)g(the)f Fh(threadPerConnec)o(ti)o(on)63
4938 y(UpperLimit)14 b Fs(and)20 b Fh(threadPerConne)o(ct)o(io)o(nLo)o
(we)o(rL)o(im)o(it)13 b Fs(parameters.)25 b(The)19 b(former)63
5050 y(must)k(always)h(be)g(lar)n(ger)g(than)g(the)f(latter)-7
b(.)32 b(The)23 b(upper)g(limit)i(chooses)d(the)i(number)f(of)h(con-)63
5163 y(nections)29 b(at)g(which)i(time)f(the)f(ORB)g(transitions)g(to)g
(thr)n(ead)h(pool)f(mode;)j(the)d(lower)g(limit)63 5276
y(selects)21 b(the)h(point)g(at)h(which)g(the)f(transition)g(back)h(to)
f(thr)n(ead)g(per)g(connection)g(is)h(made.)204 5394
y(For)18 b(example,)i(setting)e(the)g(upper)g(limit)j(to)e(50)h(and)f
(the)g(lower)g(limit)h(to)f(30)i(would)d(mean)p eop end
%%Page: 52 58
TeXDict begin 52 57 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(52)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)221
539 y Fs(that)29 b(the)g(\002rst)f(49)i(connections)f(would)f(r)n
(eceive)i(dedicated)e(thr)n(eads.)46 b(The)29 b(50th)h(to)e(arrive)221
652 y(would)23 b(trigger)g(thr)n(ead)g(pooling.)31 b(All)24
b(futur)n(e)g(connections)f(to)g(arrive)h(would)f(make)h(use)f(of)221
764 y(thr)n(eads)d(fr)n(om)i(the)f(pool.)27 b(Note)19
b(that)j(the)e(existing)g(dedicated)h(thr)n(eads)f(continue)h(to)f
(service)221 877 y(their)31 b(connections)f(until)i(the)f(connections)f
(ar)n(e)i(closed.)53 b(If)31 b(the)g(number)g(of)g(connections)221
990 y(falls)g(below)f(30,)j(thr)n(ead)c(per)g(connection)g(is)h(r)n
(eactivated)h(and)f(new)f(connections)g(r)n(eceive)221
1103 y(their)34 b(own)g(dedicated)f(thr)n(eads)h(\(up)g(to)g(the)f
(limit)j(of)e(50)i(again\).)64 b(Once)35 b(again,)j(existing)221
1216 y(connections)22 b(in)h(thr)n(ead)f(pool)g(mode)g(stay)g(in)h
(that)f(mode)g(until)h(they)e(ar)n(e)i(closed.)221 1537
y Fp(7.5)119 b(Idle)29 b(connection)i(shutdown)221 1756
y Fs(It)e(is)g(wasteful)g(to)g(leave)h(a)g(connection)f(open)f(when)h
(it)g(has)h(been)e(left)i(unused)e(for)h(a)h(con-)221
1869 y(siderable)23 b(time.)30 b(T)-8 b(oo)22 b(many)h(idle)h
(connections)e(could)h(block)h(out)e(new)h(connections)f(when)221
1982 y(it)29 b(r)o(uns)f(out)g(of)g(spar)n(e)g(communication)i
(channels.)46 b(For)28 b(example,)h(most)f(platforms)h(have)221
2094 y(a)e(limit)i(on)d(the)g(number)g(of)h(\002le)g(handles)f(a)h(pr)n
(ocess)f(can)h(open.)39 b(Many)27 b(platforms)f(have)h(a)221
2207 y(very)22 b(small)i(default)e(limit)i(like)e(64.)29
b(The)21 b(value)i(can)h(often)d(be)h(incr)n(eased)g(to)g(a)h(maximum)h
(of)221 2320 y(a)f(thousand)f(or)g(mor)n(e)g(by)h(changing)g(the)e
(`ulimit')k(in)e(the)f(shell.)362 2437 y(Every)k(so)g(often,)h(a)g(thr)
n(ead)g(scans)f(all)j(open)c(connections)h(to)g(see)g(which)h(ar)n(e)g
(idle.)41 b(The)221 2550 y(scanning)30 b(period)e(\(in)j(seconds\))d
(is)h(set)g(with)g(the)g Fh(scanGranularit)o(y)23 b Fs(parameter)-7
b(.)49 b(The)221 2663 y(default)23 b(is)f(5)i(seconds.)362
2779 y(Outgoing)18 b(connections)g(\(initiated)i(by)f(clients\))g(and)g
(incoming)h(connections)e(\(initiated)221 2892 y(by)f(servers\))f(have)
i(separate)e(idle)h(timeouts.)25 b(The)16 b(timeouts)g(ar)n(e)i(set)e
(with)h(the)f Fh(outConScan)221 3005 y(Period)26 b Fs(and)i
Fh(inConScanPeriod)22 b Fs(parameters)27 b(r)n(espectively)-10
b(.)44 b(The)28 b(values)h(ar)n(e)f(in)h(sec-)221 3118
y(onds,)21 b(and)i(must)f(be)g(a)i(multiple)f(of)f(the)g(scan)h
(granularity)-10 b(.)221 3395 y Fk(7.5.1)99 b(Interoperability)25
b(Considerations)221 3580 y Fs(The)c(IIOP)g(speci\002cation)h(allows)g
(both)f(the)g(client)h(and)g(the)f(server)f(to)h(shutdown)f(a)i
(connec-)221 3693 y(tion)g(unilaterally)-10 b(.)29 b(When)22
b(one)g(end)g(is)g(about)h(to)f(shutdown)e(a)j(connection,)f(it)h
(should)e(send)221 3806 y(a)33 b(CloseConnection)f(message)g(to)g(the)g
(other)f(end.)58 b(It)32 b(should)g(also)h(make)f(sur)n(e)g(that)h(the)
221 3919 y(message)21 b(will)j(r)n(each)g(the)d(other)h(end)f(befor)n
(e)i(it)f(pr)n(oceeds)f(to)h(shutdown)f(the)h(connection.)362
4035 y(The)36 b(client)g(should)g(distinguish)f(between)f(an)j(or)n
(derly)e(and)i(an)f(abnormal)i(connec-)221 4148 y(tion)22
b(shutdown.)j(When)d(a)g(client)h(r)n(eceives)f(a)g(CloseConnection)f
(message)g(befor)n(e)h(the)f(con-)221 4261 y(nection)28
b(is)h(closed,)f(the)g(condition)g(is)g(an)h(or)n(derly)f(shutdown.)43
b(If)28 b(the)g(message)f(is)h(not)g(r)n(e-)221 4374
y(ceived,)35 b(the)c(condition)h(is)g(an)h(abnormal)h(shutdown.)55
b(In)32 b(an)h(abnormal)g(shutdown,)g(the)221 4487 y(ORB)d(should)g
(raise)g(a)h Fh(COMM_FAILURE)25 b Fs(exception)30 b(wher)n(eas)f(in)i
(an)g(or)n(derly)e(shutdown,)221 4600 y(the)20 b(ORB)g(should)f
Fr(not)i Fs(raise)f(an)h(exception)e(and)h(should)f(try)h(to)f(r)n
(e-establish)h(a)h(new)f(connec-)221 4713 y(tion)j(transpar)n(ently)-10
b(.)362 4829 y(omniORB)28 b(implements)e(these)f(semantics)i
(completely)-10 b(.)41 b(However)-7 b(,)27 b(it)g(is)g(known)f(that)221
4942 y(some)35 b(ORBs)g(ar)n(e)h(not)f(\(yet\))g(able)h(to)f
(distinguish)g(between)f(an)i(or)n(derly)e(and)i(an)g(abnor)n(-)221
5055 y(mal)h(shutdown.)63 b(Usually)35 b(this)g(is)g(manifested)f(as)h
(the)g(client)g(in)h(these)d(ORBs)i(seeing)e(a)221 5168
y Fh(COMM_FAILURE)23 b Fs(occasionally)30 b(when)e(connected)f(to)h(an)
h(omniORB)f(server)-7 b(.)45 b(The)28 b(work-)221 5281
y(ar)n(ound)23 b(is)h(either)e(to)h(catch)h(the)f(exception)f(in)i(the)
e(application)j(code)d(and)i(r)n(etry)-10 b(,)22 b(or)h(to)g(turn)221
5394 y(of)n(f)g(the)f(idle)h(connection)f(shutdown)f(inside)h(the)g
(omniORB)g(server)-7 b(.)p eop end
%%Page: 53 59
TeXDict begin 53 58 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(7.6.)51
b(TRANSPOR)m(TS)20 b(AND)j(ENDPOINTS)1612 b Fs(53)63
539 y Fp(7.6)119 b(T)-13 b(ransports)28 b(and)i(endpoints)63
750 y Fs(omniORB)20 b(can)h(support)d(multiple)j(network)d(transports.)
25 b(All)c(platforms)f(\(usually\))h(have)g(a)63 862
y(TCP)j(transport)f(available.)35 b(Unix)25 b(platforms)f(support)e(a)j
(Unix)f(domain)h(socket)d(transport.)63 975 y(Platforms)g(with)h(the)f
(OpenSSL)f(library)j(available)h(can)f(support)c(an)k(SSL)d(transport.)
204 1088 y(Servers)27 b(must)g(be)i(con\002gur)n(ed)e(in)i(two)e(ways)h
(with)g(r)n(egar)n(d)g(to)g(transports:)37 b(the)28 b(trans-)63
1201 y(ports)17 b(and)h(interfaces)g(on)h(which)g(they)e(listen,)i(and)
f(the)g(details)g(that)g(ar)n(e)h(published)f(in)h(IORs)63
1314 y(for)h(clients)g(to)f(see.)26 b(Usually)20 b(the)f(published)h
(details)f(will)j(be)e(the)f(same)h(as)g(the)f(listening)h(de-)63
1427 y(tails,)j(but)f(ther)n(e)g(ar)n(e)h(times)f(when)g(it)h(is)f
(useful)h(to)f(publish)g(dif)n(fer)n(ent)h(information.)204
1540 y(Details)k(ar)n(e)g(selected)d(with)j(the)e Fh(endPoint)e
Fs(family)28 b(of)f(parameters.)38 b(The)26 b(simplest)f(is)63
1653 y(plain)32 b Fh(endPoint)p Fs(,)d(which)i(chooses)e(a)j(transport)
d(and)i(interface)g(details,)h(and)f(publishes)63 1766
y(the)j(information)i(in)f(IORs.)65 b(Endpoint)33 b(parameters)i(ar)n
(e)g(in)h(the)e(form)h(of)g(URIs,)i(with)e(a)63 1879
y(scheme)e(name)h(of)g(`)p Fh(giop:)p Fs(',)g(followed)g(by)f(the)g
(transport)f(name.)62 b(Dif)n(fer)n(ent)35 b(transports)63
1992 y(have)23 b(dif)n(fer)n(ent)f(parameters)g(following)h(the)f
(transport.)204 2104 y(TCP)h(endpoints)d(have)j(the)f(format:)290
2284 y Fh(giop:tcp:)p Fr(<host>)p Fh(:)p Fr(<port>)63
2463 y Fs(The)29 b(host)f(must)h(be)h(a)g(valid)i(host)c(name)i(or)g
(IP)f(addr)n(ess)f(for)i(the)f(server)g(machine.)50 b(It)29
b(de-)63 2576 y(termines)i(the)g(network)f(interface)j(on)f(which)h
(the)e(server)g(listens.)56 b(The)31 b(port)g(selects)g(the)63
2689 y(TCP)25 b(port)f(to)h(listen)g(on,)g(which)h(must)f(be)g
(unoccupied.)35 b(Either)25 b(the)f(host)g(or)h(port,)g(or)g(both)63
2802 y(can)32 b(be)g(left)f(empty)-10 b(.)53 b(If)32
b(the)f(host)f(is)i(empty)-10 b(,)32 b(the)f(ORB)g(publishes)g(the)f
(IP)i(addr)n(ess)e(of)h(the)63 2915 y(\002rst)23 b(non-loopback)h
(network)e(interface)i(it)h(can)g(\002nd)e(\(or)h(the)f(loopback)i(if)g
(that)e(is)i(the)e(only)63 3028 y(interface\),)j(but)g(listens)f(on)g
Fr(all)i Fs(network)c(interfaces.)37 b(If)26 b(the)f(port)f(is)i(empty)
-10 b(,)25 b(the)g(operating)63 3141 y(system)20 b(chooses)h(a)j(port.)
204 3254 y(Multiple)f(TCP)h(endpoints)d(can)j(be)g(selected,)d(either)i
(to)g(specify)g(multiple)g(network)f(in-)63 3367 y(terfaces)f(on)h
(which)h(to)f(listen,)g(or)g(\(less)g(usefully\))g(to)f(select)h
(multiple)h(TCP)f(ports)f(on)h(which)63 3480 y(to)g(listen.)204
3593 y(If)33 b(no)g Fh(endPoint)d Fs(parameters)j(ar)n(e)h(set,)g(the)f
(ORB)g(assumes)g(a)h(single)f(parameter)g(of)63 3705
y Fh(giop:tcp::)p Fs(,)13 b(meaning)18 b(IORs)f(contain)h(the)e(addr)n
(ess)g(of)i(the)f(\002rst)f(non-loopback)h(network)63
3818 y(interface,)22 b(the)g(ORB)g(listens)g(on)h(all)h(interfaces,)e
(and)g(the)g(OS)h(chooses)e(a)i(port)f(number)-7 b(.)204
3931 y(SSL)19 b(endpoints)f(have)i(the)f(same)h(format)g(as)h(TCP)f
(ones,)f(except)f(`)p Fh(tcp)p Fs(')i(is)g(r)n(eplaced)g(with)63
4044 y(`)p Fh(ssl)p Fs('.)27 b(Unix)22 b(domain)h(socket)e(endpoints)g
(have)i(the)f(format:)290 4224 y Fh(giop:unix:)p Fr(<\002lename>)63
4403 y Fs(wher)n(e)h(the)f(\002lename)i(is)g(the)f(name)h(of)g(the)f
(socket)f(within)i(the)f(\002lesystem.)29 b(If)23 b(the)g(\002lename)63
4516 y(is)f(left)h(blank,)g(the)f(ORB)g(chooses)f(a)i(name)g(based)f
(on)h(the)f(pr)n(ocess)f(id)i(and)f(a)h(timestamp.)204
4629 y(T)-8 b(o)37 b(listen)h(on)g(an)h(endpoint)e(without)g
(publishing)h(it)h(in)f(IORs,)k(specify)c(it)g(with)g(the)63
4742 y Fh(endPointNoPubl)o(is)o(h)17 b Fs(con\002guration)22
b(parameter)-7 b(.)28 b(See)21 b(below)i(for)g(mor)n(e)f(details)h
(about)63 4855 y(endpoint)e(publishing.)63 5104 y Fk(7.6.1)99
b(IPv6)63 5281 y Fs(On)28 b(platforms)g(wher)n(e)f(it)h(is)g
(available,)k(omniORB)d(supports)c(IPv6.)44 b(On)29 b(most)e(Unix)h
(plat-)63 5394 y(forms,)c(IPv6)h(sockets)d(accept)i(both)g(IPv6)h(and)f
(IPv4)h(connections,)e(so)h(omniORB's)g(default)p eop
end
%%Page: 54 60
TeXDict begin 54 59 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(54)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)221
539 y Fh(giop:tcp::)47 b Fs(endpoint)32 b(accepts)i(both)g(IPv4)g(and)g
(IPv6)h(connections.)61 b(On)34 b(W)-5 b(indows,)221
652 y(each)28 b(socket)e(type)h(only)g(accepts)g(incoming)i
(connections)e(of)g(the)g(same)h(type,)f(so)g(an)i(IPv6)221
764 y(socket)23 b(cannot)h(be)h(used)e(with)h(IPv4)h(clients.)33
b(For)24 b(this)g(r)n(eason,)g(the)f(default)h Fh(giop:tcp::)221
877 y Fs(endpoint)30 b(only)i(listens)f(for)h(IPv4)g(connections.)54
b(Since)32 b(endpoints)e(with)i(a)g(speci\002c)g(host)221
990 y(name)23 b(or)g(addr)n(ess)f(only)g(listen)h(on)g(a)g(single)g
(network)e(interface,)i(they)f(ar)n(e)h(inher)n(ently)f(lim-)221
1103 y(ited)g(to)g(just)g(one)g(pr)n(otocol)g(family)-10
b(.)362 1216 y(T)i(o)28 b(explicitly)h(ask)f(for)g(just)g(IPv4)h(or)f
(just)g(IPv6,)i(an)f(endpoint)e(with)i(the)e(wildcar)n(d)j(ad-)221
1329 y(dr)n(ess)h(for)i(the)e(pr)n(otocol)h(family)i(should)e(be)g
(used.)57 b(For)31 b(IPv4,)36 b(the)31 b(wildcar)n(d)j(addr)n(ess)d(is)
221 1442 y(`)p Fh(0.0.0.0)p Fs(',)g(and)h(for)f(IPv6)h(it)g(is)g(`)p
Fh(::)p Fs('.)54 b(So,)33 b(to)e(listen)g(for)h(IPv4)g(connections)e
(on)i(all)h(IPv4)221 1555 y(network)21 b(interfaces,)h(use)g(an)h
(endpoint)e(of:)448 1762 y Fh(giop:tcp:0.0.0.0)o(:)221
1969 y Fs(All)34 b(IPv6)g(addr)n(esses)d(contain)j(colons,)h(so)e(the)f
(addr)n(ess)g(portion)g(in)i(URIs)e(must)h(be)g(con-)221
2082 y(tained)e(within)h Fh([])f Fs(characters.)54 b(Ther)n(efor)n(e,)
32 b(to)f(listen)g(just)g(for)g(IPv6)h(connections)f(on)g(all)221
2195 y(IPv6)23 b(interfaces,)f(use)g(the)g(somewhat)f(cryptic:)448
2402 y Fh(giop:tcp:[::]:)221 2609 y Fs(T)-8 b(o)21 b(listen)h(for)g
(both)f(IPv4)i(and)f(IPv6)g(connections)f(on)h(W)-5 b(indows,)20
b(both)i(endpoints)e(must)h(be)221 2721 y(explicitly)i(pr)n(ovided.)221
2975 y Fk(7.6.2)99 b(Endpoint)25 b(publishing)221 3152
y Fs(For)c(clients)g(to)g(be)g(able)h(to)f(connect)g(to)f(a)i(server)-7
b(,)21 b(the)f(server)g(publishes)h(endpoint)f(informa-)221
3265 y(tion)27 b(in)g(its)g(IORs)f(\(Inter)n(operable)f(Object)j(Refer)
n(ences\).)39 b(Normally)-10 b(,)28 b(omniORB)f(publishes)221
3378 y(the)22 b(\002rst)g(available)j(addr)n(ess)d(for)g(each)h(of)g
(the)f(endpoints)e(it)j(is)g(listening)f(on.)362 3491
y(The)f(endpoint)e(information)j(to)e(publish)h(is)h(determined)d(by)i
(the)f Fh(endPointPublis)o(h)221 3604 y Fs(con\002guration)25
b(parameter)-7 b(.)36 b(It)24 b(contains)i(a)g(comma-separated)f(list)g
(of)h(publish)f(r)o(ules.)36 b(The)221 3717 y(r)o(ules)25
b(ar)n(e)h(applied)g(in)g(turn)e(to)h(each)h(of)g(the)e(con\002gur)n
(ed)h(endpoints;)f(if)j(a)f(r)o(ule)f(matches)h(an)221
3830 y(endpoint,)21 b(it)i(causes)f(one)g(or)g(mor)n(e)g(endpoints)f
(to)h(be)g(published.)362 3943 y(The)g(following)h(cor)n(e)g(r)o(ules)f
(ar)n(e)h(supported:)412 4168 y Fh(addr)702 b Fs(the)22
b(\002rst)g(natural)h(addr)n(ess)e(of)i(the)f(endpoint)412
4281 y Fh(ipv4)702 b Fs(the)22 b(\002rst)g(IPv4)h(addr)n(ess)e(of)h(a)i
(TCP)e(or)h(SSL)e(endpoint)412 4394 y Fh(ipv6)702 b Fs(the)22
b(\002rst)g(IPv6)h(addr)n(ess)e(of)h(a)i(TCP)e(or)h(SSL)e(endpoint)412
4507 y Fh(name)702 b Fs(the)22 b(\002rst)g(addr)n(ess)f(that)h(can)i
(be)e(r)n(esolved)g(to)g(a)h(name)412 4620 y Fh(hostname)482
b Fs(the)22 b(r)n(esult)g(of)g(the)g(gethostname\(\))f(system)g(call)
412 4733 y Fh(fqdn)702 b Fs(the)22 b(fully-quali\002ed)h(domain)g(name)
p 3850 4767 42 678 v 221 4954 a(The)g(cor)n(e)h(r)o(ules)g(can)g(be)g
(combined)g(using)f(the)g(vertical)i(bar)g(operator)d(to)i(try)f
(several)g(r)o(ules)221 5067 y(in)g(turn)f(until)h(one)f(succeeds.)k
(e.g:)412 5293 y Fh(name|ipv6|ipv4)152 b Fs(the)23 b(name)h(of)g(the)g
(endpoint)e(if)j(it)f(has)g(one;)g(failing)h(that,)f(its)1334
5406 y(\002rst)e(IPv6)h(addr)n(ess;)e(failing)j(that,)e(its)g(\002rst)g
(IPv4)h(addr)n(ess.)p 3521 5439 42 226 v eop end
%%Page: 55 61
TeXDict begin 55 60 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(7.7.)51
b(CONNECTION)22 b(SELECTION)f(AND)h(ACCEPT)-7 b(ANCE)948
b Fs(55)63 539 y(Multiple)29 b(r)o(ules)f(can)i(be)f(combined)g(using)g
(the)f(comma)i(operator)d(to)i(publish)g(mor)n(e)g(than)63
652 y(one)21 b(endpoint.)27 b(e.g.)254 904 y Fh(name,addr)426
b Fs(the)27 b(name)i(of)e(the)h(endpoint)e(\(if)j(it)f(has)g(one\),)g
(followed)f(by)1175 1017 y(its)c(\002rst)f(addr)n(ess.)p
3363 1051 42 226 v 63 1265 a(For)k(endpoints)g(with)h(multiple)h(addr)n
(esses)d(\(e.g.)42 b(TCP)27 b(endpoints)f(on)h(multi-homed)g(ma-)63
1378 y(chines\),)22 b(the)g Fh(all\(\))e Fs(manipulator)k(causes)e(all)
i(addr)n(esses)c(to)i(be)h(published.)k(e.g.:)254 1631
y Fh(all\(addr\))426 b Fs(all)25 b(addr)n(esses)20 b(ar)n(e)j
(published)254 1744 y Fh(all\(name\))426 b Fs(all)25
b(addr)n(esses)20 b(that)i(r)n(esolve)g(to)g(names)h(ar)n(e)g
(published)254 1857 y Fh(all\(name|addr\))151 b Fs(all)24
b(addr)n(esses)c(ar)n(e)j(published)e(by)h(name)h(if)g(they)e(have)h
(one,)1175 1969 y(addr)n(ess)g(otherwise.)254 2082 y
Fh(all\(name,addr\))151 b Fs(all)44 b(addr)n(esses)c(ar)n(e)j
(published)e(by)i(name)f(\(if)i(they)d(have)1175 2195
y(one\),)22 b(and)h(by)f(addr)n(ess.)254 2308 y Fh(all\(name\),)254
2421 y(all\(addr\))1175 2308 y Fs(\002rst)41 b(the)f(names)h(of)g(all)i
(addr)n(esses)38 b(ar)n(e)k(published,)i(fol-)1175 2421
y(lowed)22 b(by)h(all)h(the)e(addr)n(esses.)p 3363 2455
42 904 v 63 2669 a(A)e(speci\002c)h(endpoint)e(can)j(be)e(published)g
(by)h(giving)g(its)f(endpoint)f(URI,)h(even)g(if)i(the)e(server)63
2782 y(is)i(not)g(listening)g(on)h(that)f(endpoint.)k(e.g.:)254
3035 y Fh(giop:tcp:not.m)o(y.)o(ho)o(st:)o(12)o(34)o(5)p
1678 3068 42 93 v 254 3148 a(giop:unix:/not)o(/m)o(y/)o(soc)o(ke)o(t-)o
(fi)o(le)p 1841 3181 V 63 3395 a Fs(If)32 b(the)f(host)h(or)f(port)h
(number)g(for)g(a)h(TCP)f(or)g(SSL)g(URI)f(ar)n(e)i(missed)e(out,)j
(they)d(ar)n(e)h(\002lled)63 3508 y(in)h(with)h(the)e(details)h(fr)n
(om)h(each)g(listening)f(TCP/SSL)f(endpoint.)59 b(This)33
b(can)h(be)f(used)f(to)63 3621 y(publish)23 b(a)h(dif)n(fer)n(ent)f
(name)g(for)g(a)h(TCP/SSL)e(endpoint)f(that)i(is)g(using)g(an)g
(ephemeral)g(port,)63 3734 y(for)f(example.)204 3874
y(omniORB)c(4.0)h(supported)c(two)j(options)f(r)n(elated)h(to)f
(endpoint)g(publishing)h(that)g(ar)n(e)h(su-)63 3987
y(perseded)k(by)j(the)g Fh(endPointPublis)o(h)21 b Fs(parameter)-7
b(,)26 b(and)h(so)e(ar)n(e)i(now)f(depr)n(ecated.)37
b(Set-)63 4100 y(ting)24 b Fh(endPointPublish)o(Al)o(lIF)o(s)19
b Fs(to)24 b(1)i(is)f(equivalent)g(to)f(setting)f Fh(endPointPublish)63
4213 y Fs(to)17 b(`)p Fh(all\(addr\))p Fs('.)22 b(The)17
b Fh(endPointNoListe)o(n)12 b Fs(parameter)17 b(is)g(equivalent)h(to)f
(adding)g(end-)63 4326 y(point)22 b(URIs)f(to)h(the)g
Fh(endPointPublis)o(h)17 b Fs(parameter)-7 b(.)63 4789
y Fp(7.7)119 b(Connection)30 b(selection)g(and)g(acceptance)63
5055 y Fs(In)g(the)g(face)i(of)f(IORs)g(containing)g(details)g(about)g
(multiple)g(dif)n(fer)n(ent)g(endpoints,)g(clients)63
5168 y(have)26 b(to)f(know)g(how)g(to)h(choose)e(the)h(one)g(to)g(use)g
(to)h(connect)f(a)h(server)-7 b(.)37 b(Similarly)-10
b(,)28 b(servers)63 5281 y(may)36 b(wish)f(to)g(r)n(estrict)g(which)h
(clients)g(can)g(connect)g(to)f(particular)h(transports.)65
b(This)35 b(is)63 5394 y(achieved)23 b(with)f Fr(transport)j(rules)p
Fs(.)p eop end
%%Page: 56 62
TeXDict begin 56 61 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(56)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)221
539 y Fk(7.7.1)99 b(Client)25 b(transport)g(rules)221
717 y Fs(The)k Fh(clientTranspor)o(tR)o(ul)o(e)23 b Fs(parameter)29
b(is)g(used)f(to)g(\002lter)h(and)g(prioritise)g(the)f(or)n(der)221
830 y(in)23 b(which)g(transports)e(speci\002ed)g(in)i(an)g(IOR)g(ar)n
(e)g(tried.)k(Each)c(r)o(ule)g(has)f(the)g(form:)448
1046 y Fr(<addr)n(ess)k(mask>)e([action]+)221 1263 y
Fs(The)e(addr)n(ess)f(mask)i(can)g(be)g(one)f(of)412
1466 y(1.)100 b Fh(localhost)454 b Fs(The)22 b(addr)n(ess)f(of)i(this)f
(machine)412 1579 y(2.)100 b Fr(w)-5 b(.x.y)m(.z)p Fh(/)p
Fr(m1.m2.m3.m4)104 b Fs(An)21 b(IPv4)g(addr)n(ess)f(with)h(bits)g
(selected)f(by)h(the)1529 1692 y(mask,)h(e.g.)f Fh(172.16.0.0/255.2)o
(40)o(.0)o(.0)412 1805 y Fs(3.)100 b Fr(w)-5 b(.x.y)m(.z)p
Fh(/)p Fr(pr)n(e\002xlen)320 b Fs(An)20 b(IPv4)i(addr)n(ess)d(with)i
Fr(pr)n(e\002xlen)i Fs(signi\002cant)1529 1917 y(bits,)f(e.g.)f
Fh(172.16.2.0/24)412 2030 y Fs(4.)100 b Fr(a:b:c:d:e:f:g:h)p
Fh(/)p Fr(pr)n(e\002xlen)i Fs(An)20 b(IPv6)i(addr)n(ess)d(with)i
Fr(pr)n(e\002xlen)i Fs(signi\002cant)1529 2143 y(bits,)f(e.g.)f
Fh(3ffe:505:2:1::/6)o(4)412 2256 y Fs(5.)100 b Fh(*)894
b Fs(W)-5 b(ildcar)n(d)24 b(that)e(matches)g(any)h(addr)n(ess)221
2478 y(The)f(action)h(is)g(one)f(or)g(mor)n(e)h(of)f(the)g(following:)
412 2704 y(1.)100 b Fh(none)152 b Fs(Do)23 b(not)f(use)g(this)g(addr)n
(ess)412 2817 y(2.)100 b Fh(tcp)207 b Fs(Use)22 b(a)h(TCP)g(transport)
412 2930 y(3.)100 b Fh(ssl)207 b Fs(Use)22 b(an)h(SSL)f(transport)412
3043 y(4.)100 b Fh(unix)152 b Fs(Use)22 b(a)h(Unix)g(socket)e
(transport)412 3156 y(5.)100 b Fh(bidir)d Fs(Connections)29
b(to)h(this)f(addr)n(ess)g(can)h(be)g(used)952 3269 y(bidir)n
(ectionally)24 b(\(see)e(section)g(7.8\))221 3491 y(The)h
(transport-selecting)f(actions)i(form)g(a)g(prioritised)f(list,)h(so)f
(an)h(action)h(of)f(`)p Fh(unix,ssl,)221 3604 y(tcp)p
Fs(')33 b(means)g(to)g(use)f(a)i(Unix)g(transport)e(if)i(ther)n(e)e(is)
i(one,)h(failing)g(that)e(a)h(SSL)f(transport,)221 3716
y(failing)25 b Fr(that)f Fs(a)g(TCP)f(transport.)k(In)c(the)f(absence)h
(of)g(any)g(explicit)g(r)o(ules,)g(the)f(client)h(uses)f(the)221
3829 y(implicit)j(r)o(ule)d(of)h(`)p Fh(*)54 b(unix,ssl,tcp)p
Fs('.)362 3943 y(If)36 b(mor)n(e)f(than)g(one)g(r)o(ule)g(is)h
(speci\002ed,)h(they)d(ar)n(e)i(prioritised)e(in)i(the)e(or)n(der)h
(they)f(ar)n(e)221 4056 y(speci\002ed.)27 b(For)22 b(example,)g(the)g
(con\002guration)g(\002le)g(might)h(contain:)330 4273
y Fh(clientTransport)o(Rul)o(e)48 b(=)54 b(192.168.1.0/255)o(.25)o(5.)o
(25)o(5.)o(0)103 b(unix,tcp)330 4386 y(clientTransport)o(Rul)o(e)48
b(=)54 b(172.16.0.0/255.)o(240)o(.0)o(.0)266 b(unix,tcp)1421
4499 y(=)382 b(*)1090 b(none)221 4715 y Fs(This)25 b(would)f(be)h
(useful)g(if)h(ther)n(e)e(is)h(a)h(fast)f(network)e(\(192.168.1.0\))29
b(which)c(should)f(be)h(used)221 4828 y(in)30 b(pr)n(efer)n(ence)e(to)g
(another)g(network)g(\(172.16.0.0\),)33 b(and)c(connections)f(to)h
(other)e(networks)221 4941 y(ar)n(e)c(not)f(permitted)f(at)i(all.)362
5055 y(In)35 b(general,)j(the)d(r)n(esult)g(of)h(\002ltering)f(the)g
(endpoint)e(speci\002cations)j(in)g(an)g(IOR)f(with)221
5168 y(the)c(client)h(transport)e(r)o(ule)i(will)h(be)f(a)g
(prioritised)f(list)h(of)g(transports)d(and)j(networks.)53
b(\(If)221 5281 y(the)24 b(transport)e(r)o(ules)i(do)f(not)h
(prioritise)f(one)h(endpoint)e(over)i(another)-7 b(,)24
b(the)f(or)n(der)g(the)h(end-)221 5394 y(points)30 b(ar)n(e)i(listed)e
(in)h(the)g(IOR)g(is)g(used.\))52 b(When)30 b(trying)g(to)h(contact)g
(an)g(object,)i(the)d(ORB)p eop end
%%Page: 57 63
TeXDict begin 57 62 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(7.8.)51
b(BIDIRECTIONAL)20 b(GIOP)2035 b Fs(57)63 539 y(tries)24
b(its)g(possible)h(endpoints)d(in)k(turn,)e(until)i(it)f(\002nds)f(one)
g(with)h(which)g(it)h(can)f(contact)g(the)63 652 y(object.)32
b(Only)25 b(after)f(it)h(has)f(unsuccessfully)g(tried)f(all)j
(permissible)e(endpoints)e(will)k(it)f(raise)63 764 y(a)e
Fh(TRANSIENT)18 b Fs(exception)k(to)g(indicate)h(that)f(the)g(connect)g
(failed.)63 1032 y Fk(7.7.2)99 b(Server)24 b(transport)h(rules)63
1213 y Fs(The)i(server)g(transport)f(r)o(ules)i(have)g(the)f(same)h
(format)h(as)f(client)g(transport)f(r)o(ules.)43 b(Rather)63
1326 y(than)20 b(being)g(used)e(to)i(select)f(which)i(of)f(a)h(set)e
(of)h(ways)g(to)f(contact)h(a)h(machine,)h(they)c(ar)n(e)j(used)63
1439 y(to)26 b(determine)f(whether)g(or)h(not)g(to)g(accept)h
(connections)f(fr)n(om)h(particular)h(clients.)40 b(In)26
b(this)63 1552 y(example,)c(we)g(only)g(allow)i(connections)d(fr)n(om)j
(our)e(intranet:)172 1777 y Fh(serverTranspor)o(tR)o(ule)48
b(=)54 b(localhost)977 b(unix,tcp,ssl)p 3504 1791 42
73 v 1263 1890 a(=)54 b(172.16.0.0/255)o(.2)o(40.)o(0.)o(0)266
b(tcp,ssl)1263 2003 y(=)54 b(*)1417 b(none)63 2226 y
Fs(And)22 b(in)h(this)f(one,)f(we)i(accept)f(only)h(SSL)e(connections)h
(if)h(the)f(client)h(is)g(not)f(on)g(the)g(intranet:)172
2451 y Fh(serverTranspor)o(tR)o(ule)48 b(=)54 b(localhost)977
b(unix,tcp,ssl)p 3504 2465 V 1263 2564 a(=)54 b(172.16.0.0/255)o(.2)o
(40.)o(0.)o(0)266 b(tcp,ssl)1263 2677 y(=)54 b(*)1417
b(ssl,bidir)63 2900 y Fs(In)27 b(the)f(absence)h(of)h(any)f(explicit)h
(r)o(ules,)g(the)f(server)f(uses)g(the)g(implicit)j(r)o(ule)f(of)f(`)p
Fh(*)55 b(unix,)63 3013 y(ssl,tcp)p Fs(',)19 b(meaning)k(any)g(kind)f
(of)g(connection)h(is)f(accepted)g(fr)n(om)h(any)g(client.)63
3325 y Fp(7.8)119 b(Bidirectional)28 b(GIOP)63 3540 y
Fs(omniORB)22 b(supports)e(bidir)n(ectional)k(GIOP)-12
b(,)23 b(which)h(allows)f(callbacks)h(to)e(be)h(made)f(using)g(a)63
3653 y(connection)i(opened)e(by)i(the)g(original)h(client,)g(rather)f
(than)h(the)e(normal)j(model)e(wher)n(e)f(the)63 3766
y(server)i(opens)h(a)h(new)f(connection)h(for)g(the)f(callback.)43
b(This)26 b(is)h(important)g(for)g(negotiating)63 3879
y(\002r)n(ewalls,)c(since)f(they)g(tend)f(not)h(to)g(allow)h
(connections)f(back)h(on)g(arbitrary)g(ports.)204 3994
y(Ther)n(e)e(ar)n(e)i(several)f(steps)e(r)n(equir)n(ed)i(for)g(bidir)n
(ectional)i(GIOP)f(to)e(be)h(enabled)g(for)h(a)f(call-)63
4107 y(back.)43 b(Both)26 b(the)h(client)h(and)g(server)e(must)h(be)g
(con\002gur)n(ed)g(corr)n(ectly)-10 b(.)42 b(On)28 b(the)f(client)h
(side,)63 4219 y(these)21 b(conditions)g(must)h(be)h(met:)199
4443 y Fo(\017)46 b Fs(The)22 b Fh(offerBiDirecti)o(ona)o(lG)o(IO)o(P)
17 b Fs(parameter)22 b(must)g(be)g(set)g(to)g(tr)o(ue.)199
4639 y Fo(\017)46 b Fs(The)21 b(client)i(transport)e(r)o(ule)h(for)g
(the)f(tar)n(get)h(server)f(must)g(contain)i(the)e Fh(bidir)f
Fs(action.)199 4835 y Fo(\017)46 b Fs(The)26 b(POA)i(containing)f(the)g
(callback)i(object)e(\(or)h(objects\))e(must)h(have)h(been)e(cr)n
(eated)290 4948 y(with)c(a)i Fh(BidirectionalP)o(ol)o(ic)o(y)17
b Fs(value)23 b(of)g Fh(BOTH)p Fs(.)63 5171 y(On)g(the)f(server)f
(side,)h(these)f(conditions)g(must)h(be)h(met:)199 5394
y Fo(\017)46 b Fs(The)22 b Fh(acceptBiDirect)o(ion)o(al)o(GI)o(OP)16
b Fs(parameter)22 b(must)g(be)h(set)e(to)h(tr)o(ue.)p
eop end
%%Page: 58 64
TeXDict begin 58 63 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(58)605
b Fj(CHAPTER)21 b(7.)51 b(CONNECTION)22 b(AND)h(THREAD)e(MANAGEMENT)358
539 y Fo(\017)45 b Fs(The)31 b(server)f(transport)f(r)o(ule)i(for)g
(the)f(r)n(equesting)g(client)h(must)g(contain)g(the)f
Fh(bidir)448 652 y Fs(action.)358 839 y Fo(\017)45 b
Fs(The)28 b(POA)g(hosting)f(the)g(object)h(contacted)f(by)h(the)g
(client)g(must)g(have)g(been)g(cr)n(eated)448 952 y(with)23
b(a)g Fh(BidirectionalPo)o(li)o(cy)16 b Fs(value)24 b(of)e
Fh(BOTH)p Fs(.)221 1251 y Fp(7.9)119 b(SSL)30 b(transport)221
1462 y Fs(omniORB)22 b(supports)d(an)j(SSL)f(transport,)f(using)h
(OpenSSL.)f(It)h(is)h(only)g(built)g(if)h(OpenSSL)d(is)221
1575 y(available.)30 b(On)21 b(platforms)f(using)g(Autoconf,)g(it)g(is)
h(autodetected)c(in)k(many)g(locations,)f(or)g(its)221
1688 y(location)27 b(can)g(be)f(given)f(with)h(the)f
Fh(--with-openssl=)20 b Fs(ar)n(gument)25 b(to)h Fh(configure)p
Fs(.)34 b(On)221 1800 y(other)27 b(platforms,)j(the)e
Fh(OPEN_SSL_ROOT)23 b Fs(make)28 b(variable)j(must)d(be)g(set)g(in)h
(the)f(platform)221 1913 y(\002le.)362 2026 y(T)-8 b(o)26
b(use)g(the)f(SSL)h(transport)f(fr)n(om)i(Python)e(you)h(must)g(import)
g(and)h(set)e(parameters)h(in)221 2139 y(the)19 b Fh(omniORB.sslTP)13
b Fs(module)19 b(befor)n(e)f(calling)j Fh(CORBA.ORB_init\(\))o
Fs(.)g(T)-8 b(o)18 b(initialise)j(the)221 2252 y(module,)41
b(you)d(must)f(call)j(the)d Fh(certificate_auth)o(or)o(it)o(y_)o(fi)o
(le\()o(\))p Fs(,)e Fh(key_file\(\))221 2365 y Fs(and)21
b Fh(key_file_passwo)o(rd)o(\(\))15 b Fs(functions,)20
b(pr)n(oviding)h(the)g(\002le)g(names)g(of)g(the)f(certi\002cate)221
2478 y(authority)i(and)h(encryption)e(keys,)f(and)j(the)f(key)f(\002le)
i(passwor)n(d.)p eop end
%%Page: 59 65
TeXDict begin 59 64 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1187 a Fl(Chapter)44
b(8)63 1628 y Fn(Code)52 b(set)f(conversion)63 2098 y
Fs(omniORB)25 b(supports)e(full)k(code)e(set)f(negotiation,)h(used)f
(to)h(select)f(and)i(translate)f(between)63 2211 y(dif)n(fer)n(ent)35
b(character)h(code)f(sets,)i(for)e(the)g(transmission)g(of)g(chars,)k
(strings,)e(wchars)f(and)63 2324 y(wstrings.)50 b(The)30
b(support)f(is)i(mostly)f(transpar)n(ent)g(to)g(application)i(code,)f
(but)g(ther)n(e)f(ar)n(e)h(a)63 2437 y(number)26 b(of)g(options)f(that)
h(can)h(be)f(selected.)37 b(This)26 b(chapter)g(covers)f(the)h
(options,)f(and)h(also)63 2550 y(gives)c(some)g(pointers)f(about)i(how)
f(to)g(implement)h(your)f(own)g(code)g(sets,)f(in)i(case)g(the)f(ones)
63 2663 y(that)g(come)h(with)f(omniORB)h(ar)n(e)g(not)f(suf)n
(\002cient.)63 3119 y Fp(8.1)119 b(Native)29 b(code)h(set)63
3382 y Fs(For)24 b(the)g(ORB)h(to)f(know)g(how)h(to)f(handle)h(strings)
f(given)h(to)f(it)h(by)g(the)f(application,)j(it)e(must)63
3495 y(know)d(what)i(code)e(set)h(they)f(ar)n(e)i(r)n(epr)n(esented)c
(with,)k(so)e(it)i(can)g(pr)n(operly)f(translate)g(them)g(if)63
3607 y(need)f(be.)29 b(The)23 b(default)g(is)g(ISO)g(8859-1)j(\(Latin)e
(1\).)30 b(A)24 b(dif)n(fer)n(ent)f(code)f(sets)g(can)i(be)f(chosen)f
(at)63 3720 y(initialisation)h(time)f(with)f(the)g Fh(nativeCharCodeS)o
(et)15 b Fs(parameter)-7 b(.)27 b(The)21 b(supported)d(code)63
3833 y(sets)j(ar)n(e)i(printed)e(out)h(at)h(initialisation)h(time)f(if)
g(the)f(ORB)h(traceLevel)f(is)g(15)i(or)e(gr)n(eater)-7
b(.)204 3972 y(For)28 b(most)h(applications,)i(the)e(default)g(is)h
(\002ne.)47 b(Some)29 b(applications)h(may)g(need)e(to)h(set)63
4085 y(the)21 b(native)h(char)h(code)e(set)f(to)i(UTF-8,)f(allowing)i
(the)e(full)i(Unicode)e(range)g(to)h(be)g(supported)63
4198 y(in)h(strings.)204 4336 y(In)g(omniORBpy)-10 b(,)22
b(wchar)i(and)f(wstring)g(ar)n(e)g(always)h(r)n(epr)n(esented)c(by)k
(the)e(Python)g(Uni-)63 4449 y(code)f(type,)g(so)h(ther)n(e)g(is)h(no)f
(need)f(to)h(select)g(a)h(native)g(code)f(set)f(for)i(wchar)-7
b(.)63 4905 y Fp(8.2)119 b(Code)30 b(set)g(library)63
5168 y Fs(T)-8 b(o)24 b(save)h(space)g(in)h(the)e(main)j(ORB)e(cor)n(e)
g(library)-10 b(,)27 b(most)d(of)h(the)g(code)f(set)g(implementations)
63 5281 y(ar)n(e)i(in)h(a)g(separate)f(library)-10 b(.)40
b(T)-8 b(o)25 b(load)i(it)f(fr)n(om)h(Python,)f(you)g(must)f(import)h
(the)g Fh(omniORB.)63 5394 y(codesets)19 b Fs(module)j(befor)n(e)g
(calling)i Fh(CORBA.ORB_init\(\))o Fs(.)1662 5622 y(59)p
eop end
%%Page: 60 66
TeXDict begin 60 65 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(60)1534
b Fj(CHAPTER)22 b(8.)51 b(CODE)23 b(SET)f(CONVERSION)221
539 y Fp(8.3)119 b(Implementing)30 b(new)f(code)h(sets)221
750 y Fs(Code)23 b(sets)g(must)g(curr)n(ently)h(be)g(implemented)f(in)h
(C++.)33 b(See)23 b(the)g(omniORB)h(for)g(C++)h(doc-)221
862 y(umentation)d(for)h(details.)p eop end
%%Page: 61 67
TeXDict begin 61 66 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1161 a Fl(Chapter)44
b(9)63 1576 y Fn(Interceptors)63 2035 y Fs(omniORBpy)17
b(has)g(limited)i(inter)n(ceptor)d(support.)24 b(Inter)n(ceptors)15
b(permit)i(the)g(application)i(to)63 2148 y(insert)24
b(pr)n(ocessing)h(at)h(various)g(points)e(along)i(the)f(call)i(chain,)h
(as)d(r)n(equests)f(ar)n(e)i(pr)n(ocessed.)63 2261 y(The)c(Portable)g
(Inter)n(ceptors)e(API)i(is)h(not)f(yet)f(supported.)204
2374 y(Inter)n(ceptors)32 b(ar)n(e)k(r)n(egister)n(ed)d(using)h
(functions)h(in)g(the)g Fh(omniORB.interc)o(ep)o(to)o(rs)63
2487 y Fs(module:)303 2636 y Ff(addClientSendRequest)m(\(\))303
2736 y(addClientReceiveReply)m(\(\))303 2836 y(addServerReceiveRequest)
l(\(\))303 2935 y(addServerSendReply)m(\(\))303 3035
y(addServerSendException)l(\(\))204 3198 y Fs(T)-8 b(o)26
b(r)n(egister)g(an)h(inter)n(ceptor)f(function,)i(call)h(the)d(r)n
(elevant)h(r)n(egistration)f(function)i(with)63 3311
y(a)d(callable)j(ar)n(gument.)34 b(The)25 b(callable)i(will)f(be)f
(called)h(with)f(two)f(or)h(thr)n(ee)f(ar)n(guments.)34
b(The)63 3424 y(\002rst)23 b(ar)n(gument)h(is)g(the)g(name)g(of)g(the)g
(operation)f(being)h(invoked;)g(the)f(second)g(is)h(the)g(set)f(of)63
3536 y(service)28 b(contexts)e(to)i(be)g(r)n(etrieved)f(or)h(\002lled)h
(in.)45 b Fh(ServerSendExce)o(pti)o(on)22 b Fs(has)28
b(a)h(thir)n(d)63 3649 y(ar)n(gument,)22 b(the)f(r)n(epository)g(id)i
(of)f(the)g(exception)f(being)i(thr)n(own.)204 3762 y(When)28
b(r)n(eceiving)h(service)f(contexts)f(\(in)i(the)e Fh(ClientReceiveRep)
o(ly)22 b Fs(and)28 b Fh(Server)63 3875 y(ReceiveRequest)f
Fs(inter)n(ceptors\),)34 b(the)f(second)f(ar)n(gument)h(is)h(a)g(tuple)
f(of)g(2-tuples.)60 b(In)63 3988 y(each)37 b(2-tuple,)j(the)c(\002rst)g
(item)h(is)f(the)g(service)h(context)f(id)g(and)h(the)f(second)g(item)g
(is)h(the)63 4101 y(CDR)23 b(encapsulation)g(of)g(the)e(service)i
(context.)k(The)22 b(encapsulation)h(can)g(be)g(decoded)e(with)63
4214 y Fh(omniORB.cdrUnm)o(ar)o(sh)o(al\()o(\))16 b Fs(\(but)23
b(only)f(if)i(you)e(know)f(the)h(type)f(to)h(decode)f(it)i(to\).)204
4327 y(When)30 b(sending)f(service)h(contexts)f(\()p
Fh(ClientSendReque)o(st)o Fs(,)e Fh(ServerSendRepl)o(y)p
Fs(,)63 4440 y(and)i Fh(ServerSendExce)o(pti)o(on)o Fs(\),)c(the)j
(second)g(ar)n(gument)h(is)g(an)h(empty)d(list.)48 b(The)28
b(inter)n(-)63 4553 y(ceptor)33 b(function)i(can)h(choose)d(to)h(add)h
(one)e(or)i(mor)n(e)f(service)h(context)e(tuples,)k(with)d(the)63
4666 y(same)27 b(form)h(described)e(above,)i(by)g(appending)e(to)h(the)
f(list.)42 b(Encapsulations)27 b(ar)n(e)h(cr)n(eated)63
4778 y(with)22 b Fh(omniORB.cdrMars)o(ha)o(l\(\))o Fs(.)204
4891 y(Inter)n(ceptor)35 b(r)n(egistration)h(functions)h(may)h(only)e
(be)i(called)g(befor)n(e)f(the)f(ORB)h(is)g(ini-)63 5004
y(tialised.)28 b(Attempting)20 b(to)i(call)j(them)d(later)h(r)n(esults)
e(in)i(a)g Fh(BAD_INV_ORDER)17 b Fs(exception.)1662 5622
y(61)p eop end
%%Page: 62 68
TeXDict begin 62 67 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(62)1932
b Fj(CHAPTER)22 b(9.)51 b(INTERCEPT)n(ORS)p eop end
%%Page: 63 69
TeXDict begin 63 68 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1161 a Fl(Chapter)44
b(10)63 1576 y Fn(Objects)51 b(by)h(value)63 2036 y Fs(omniORBpy)25
b(3)h(supports)d(objects)j(by)f(value,)i(declar)n(ed)f(with)g(the)f
Fh(valuetype)d Fs(keywor)n(d)63 2148 y(in)33 b(IDL.)f(This)h(chapter)g
(outlines)f(some)g(issues)f(to)h(do)h(with)g(using)f(valuetypes)f(in)j
(omni-)63 2261 y(ORB.)21 b(Y)-8 b(ou)20 b(ar)n(e)h(assumed)f(to)h(have)
h(r)n(ead)f(the)f(r)n(elevant)i(parts)f(of)g(the)f(CORBA)i
(speci\002cation,)63 2374 y(speci\002cally)27 b(chapters)e(4)i(and)g(5)
g(of)f(the)f(CORBA)i(2.6)g(speci\002cation,)g(and)f(section)g(1.3.10)i
(of)63 2487 y(the)21 b(Python)h(language)g(mapping,)h(version)f(1.2.)63
2786 y Fp(10.1)118 b(Features)63 2997 y Fs(omniORB)22
b(supports)d(the)i(complete)h(objects)f(by)h(value)h(speci\002cation,)f
(with)g(the)f(exception)63 3110 y(of)26 b(custom)f(valuetypes.)38
b(All)26 b(other)f(featur)n(es)h(including)g(value)h(boxes,)f(value)h
(sharing)f(se-)63 3223 y(mantics,)d(abstract)g(valuetypes,)e(and)h
(abstract)h(interfaces)g(ar)n(e)g(supported.)63 3522
y Fp(10.2)118 b(V)-13 b(alue)29 b(sharing)h(and)g(local)g(calls)63
3733 y Fs(When)e(valuetypes)f(ar)n(e)i(passed)e(as)i(parameters)f(in)h
(CORBA)g(calls)h(\(i.e.)e(calls)i(on)f(CORBA)63 3846
y(objects)24 b(declar)n(ed)h(with)g Fh(interface)20 b
Fs(in)26 b(IDL\),)e(the)h(str)o(uctur)n(e)e(of)i(r)n(elated)g(values)g
(is)g(main-)63 3959 y(tained.)43 b(Consider)-7 b(,)28
b(for)g(example,)h(the)e(following)h(IDL)f(de\002nitions)g(\(which)i
(ar)n(e)f(fr)n(om)g(the)63 4072 y(example)22 b(code)g(in)h
Fh(src/examples/va)o(lu)o(et)o(ype)o(/s)o(im)o(pl)o(e)p
Fs(:)204 4221 y Ff(module)48 b(ValueTest)h({)303 4321
y(valuetype)g(One)g({)403 4421 y(public)g(string)f(s;)403
4520 y(public)h(long)148 b(l;)303 4620 y(};)303 4819
y(interface)49 b(Test)g({)403 4919 y(One)g(op1\(in)g(One)g(a,)h(in)f
(One)g(b\);)303 5018 y(};)204 5118 y(};)204 5281 y Fs(If)27
b(the)g(client)h(to)f(the)f Fh(Test)g Fs(object)h(passes)f(the)g(same)i
(value)g(in)g(both)f(parameters,)g(just)63 5394 y(one)21
b(value)i(is)g(transmitted,)e(and)h(the)g(object)g(implementation)g(r)n
(eceives)h(a)g(copy)e(of)i(the)e(sin-)1662 5622 y(63)p
eop end
%%Page: 64 70
TeXDict begin 64 69 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(64)1723
b Fj(CHAPTER)22 b(10.)51 b(OBJECTS)23 b(BY)f(V)-10 b(ALUE)221
539 y Fs(gle)22 b(value,)i(with)e(r)n(efer)n(ences)g(to)g(it)g(in)h
(both)g(parameters.)362 674 y(In)d(the)g(case)g(that)g(the)f(object)h
(is)h(r)n(emote)e(fr)n(om)i(the)e(client,)i(ther)n(e)f(is)g(obviously)g
(a)h(copying)221 786 y(step)h(involved.)30 b(In)23 b(the)g(case)g(that)
g(the)g(object)g(is)g(in)h(the)f(same)g(addr)n(ess)f(space)h(as)g(the)g
(client,)221 899 y(the)d(same)h(copying)f(semantics)g(must)h(be)f
(maintained)i(so)e(that)h(the)f(object)g(implementation)221
1012 y(can)31 b(modify)e(the)g(values)h(it)g(r)n(eceives)g(without)e
(the)h(client)h(seeing)f(the)g(modi\002cations.)49 b(T)-8
b(o)221 1125 y(support)30 b(that,)k(omniORB)d(must)h(copy)f(the)g
(entir)n(e)g(parameter)g(list)h(in)h(one)e(operation,)i(in)221
1238 y(case)25 b(ther)n(e)f(is)g(sharing)h(between)e(dif)n(fer)n(ent)i
(parameters.)33 b(Such)24 b(copying)g(is)h(a)g(rather)f(mor)n(e)221
1351 y(time-consuming)d(pr)n(ocess)e(than)i(the)e(parameter)n
(-by-parameter)i(copy)e(that)i(takes)e(place)j(in)221
1464 y(calls)i(not)e(involving)i(valuetypes.)362 1599
y(T)-8 b(o)37 b(avoid)i(the)e(over)n(head)g(of)h(copying)f(parameters)g
(in)h(this)f(way)-10 b(,)42 b(applications)c(can)221
1712 y(choose)e(to)g(r)n(elax)h(the)f(semantics)g(of)h(value)g(copying)
f(in)h(local)i(calls,)i(so)36 b(values)h(ar)n(e)g(not)221
1825 y(copied)e(at)i(all,)j(but)c(ar)n(e)g(passed)f(by)h(r)n(efer)n
(ence.)67 b(In)35 b(that)h(case,)j(the)c(client)i(to)e(a)i(call)g
Fr(will)221 1938 y Fs(see)25 b(any)g(modi\002cations)h(to)f(the)g
(values)h(it)g(passes)e(as)i(parameters)f(\(and)h(similarly)-10
b(,)28 b(the)d(ob-)221 2051 y(ject)g(implementation)g(will)i(see)d(any)
h(changes)g(the)f(client)i(makes)f(to)f(r)n(eturned)g(values\).)36
b(T)-8 b(o)221 2163 y(choose)25 b(this)h(option,)g(set)f(the)h
Fh(copyValuesInLo)o(ca)o(lC)o(al)o(ls)20 b Fs(con\002guration)26
b(parameter)221 2276 y(to)c(zer)n(o.)221 2710 y Fp(10.3)119
b(V)-13 b(alue)29 b(factories)221 2966 y Fs(As)23 b(speci\002ed)f(in)i
(section)e(1.3.10)j(of)f(the)e(Python)g(language)h(mapping)h(\(version)
f(1.2\),)h(facto-)221 3079 y(ries)f(ar)n(e)h(automatically)h(r)n
(egister)n(ed)c(for)i(values)g(with)h(no)e(operations.)29
b(This)23 b(means)g(that)g(in)221 3192 y(common)h(usage)e(wher)n(e)g
(values)i(ar)n(e)g(just)e(used)g(to)h(hold)g(state,)f(the)h
(application)h(code)f(does)221 3305 y(not)33 b(need)f(to)g(implement)i
(and)f(r)n(egister)f(factories.)60 b(The)32 b(application)j(may)f
(still)f(r)n(egister)221 3418 y(dif)n(fer)n(ent)23 b(factories)f(if)i
(it)f(r)n(equir)n(es.)362 3553 y(If)f(the)g(IDL)f(de\002nitions)g
(specify)h(operations)e(on)i(values,)g(the)g(application)h(is)f
(supposed)221 3666 y(to)27 b(pr)n(ovide)h(implementations)f(of)g(the)g
(operations,)h(meaning)f(that)h(it)g(must)f(r)n(egister)f(suit-)221
3779 y(able)h(factories.)39 b(If)27 b(the)e(application)j(chooses)d(to)
g(ignor)n(e)h(the)g(operations)f(and)h(just)g(manip-)221
3892 y(ulate)k(the)f(data)h(inside)g(the)f(values,)j(omniidl)e(can)h
(be)f(asked)f(to)g(r)n(egister)f(factories)i(for)g Fr(all)221
4004 y Fs(values,)23 b(not)f(just)g(ones)f(with)i(no)f(operations,)f
(using)h(the)f Fh(-Wbfactories)d Fs(option.)362 4139
y(The)k(Python)e(language)i(mapping)g(says)g(a)g(value)h(factory)f
(should)f(be)h(\223a)i(class)e(instance)221 4252 y(with)32
b(a)g Fh(__call__)c Fs(method)i(taking)h(no)h(ar)n(guments\224.)54
b(omniORBpy)31 b(is)g(less)g(r)n(estrictive)221 4365
y(than)24 b(that,)g(and)g(permits)g(the)f(use)g(of)h
Fr(any)h Fs(callable)h(object,)e(in)h(particular)g(the)e(value)i
(imple-)221 4478 y(mentation)d(class)h(itself.)221 4912
y Fp(10.4)119 b(Standard)29 b(value)h(boxes)221 5168
y Fs(The)20 b(standar)n(d)f Fh(CORBA.StringValu)o(e)14
b Fs(and)20 b Fh(CORBA.WStringVa)o(lue)13 b Fs(value)21
b(boxes)f(ar)n(e)221 5281 y(available)33 b(to)c(application)i(code.)47
b(T)-8 b(o)29 b(make)h(the)e(de\002nitions)h(available)j(in)e(IDL,)f
(#include)221 5394 y(the)22 b(standar)n(d)g Fh(orb.idl)p
Fs(.)p eop end
%%Page: 65 71
TeXDict begin 65 70 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 282 a Fj(10.5.)51
b(V)-10 b(ALUES)21 b(INSIDE)g(ANYS)1998 b Fs(65)63 539
y Fp(10.5)118 b(V)-13 b(alues)30 b(inside)f(Anys)63 753
y Fs(V)-8 b(aluetypes)28 b(inserted)h(into)h(Anys)g(cause)g(a)i(number)
e(of)h(inter)n(esting)e(issues.)51 b(Even)30 b(when)63
866 y(inside)22 b(Anys,)g(values)i(ar)n(e)f(r)n(equir)n(ed)g(to)f
(support)f(complete)i(sharing)g(semantics.)29 b(T)-8
b(ake)22 b(this)63 978 y(IDL)g(for)g(example:)204 1131
y Ff(module)48 b(ValueTest)h({)303 1231 y(valuetype)g(One)g({)403
1330 y(public)g(string)f(s;)403 1430 y(public)h(long)148
b(l;)303 1529 y(};)303 1729 y(interface)49 b(AnyTest)f({)403
1828 y(void)h(op1\()o(in)h(One)f(v,)h(in)f(Any)g(a\);)303
1928 y(};)204 2028 y(};)63 2195 y Fs(Now)-8 b(,)21 b(suppose)f(the)i
(client)h(behaves)f(as)h(follows:)204 2347 y Ff(v)49
b(=)h(One_impl)o(\()o("hello)o(",)g(123\))204 2447 y(a)f(=)h(CORBA)o
(.Any)o(\(ValueTest)o(.)o(_tc_One)o(,)g(v)o(\))204 2547
y(obj)o(.op1)o(\(v,)g(a\))63 2714 y Fs(then)21 b(on)i(the)e(server)h
(side:)204 2866 y Ff(class)49 b(AnyTest_impl)m(:)403
2966 y(...)403 3065 y(def)g(op1\(self)o(,)g(v,)h(a\):)602
3165 y(v2)g(=)f(a.value)o(\(\))602 3265 y(assert)g(v2)g(==)h(v)63
3432 y Fs(This)22 b(is)g(all)i(very)e(well)h(in)f(this)g(kind)g(of)h
(simple)f(situation,)g(but)g(pr)n(oblems)g(can)h(arise)f(if)i(tr)o(un-)
63 3545 y(catable)g(valuetypes)d(ar)n(e)i(used.)j(Imagine)d(this)f
(derived)g(value:)204 3697 y Ff(module)48 b(ValueTest)h({)303
3797 y(valuetype)g(Two)g(:)g(truncatable)f(One)h({)403
3897 y(public)g(double)f(d;)303 3996 y(};)204 4096 y(};)63
4263 y Fs(Now)-8 b(,)25 b(suppose)f(that)j(the)e(client)i(shown)e
(above)i(sends)e(an)i(instance)f(of)g(valuetype)g Fh(Two)f
Fs(in)63 4376 y(both)31 b(parameters,)h(and)f(suppose)e(that)i(the)f
(server)h(has)g(not)g(seen)f(the)g(de\002nition)h(of)g(val-)63
4489 y(uetype)h Fh(Two)p Fs(.)62 b(In)34 b(this)g(situation,)j(as)d
(the)g(\002rst)f(parameter)h(is)h(unmarshalled,)i(it)e(will)h(be)63
4602 y(tr)o(uncated)26 b(to)g(valuetype)g Fh(One)p Fs(,)h(as)g(r)n
(equir)n(ed.)41 b(Now)-8 b(,)26 b(when)g(the)h(Any)f(is)h
(unmarshalled,)h(it)63 4715 y(r)n(efers)20 b(to)g(the)h(same)g(value,)g
(which)h(has)f(been)g(tr)o(uncated.)26 b(So,)21 b(even)f(though)g(the)g
(T)-8 b(ypeCode)63 4828 y(in)21 b(the)e(Any)h(indicates)h(that)f(the)g
(value)h(has)g(type)e Fh(Two)p Fs(,)g(the)h(stor)n(ed)e(value)k
(actually)g(has)e(type)63 4941 y Fh(One)p Fs(.)26 b(If)c(the)g(r)n
(eceiver)g(of)g(the)g(Any)f(tries)g(to)h(pass)f(it)i(on,)f
(transmission)f(will)j(fail)g(because)d(the)63 5053 y(Any's)g(value)j
(does)d(not)h(match)h(its)f(T)-8 b(ypeCode.)204 5168
y(In)29 b(the)g(opposite)e(situation,)k(wher)n(e)e(an)h(Any)f
(parameter)g(comes)g(befor)n(e)g(a)h(valuetype)63 5281
y(parameter)-7 b(,)31 b(a)f(dif)n(fer)n(ent)g(pr)n(oblem)g(occurs.)50
b(In)30 b(that)f(case,)j(as)e(the)f(Any)g(is)h(unmarshalled,)63
5394 y(ther)n(e)16 b(is)i(no)f(type)g(information)h(available)i(for)e
(valuetype)f Fh(Two)p Fs(,)g(so)g(omniORBpy)g(constr)o(ucts)p
eop end
%%Page: 66 72
TeXDict begin 66 71 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 221 282 a Fs(66)1723
b Fj(CHAPTER)22 b(10.)51 b(OBJECTS)23 b(BY)f(V)-10 b(ALUE)221
539 y Fs(a)20 b(suitable)g(type)f(based)g(on)g(the)g(transmitted)g(T)-8
b(ypeCode.)24 b(Because)19 b(omniORBpy)g(is)g(unable)221
652 y(to)k(know)g(how)h(\(and)g(indeed)f(if\))i(the)e(application)i
(has)f(implemented)f(valuetype)g Fh(One)p Fs(,)g(the)221
764 y(generated)g(class)i(for)f(valuetype)g Fh(Two)g
Fs(is)h(not)f(derived)f(fr)n(om)j(the)e(application's)h
Fh(One)f Fs(class.)221 877 y(When)31 b(the)f(second)g(parameter)h(is)g
(unmarshalled,)j(it)d(is)g(given)h(as)f(an)h(indir)n(ection)f(to)g(the)
221 990 y(pr)n(eviously-marshalled)26 b(value)g(inside)e(the)h(Any)-10
b(.)35 b(The)24 b(parameter)h(is)g(ther)n(efor)n(e)f(set)g(to)h(the)221
1103 y(constr)o(ucted)30 b Fh(Two)g Fs(type,)i(rather)f(than)h(being)f
(tr)o(uncated)g(to)g(an)h(instance)f(of)h(the)e(applica-)221
1216 y(tion's)22 b(r)n(egister)n(ed)f Fh(One)g Fs(type.)362
1329 y(Because)29 b(of)i(these)d(issues,)j(it)f(is)h(best)e(to)h(avoid)
h(de\002ning)e(interfaces)h(that)g(mix)h(value-)221 1442
y(types)25 b(and)h(Anys)f(in)i(a)g(single)f(operation,)g(and)h
(certainly)g(to)e(avoid)i(trying)f(to)g(shar)n(e)g(plain)221
1555 y(values)d(with)g(values)g(inside)f(Anys.)p eop
end
%%Page: 67 73
TeXDict begin 67 72 bop 0 0 a
SDict begin /product where{pop product(Distiller)search{pop pop pop
version(.)search{exch pop exch pop(3011)eq{gsave newpath 0 0 moveto
closepath clip/Courier findfont 10 scalefont setfont 72 72 moveto(.)show
grestore}if}{pop}ifelse}{pop}ifelse}if end
 0 0 a 63 1203 a Fn(Bibliography)63
1662 y Fs([BLFIM98])45 b(T)-7 b(.)28 b(Berners-Lee,)e(R.)h(Fielding,)i
(U.C.)e(Irvine,)i(and)f(L.)g(Masinter)-7 b(.)49 b Fr(Uniform)28
b(Re-)538 1775 y(sour)n(ce)c(Identi\002ers)h(\(URI\):)e(Generic)g
(Syntax)p Fs(.)33 b(RFC)22 b(2396,)j(August)20 b(1998.)63
1962 y([OMG98])99 b(Object)32 b(Management)f(Gr)n(oup.)60
b Fr(CORBAServices:)45 b(Common)31 b(Object)h(Services)538
2075 y(Speci\002cation)p Fs(,)24 b(December)e(1998.)63
2263 y([OMG00])99 b(Object)31 b(Management)e(Gr)n(oup.)57
b Fr(Inter)n(operable)34 b(Naming)d(Service)h(r)n(evised)h(chap-)538
2376 y(ters)p Fs(,)24 b(August)c(2000.)35 b(Fr)n(om)22
b Fi(http://cgi.omg.org/cgi-)t(bin/doc?ptc/00-)t(08-)t(07)p
Fs(.)63 2563 y([OMG01a])54 b(Object)36 b(Management)g(Gr)n(oup.)75
b Fr(The)36 b(Common)f(Object)i(Request)g(Br)n(oker:)56
b(Ar-)538 2676 y(chitectur)n(e)45 b(and)e(Speci\002cation)p
Fs(,)48 b(2.6)c(edition,)i(December)c(2001.)98 b(Fr)n(om)43
b Fi(http:)538 2789 y(//www)-5 b(.omg.org/cgi-)t(bin/doc?f)m(or)r
(mal/01-)t(12-)t(01)p Fs(.)63 2977 y([OMG01b])49 b(Object)57
b(Management)g(Gr)n(oup.)142 b Fr(Python)57 b(Language)h(Mapping)g
(Speci\002ca-)538 3090 y(tion)p Fs(,)19 b(Febr)o(uary)e(2001.)23
b Fi(http://www)-5 b(.omg.org/technology/documents/f)m(or)r(mal/)538
3203 y(p)m(ython_language_mapp)o(i\045ng.h)o(tm)p Fs(.)1662
5622 y(67)p eop end
%%Trailer

userdict /end-hook known{end-hook}if
%%EOF
