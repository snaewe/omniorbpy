diff -rc Python-1.5.2/acconfig.h Python-1.5.2+aix_load_patch/acconfig.h
*** Python-1.5.2/acconfig.h	Tue Apr  6 11:49:44 1999
--- Python-1.5.2+aix_load_patch/acconfig.h	Wed Dec  1 10:45:57 1999
***************
*** 9,14 ****
--- 9,18 ----
     (as it does on SCI ODT 3.0) */
  #undef BAD_STATIC_FORWARD
  
+ /* Define for AIX if your compiler is a genuine IBM xlC/xlC_r
+    and you want support for AIX C++ shared extension modules. */
+ #undef AIX_GENUINE_CPLUSPLUS
+ 
  /* Define this if you have BeOS threads */
  #undef BEOS_THREADS
  
diff -rc Python-1.5.2/config.h.in Python-1.5.2+aix_load_patch/config.h.in
*** Python-1.5.2/config.h.in	Tue Apr  6 11:49:45 1999
--- Python-1.5.2+aix_load_patch/config.h.in	Wed Dec  1 10:48:56 1999
***************
*** 70,75 ****
--- 70,79 ----
     (as it does on SCI ODT 3.0) */
  #undef BAD_STATIC_FORWARD
  
+ /* Define for AIX if your compiler is a genuine IBM xlC/xlC_r
+    and you want support for AIX C++ shared extension modules. */
+ #undef AIX_GENUINE_CPLUSPLUS
+ 
  /* Define this if you have BeOS threads */
  #undef BEOS_THREADS
  
diff -rc Python-1.5.2/configure Python-1.5.2+aix_load_patch/configure
*** Python-1.5.2/configure	Sat Apr 10 12:02:18 1999
--- Python-1.5.2+aix_load_patch/configure	Wed Dec  1 10:48:42 1999
***************
*** 2413,2418 ****
--- 2413,2448 ----
    echo "$ac_t""no" 1>&6
  fi
  	# Dynamic linking for HP-UX
+ 
+ # checks for system dependent C++ extensions support
+ case "$ac_sys_system" in
+ 	AIX*)	echo $ac_n "checking for genuine AIX C++ extensions support""... $ac_c" 1>&6
+ echo "configure:2421: checking for genuine AIX C++ extensions support" >&5
+ 		cat > conftest.$ac_ext <<EOF
+ #line 2423 "configure"
+ #include "confdefs.h"
+ #include "/usr/lpp/xlC/include/load.h"
+ int main() {
+ loadAndInit("", 0, "")
+ ; return 0; }
+ EOF
+ if { (eval echo configure:2430: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
+   rm -rf conftest*
+   cat >> confdefs.h <<\EOF
+ #define AIX_GENUINE_CPLUSPLUS 1
+ EOF
+ 
+ 			     echo "$ac_t""yes" 1>&6
+ else
+   echo "configure: failed program was:" >&5
+   cat conftest.$ac_ext >&5
+   rm -rf conftest*
+   echo "$ac_t""no" 1>&6
+ fi
+ rm -f conftest*;;
+ 	*) ;;
+ esac
+ 
  # Most SVR4 platforms (e.g. Solaris) need -lsocket and -lnsl.
  # However on SGI IRIX, these exist but are broken.
  # BeOS' sockets are stashed in libnet.
***************
*** 2420,2426 ****
  IRIX*) ;;
  *)
  echo $ac_n "checking for t_open in -lnsl""... $ac_c" 1>&6
! echo "configure:2424: checking for t_open in -lnsl" >&5
  ac_lib_var=`echo nsl'_'t_open | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2450,2456 ----
  IRIX*) ;;
  *)
  echo $ac_n "checking for t_open in -lnsl""... $ac_c" 1>&6
! echo "configure:2454: checking for t_open in -lnsl" >&5
  ac_lib_var=`echo nsl'_'t_open | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2428,2434 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2432 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2458,2464 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lnsl  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2462 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2439,2445 ****
  t_open()
  ; return 0; }
  EOF
! if { (eval echo configure:2443: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2469,2475 ----
  t_open()
  ; return 0; }
  EOF
! if { (eval echo configure:2473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2460,2466 ****
  fi
   # SVR4
  echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
! echo "configure:2464: checking for socket in -lsocket" >&5
  ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2490,2496 ----
  fi
   # SVR4
  echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
! echo "configure:2494: checking for socket in -lsocket" >&5
  ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2468,2474 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket $LIBS $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2472 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2498,2504 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lsocket $LIBS $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2502 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2479,2485 ****
  socket()
  ; return 0; }
  EOF
! if { (eval echo configure:2483: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2509,2515 ----
  socket()
  ; return 0; }
  EOF
! if { (eval echo configure:2513: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2500,2506 ****
  fi
   # SVR4 sockets
  echo $ac_n "checking for socket in -lnet""... $ac_c" 1>&6
! echo "configure:2504: checking for socket in -lnet" >&5
  ac_lib_var=`echo net'_'socket | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2530,2536 ----
  fi
   # SVR4 sockets
  echo $ac_n "checking for socket in -lnet""... $ac_c" 1>&6
! echo "configure:2534: checking for socket in -lnet" >&5
  ac_lib_var=`echo net'_'socket | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2508,2514 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lnet $LIBS $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2512 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2538,2544 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lnet $LIBS $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2542 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2519,2525 ****
  socket()
  ; return 0; }
  EOF
! if { (eval echo configure:2523: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2549,2555 ----
  socket()
  ; return 0; }
  EOF
! if { (eval echo configure:2553: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2543,2549 ****
  esac
  
  echo $ac_n "checking for --with-libs""... $ac_c" 1>&6
! echo "configure:2547: checking for --with-libs" >&5
  # Check whether --with-libs or --without-libs was given.
  if test "${with_libs+set}" = set; then
    withval="$with_libs"
--- 2573,2579 ----
  esac
  
  echo $ac_n "checking for --with-libs""... $ac_c" 1>&6
! echo "configure:2577: checking for --with-libs" >&5
  # Check whether --with-libs or --without-libs was given.
  if test "${with_libs+set}" = set; then
    withval="$with_libs"
***************
*** 2557,2563 ****
  
  
  echo $ac_n "checking for --with(out)-readline""... $ac_c" 1>&6
! echo "configure:2561: checking for --with(out)-readline" >&5
  # Check whether --with-readline or --without-readline was given.
  if test "${with_readline+set}" = set; then
    withval="$with_readline"
--- 2587,2593 ----
  
  
  echo $ac_n "checking for --with(out)-readline""... $ac_c" 1>&6
! echo "configure:2591: checking for --with(out)-readline" >&5
  # Check whether --with-readline or --without-readline was given.
  if test "${with_readline+set}" = set; then
    withval="$with_readline"
***************
*** 2572,2578 ****
  USE_THREAD_MODULE="#"
  
  echo $ac_n "checking for --with-dec-threads""... $ac_c" 1>&6
! echo "configure:2576: checking for --with-dec-threads" >&5
  
  # Check whether --with-dec-threads or --without-dec-threads was given.
  if test "${with_dec_threads+set}" = set; then
--- 2602,2608 ----
  USE_THREAD_MODULE="#"
  
  echo $ac_n "checking for --with-dec-threads""... $ac_c" 1>&6
! echo "configure:2606: checking for --with-dec-threads" >&5
  
  # Check whether --with-dec-threads or --without-dec-threads was given.
  if test "${with_dec_threads+set}" = set; then
***************
*** 2588,2594 ****
  
  
  echo $ac_n "checking for --with-threads""... $ac_c" 1>&6
! echo "configure:2592: checking for --with-threads" >&5
  # Check whether --with-threads or --without-threads was given.
  if test "${with_threads+set}" = set; then
    withval="$with_threads"
--- 2618,2624 ----
  
  
  echo $ac_n "checking for --with-threads""... $ac_c" 1>&6
! echo "configure:2622: checking for --with-threads" >&5
  # Check whether --with-threads or --without-threads was given.
  if test "${with_threads+set}" = set; then
    withval="$with_threads"
***************
*** 2602,2608 ****
  
  
  echo $ac_n "checking for --with-thread""... $ac_c" 1>&6
! echo "configure:2606: checking for --with-thread" >&5
  # Check whether --with-thread or --without-thread was given.
  if test "${with_thread+set}" = set; then
    withval="$with_thread"
--- 2632,2638 ----
  
  
  echo $ac_n "checking for --with-thread""... $ac_c" 1>&6
! echo "configure:2636: checking for --with-thread" >&5
  # Check whether --with-thread or --without-thread was given.
  if test "${with_thread+set}" = set; then
    withval="$with_thread"
***************
*** 2618,2634 ****
  
  ac_safe=`echo "mach/cthreads.h" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for mach/cthreads.h""... $ac_c" 1>&6
! echo "configure:2622: checking for mach/cthreads.h" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2627 "configure"
  #include "confdefs.h"
  #include <mach/cthreads.h>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2632: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 2648,2664 ----
  
  ac_safe=`echo "mach/cthreads.h" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for mach/cthreads.h""... $ac_c" 1>&6
! echo "configure:2652: checking for mach/cthreads.h" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2657 "configure"
  #include "confdefs.h"
  #include <mach/cthreads.h>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2662: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 2657,2668 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_detach""... $ac_c" 1>&6
! echo "configure:2661: checking for pthread_detach" >&5
  if eval "test \"`echo '$''{'ac_cv_func_pthread_detach'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2666 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char pthread_detach(); below.  */
--- 2687,2698 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_detach""... $ac_c" 1>&6
! echo "configure:2691: checking for pthread_detach" >&5
  if eval "test \"`echo '$''{'ac_cv_func_pthread_detach'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2696 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char pthread_detach(); below.  */
***************
*** 2685,2691 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:2689: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_pthread_detach=yes"
  else
--- 2715,2721 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:2719: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_pthread_detach=yes"
  else
***************
*** 2713,2729 ****
  
  ac_safe=`echo "kernel/OS.h" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for kernel/OS.h""... $ac_c" 1>&6
! echo "configure:2717: checking for kernel/OS.h" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2722 "configure"
  #include "confdefs.h"
  #include <kernel/OS.h>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2727: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
--- 2743,2759 ----
  
  ac_safe=`echo "kernel/OS.h" | sed 'y%./+-%__p_%'`
  echo $ac_n "checking for kernel/OS.h""... $ac_c" 1>&6
! echo "configure:2747: checking for kernel/OS.h" >&5
  if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 2752 "configure"
  #include "confdefs.h"
  #include <kernel/OS.h>
  EOF
  ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
! { (eval echo configure:2757: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
  ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
  if test -z "$ac_err"; then
    rm -rf conftest*
***************
*** 2752,2758 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lpthreads""... $ac_c" 1>&6
! echo "configure:2756: checking for pthread_create in -lpthreads" >&5
  ac_lib_var=`echo pthreads'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2782,2788 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lpthreads""... $ac_c" 1>&6
! echo "configure:2786: checking for pthread_create in -lpthreads" >&5
  ac_lib_var=`echo pthreads'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2760,2766 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpthreads  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2764 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2790,2796 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpthreads  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2794 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2771,2777 ****
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2775: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2801,2807 ----
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2805: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2800,2806 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lpthread""... $ac_c" 1>&6
! echo "configure:2804: checking for pthread_create in -lpthread" >&5
  ac_lib_var=`echo pthread'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2830,2836 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lpthread""... $ac_c" 1>&6
! echo "configure:2834: checking for pthread_create in -lpthread" >&5
  ac_lib_var=`echo pthread'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2808,2814 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lpthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2812 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2838,2844 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lpthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2842 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2819,2825 ****
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2823: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2849,2855 ----
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2853: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2848,2854 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lc_r""... $ac_c" 1>&6
! echo "configure:2852: checking for pthread_create in -lc_r" >&5
  ac_lib_var=`echo c_r'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2878,2884 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lc_r""... $ac_c" 1>&6
! echo "configure:2882: checking for pthread_create in -lc_r" >&5
  ac_lib_var=`echo c_r'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2856,2862 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lc_r  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2860 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2886,2892 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lc_r  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2890 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2867,2873 ****
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2871: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2897,2903 ----
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2901: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2896,2902 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for __d6_pthread_create in -lthread""... $ac_c" 1>&6
! echo "configure:2900: checking for __d6_pthread_create in -lthread" >&5
  ac_lib_var=`echo thread'_'__d6_pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2926,2932 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for __d6_pthread_create in -lthread""... $ac_c" 1>&6
! echo "configure:2930: checking for __d6_pthread_create in -lthread" >&5
  ac_lib_var=`echo thread'_'__d6_pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2904,2910 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2908 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2934,2940 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2938 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2915,2921 ****
  __d6_pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2919: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2945,2951 ----
  __d6_pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2949: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 2944,2950 ****
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lcma""... $ac_c" 1>&6
! echo "configure:2948: checking for pthread_create in -lcma" >&5
  ac_lib_var=`echo cma'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 2974,2980 ----
    echo "$ac_t""no" 1>&6
  
  echo $ac_n "checking for pthread_create in -lcma""... $ac_c" 1>&6
! echo "configure:2978: checking for pthread_create in -lcma" >&5
  ac_lib_var=`echo cma'_'pthread_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 2952,2958 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lcma  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2956 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 2982,2988 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lcma  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 2986 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 2963,2969 ****
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2967: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 2993,2999 ----
  pthread_create()
  ; return 0; }
  EOF
! if { (eval echo configure:2997: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3009,3015 ****
  
  
  echo $ac_n "checking for usconfig in -lmpc""... $ac_c" 1>&6
! echo "configure:3013: checking for usconfig in -lmpc" >&5
  ac_lib_var=`echo mpc'_'usconfig | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3039,3045 ----
  
  
  echo $ac_n "checking for usconfig in -lmpc""... $ac_c" 1>&6
! echo "configure:3043: checking for usconfig in -lmpc" >&5
  ac_lib_var=`echo mpc'_'usconfig | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3017,3023 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lmpc  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3021 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3047,3053 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lmpc  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3051 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3028,3034 ****
  usconfig()
  ; return 0; }
  EOF
! if { (eval echo configure:3032: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3058,3064 ----
  usconfig()
  ; return 0; }
  EOF
! if { (eval echo configure:3062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3054,3060 ****
  fi
  
  echo $ac_n "checking for thr_create in -lthread""... $ac_c" 1>&6
! echo "configure:3058: checking for thr_create in -lthread" >&5
  ac_lib_var=`echo thread'_'thr_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 3084,3090 ----
  fi
  
  echo $ac_n "checking for thr_create in -lthread""... $ac_c" 1>&6
! echo "configure:3088: checking for thr_create in -lthread" >&5
  ac_lib_var=`echo thread'_'thr_create | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 3062,3068 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3066 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 3092,3098 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lthread  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 3096 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 3073,3079 ****
  thr_create()
  ; return 0; }
  EOF
! if { (eval echo configure:3077: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 3103,3109 ----
  thr_create()
  ; return 0; }
  EOF
! if { (eval echo configure:3107: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 3109,3115 ****
  DLINCLDIR=/
  
  echo $ac_n "checking for --with-sgi-dl""... $ac_c" 1>&6
! echo "configure:3113: checking for --with-sgi-dl" >&5
  # Check whether --with-sgi-dl or --without-sgi-dl was given.
  if test "${with_sgi_dl+set}" = set; then
    withval="$with_sgi_dl"
--- 3139,3145 ----
  DLINCLDIR=/
  
  echo $ac_n "checking for --with-sgi-dl""... $ac_c" 1>&6
! echo "configure:3143: checking for --with-sgi-dl" >&5
  # Check whether --with-sgi-dl or --without-sgi-dl was given.
  if test "${with_sgi_dl+set}" = set; then
    withval="$with_sgi_dl"
***************
*** 3132,3138 ****
  
  
  echo $ac_n "checking for --with-dl-dld""... $ac_c" 1>&6
! echo "configure:3136: checking for --with-dl-dld" >&5
  # Check whether --with-dl-dld or --without-dl-dld was given.
  if test "${with_dl_dld+set}" = set; then
    withval="$with_dl_dld"
--- 3162,3168 ----
  
  
  echo $ac_n "checking for --with-dl-dld""... $ac_c" 1>&6
! echo "configure:3166: checking for --with-dl-dld" >&5
  # Check whether --with-dl-dld or --without-dl-dld was given.
  if test "${with_dl_dld+set}" = set; then
    withval="$with_dl_dld"
***************
*** 3165,3176 ****
   tcgetpgrp tcsetpgrp timegm times truncate uname waitpid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3169: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3174 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3195,3206 ----
   tcgetpgrp tcsetpgrp timegm times truncate uname waitpid
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3199: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3204 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3193,3199 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3197: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3223,3229 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3227: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3222,3233 ****
  for ac_func in fseek64 fseeko fstatvfs ftell64 ftello statvfs
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3226: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3231 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3252,3263 ----
  for ac_func in fseek64 fseeko fstatvfs ftell64 ftello statvfs
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3256: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3261 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3250,3256 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3254: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3280,3286 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3284: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3278,3289 ****
  for ac_func in dup2 getcwd strdup strerror memmove
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3282: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3287 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 3308,3319 ----
  for ac_func in dup2 getcwd strdup strerror memmove
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:3312: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3317 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 3306,3312 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3310: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 3336,3342 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3340: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 3333,3344 ****
  
  
  echo $ac_n "checking for getpgrp""... $ac_c" 1>&6
! echo "configure:3337: checking for getpgrp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3342 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpgrp(); below.  */
--- 3363,3374 ----
  
  
  echo $ac_n "checking for getpgrp""... $ac_c" 1>&6
! echo "configure:3367: checking for getpgrp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getpgrp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3372 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char getpgrp(); below.  */
***************
*** 3361,3367 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3365: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpgrp=yes"
  else
--- 3391,3397 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3395: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_getpgrp=yes"
  else
***************
*** 3376,3382 ****
  if eval "test \"`echo '$ac_cv_func_'getpgrp`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3380 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
--- 3406,3412 ----
  if eval "test \"`echo '$ac_cv_func_'getpgrp`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3410 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
***************
*** 3383,3389 ****
  getpgrp(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3387: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define GETPGRP_HAVE_ARG 1
--- 3413,3419 ----
  getpgrp(0);
  ; return 0; }
  EOF
! if { (eval echo configure:3417: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define GETPGRP_HAVE_ARG 1
***************
*** 3399,3410 ****
  fi
  
  echo $ac_n "checking for setpgrp""... $ac_c" 1>&6
! echo "configure:3403: checking for setpgrp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_setpgrp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3408 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char setpgrp(); below.  */
--- 3429,3440 ----
  fi
  
  echo $ac_n "checking for setpgrp""... $ac_c" 1>&6
! echo "configure:3433: checking for setpgrp" >&5
  if eval "test \"`echo '$''{'ac_cv_func_setpgrp'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3438 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char setpgrp(); below.  */
***************
*** 3427,3433 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3431: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_setpgrp=yes"
  else
--- 3457,3463 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3461: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_setpgrp=yes"
  else
***************
*** 3442,3448 ****
  if eval "test \"`echo '$ac_cv_func_'setpgrp`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3446 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
--- 3472,3478 ----
  if eval "test \"`echo '$ac_cv_func_'setpgrp`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3476 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
***************
*** 3449,3455 ****
  setpgrp(0,0);
  ; return 0; }
  EOF
! if { (eval echo configure:3453: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define SETPGRP_HAVE_ARG 1
--- 3479,3485 ----
  setpgrp(0,0);
  ; return 0; }
  EOF
! if { (eval echo configure:3483: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define SETPGRP_HAVE_ARG 1
***************
*** 3465,3476 ****
  fi
  
  echo $ac_n "checking for gettimeofday""... $ac_c" 1>&6
! echo "configure:3469: checking for gettimeofday" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gettimeofday'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3474 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gettimeofday(); below.  */
--- 3495,3506 ----
  fi
  
  echo $ac_n "checking for gettimeofday""... $ac_c" 1>&6
! echo "configure:3499: checking for gettimeofday" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gettimeofday'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3504 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gettimeofday(); below.  */
***************
*** 3493,3499 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3497: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gettimeofday=yes"
  else
--- 3523,3529 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3527: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gettimeofday=yes"
  else
***************
*** 3508,3514 ****
  if eval "test \"`echo '$ac_cv_func_'gettimeofday`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3512 "configure"
  #include "confdefs.h"
  #include <sys/time.h>
  int main() {
--- 3538,3544 ----
  if eval "test \"`echo '$ac_cv_func_'gettimeofday`\" = yes"; then
    echo "$ac_t""yes" 1>&6
    cat > conftest.$ac_ext <<EOF
! #line 3542 "configure"
  #include "confdefs.h"
  #include <sys/time.h>
  int main() {
***************
*** 3515,3521 ****
  gettimeofday((struct timeval*)0,(struct timezone*)0);
  ; return 0; }
  EOF
! if { (eval echo configure:3519: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
--- 3545,3551 ----
  gettimeofday((struct timeval*)0,(struct timezone*)0);
  ; return 0; }
  EOF
! if { (eval echo configure:3549: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
***************
*** 3534,3545 ****
  
  # checks for structures
  echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
! echo "configure:3538: checking whether time.h and sys/time.h may both be included" >&5
  if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3543 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/time.h>
--- 3564,3575 ----
  
  # checks for structures
  echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
! echo "configure:3568: checking whether time.h and sys/time.h may both be included" >&5
  if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3573 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <sys/time.h>
***************
*** 3548,3554 ****
  struct tm *tp;
  ; return 0; }
  EOF
! if { (eval echo configure:3552: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_header_time=yes
  else
--- 3578,3584 ----
  struct tm *tp;
  ; return 0; }
  EOF
! if { (eval echo configure:3582: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_header_time=yes
  else
***************
*** 3569,3580 ****
  fi
  
  echo $ac_n "checking whether struct tm is in sys/time.h or time.h""... $ac_c" 1>&6
! echo "configure:3573: checking whether struct tm is in sys/time.h or time.h" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_tm'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3578 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <time.h>
--- 3599,3610 ----
  fi
  
  echo $ac_n "checking whether struct tm is in sys/time.h or time.h""... $ac_c" 1>&6
! echo "configure:3603: checking whether struct tm is in sys/time.h or time.h" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_tm'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3608 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <time.h>
***************
*** 3582,3588 ****
  struct tm *tp; tp->tm_sec;
  ; return 0; }
  EOF
! if { (eval echo configure:3586: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_tm=time.h
  else
--- 3612,3618 ----
  struct tm *tp; tp->tm_sec;
  ; return 0; }
  EOF
! if { (eval echo configure:3616: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_tm=time.h
  else
***************
*** 3603,3614 ****
  fi
  
  echo $ac_n "checking for tm_zone in struct tm""... $ac_c" 1>&6
! echo "configure:3607: checking for tm_zone in struct tm" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_tm_zone'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3612 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <$ac_cv_struct_tm>
--- 3633,3644 ----
  fi
  
  echo $ac_n "checking for tm_zone in struct tm""... $ac_c" 1>&6
! echo "configure:3637: checking for tm_zone in struct tm" >&5
  if eval "test \"`echo '$''{'ac_cv_struct_tm_zone'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3642 "configure"
  #include "confdefs.h"
  #include <sys/types.h>
  #include <$ac_cv_struct_tm>
***************
*** 3616,3622 ****
  struct tm tm; tm.tm_zone;
  ; return 0; }
  EOF
! if { (eval echo configure:3620: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_tm_zone=yes
  else
--- 3646,3652 ----
  struct tm tm; tm.tm_zone;
  ; return 0; }
  EOF
! if { (eval echo configure:3650: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_struct_tm_zone=yes
  else
***************
*** 3636,3647 ****
  
  else
    echo $ac_n "checking for tzname""... $ac_c" 1>&6
! echo "configure:3640: checking for tzname" >&5
  if eval "test \"`echo '$''{'ac_cv_var_tzname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3645 "configure"
  #include "confdefs.h"
  #include <time.h>
  #ifndef tzname /* For SGI.  */
--- 3666,3677 ----
  
  else
    echo $ac_n "checking for tzname""... $ac_c" 1>&6
! echo "configure:3670: checking for tzname" >&5
  if eval "test \"`echo '$''{'ac_cv_var_tzname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3675 "configure"
  #include "confdefs.h"
  #include <time.h>
  #ifndef tzname /* For SGI.  */
***************
*** 3651,3657 ****
  atoi(*tzname);
  ; return 0; }
  EOF
! if { (eval echo configure:3655: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    ac_cv_var_tzname=yes
  else
--- 3681,3687 ----
  atoi(*tzname);
  ; return 0; }
  EOF
! if { (eval echo configure:3685: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    ac_cv_var_tzname=yes
  else
***************
*** 3674,3685 ****
  
  
  echo $ac_n "checking for time.h that defines altzone""... $ac_c" 1>&6
! echo "configure:3678: checking for time.h that defines altzone" >&5
  if eval "test \"`echo '$''{'ac_cv_header_time_altzone'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3683 "configure"
  #include "confdefs.h"
  #include <time.h>
  int main() {
--- 3704,3715 ----
  
  
  echo $ac_n "checking for time.h that defines altzone""... $ac_c" 1>&6
! echo "configure:3708: checking for time.h that defines altzone" >&5
  if eval "test \"`echo '$''{'ac_cv_header_time_altzone'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3713 "configure"
  #include "confdefs.h"
  #include <time.h>
  int main() {
***************
*** 3686,3692 ****
  return altzone;
  ; return 0; }
  EOF
! if { (eval echo configure:3690: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_header_time_altzone=yes
  else
--- 3716,3722 ----
  return altzone;
  ; return 0; }
  EOF
! if { (eval echo configure:3720: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_header_time_altzone=yes
  else
***************
*** 3708,3716 ****
  
  was_it_defined=no
  echo $ac_n "checking whether sys/select.h and sys/time.h may both be included""... $ac_c" 1>&6
! echo "configure:3712: checking whether sys/select.h and sys/time.h may both be included" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3714 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
--- 3738,3746 ----
  
  was_it_defined=no
  echo $ac_n "checking whether sys/select.h and sys/time.h may both be included""... $ac_c" 1>&6
! echo "configure:3742: checking whether sys/select.h and sys/time.h may both be included" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3744 "configure"
  #include "confdefs.h"
  
  #include <sys/types.h>
***************
*** 3721,3727 ****
  ;
  ; return 0; }
  EOF
! if { (eval echo configure:3725: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define SYS_SELECT_WITH_SYS_TIME 1
--- 3751,3757 ----
  ;
  ; return 0; }
  EOF
! if { (eval echo configure:3755: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define SYS_SELECT_WITH_SYS_TIME 1
***************
*** 3737,3743 ****
  # checks for compiler characteristics
  
  echo $ac_n "checking whether char is unsigned""... $ac_c" 1>&6
! echo "configure:3741: checking whether char is unsigned" >&5
  if eval "test \"`echo '$''{'ac_cv_c_char_unsigned'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 3767,3773 ----
  # checks for compiler characteristics
  
  echo $ac_n "checking whether char is unsigned""... $ac_c" 1>&6
! echo "configure:3771: checking whether char is unsigned" >&5
  if eval "test \"`echo '$''{'ac_cv_c_char_unsigned'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 3744,3750 ****
    if test "$GCC" = yes; then
    # GCC predefines this symbol on systems where it applies.
  cat > conftest.$ac_ext <<EOF
! #line 3748 "configure"
  #include "confdefs.h"
  #ifdef __CHAR_UNSIGNED__
    yes
--- 3774,3780 ----
    if test "$GCC" = yes; then
    # GCC predefines this symbol on systems where it applies.
  cat > conftest.$ac_ext <<EOF
! #line 3778 "configure"
  #include "confdefs.h"
  #ifdef __CHAR_UNSIGNED__
    yes
***************
*** 3766,3772 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 3770 "configure"
  #include "confdefs.h"
  /* volatile prevents gcc2 from optimizing the test away on sparcs.  */
  #if !defined(__STDC__) || __STDC__ != 1
--- 3796,3802 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 3800 "configure"
  #include "confdefs.h"
  /* volatile prevents gcc2 from optimizing the test away on sparcs.  */
  #if !defined(__STDC__) || __STDC__ != 1
***************
*** 3776,3782 ****
    volatile char c = 255; exit(c < 0);
  }
  EOF
! if { (eval echo configure:3780: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_char_unsigned=yes
  else
--- 3806,3812 ----
    volatile char c = 255; exit(c < 0);
  }
  EOF
! if { (eval echo configure:3810: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_c_char_unsigned=yes
  else
***************
*** 3801,3812 ****
  
  
  echo $ac_n "checking for working const""... $ac_c" 1>&6
! echo "configure:3805: checking for working const" >&5
  if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3810 "configure"
  #include "confdefs.h"
  
  int main() {
--- 3831,3842 ----
  
  
  echo $ac_n "checking for working const""... $ac_c" 1>&6
! echo "configure:3835: checking for working const" >&5
  if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 3840 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 3855,3861 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:3859: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_const=yes
  else
--- 3885,3891 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:3889: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    ac_cv_c_const=yes
  else
***************
*** 3878,3886 ****
  
  works=no
  echo $ac_n "checking for working volatile""... $ac_c" 1>&6
! echo "configure:3882: checking for working volatile" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3884 "configure"
  #include "confdefs.h"
  
  int main() {
--- 3908,3916 ----
  
  works=no
  echo $ac_n "checking for working volatile""... $ac_c" 1>&6
! echo "configure:3912: checking for working volatile" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3914 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 3887,3893 ****
  volatile int x; x = 0;
  ; return 0; }
  EOF
! if { (eval echo configure:3891: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    works=yes
  else
--- 3917,3923 ----
  volatile int x; x = 0;
  ; return 0; }
  EOF
! if { (eval echo configure:3921: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    works=yes
  else
***************
*** 3904,3912 ****
  
  works=no
  echo $ac_n "checking for working signed char""... $ac_c" 1>&6
! echo "configure:3908: checking for working signed char" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3910 "configure"
  #include "confdefs.h"
  
  int main() {
--- 3934,3942 ----
  
  works=no
  echo $ac_n "checking for working signed char""... $ac_c" 1>&6
! echo "configure:3938: checking for working signed char" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3940 "configure"
  #include "confdefs.h"
  
  int main() {
***************
*** 3913,3919 ****
  signed char c;
  ; return 0; }
  EOF
! if { (eval echo configure:3917: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    works=yes
  else
--- 3943,3949 ----
  signed char c;
  ; return 0; }
  EOF
! if { (eval echo configure:3947: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    works=yes
  else
***************
*** 3930,3938 ****
  
  have_prototypes=no
  echo $ac_n "checking for prototypes""... $ac_c" 1>&6
! echo "configure:3934: checking for prototypes" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3936 "configure"
  #include "confdefs.h"
  int foo(int x) { return 0; }
  int main() {
--- 3960,3968 ----
  
  have_prototypes=no
  echo $ac_n "checking for prototypes""... $ac_c" 1>&6
! echo "configure:3964: checking for prototypes" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3966 "configure"
  #include "confdefs.h"
  int foo(int x) { return 0; }
  int main() {
***************
*** 3939,3945 ****
  return foo(10);
  ; return 0; }
  EOF
! if { (eval echo configure:3943: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define HAVE_PROTOTYPES 1
--- 3969,3975 ----
  return foo(10);
  ; return 0; }
  EOF
! if { (eval echo configure:3973: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define HAVE_PROTOTYPES 1
***************
*** 3954,3962 ****
  
  works=no
  echo $ac_n "checking for variable length prototypes and stdarg.h""... $ac_c" 1>&6
! echo "configure:3958: checking for variable length prototypes and stdarg.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3960 "configure"
  #include "confdefs.h"
  
  #include <stdarg.h>
--- 3984,3992 ----
  
  works=no
  echo $ac_n "checking for variable length prototypes and stdarg.h""... $ac_c" 1>&6
! echo "configure:3988: checking for variable length prototypes and stdarg.h" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3990 "configure"
  #include "confdefs.h"
  
  #include <stdarg.h>
***************
*** 3973,3979 ****
  return foo(10, "", 3.14);
  ; return 0; }
  EOF
! if { (eval echo configure:3977: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define HAVE_STDARG_PROTOTYPES 1
--- 4003,4009 ----
  return foo(10, "", 3.14);
  ; return 0; }
  EOF
! if { (eval echo configure:4007: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    cat >> confdefs.h <<\EOF
  #define HAVE_STDARG_PROTOTYPES 1
***************
*** 3989,3997 ****
  if test "$have_prototypes" = yes; then
  bad_prototypes=no
  echo $ac_n "checking for bad exec* prototypes""... $ac_c" 1>&6
! echo "configure:3993: checking for bad exec* prototypes" >&5
  cat > conftest.$ac_ext <<EOF
! #line 3995 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
--- 4019,4027 ----
  if test "$have_prototypes" = yes; then
  bad_prototypes=no
  echo $ac_n "checking for bad exec* prototypes""... $ac_c" 1>&6
! echo "configure:4023: checking for bad exec* prototypes" >&5
  cat > conftest.$ac_ext <<EOF
! #line 4025 "configure"
  #include "confdefs.h"
  #include <unistd.h>
  int main() {
***************
*** 3998,4004 ****
  char **t;execve("@",t,t);
  ; return 0; }
  EOF
! if { (eval echo configure:4002: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
--- 4028,4034 ----
  char **t;execve("@",t,t);
  ; return 0; }
  EOF
! if { (eval echo configure:4032: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
***************
*** 4015,4026 ****
  
  bad_forward=no
  echo $ac_n "checking for bad static forward""... $ac_c" 1>&6
! echo "configure:4019: checking for bad static forward" >&5
  if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4024 "configure"
  #include "confdefs.h"
  
  struct s { int a; int b; };
--- 4045,4056 ----
  
  bad_forward=no
  echo $ac_n "checking for bad static forward""... $ac_c" 1>&6
! echo "configure:4049: checking for bad static forward" >&5
  if test "$cross_compiling" = yes; then
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4054 "configure"
  #include "confdefs.h"
  
  struct s { int a; int b; };
***************
*** 4036,4042 ****
  }
  
  EOF
! if { (eval echo configure:4040: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    :
  else
--- 4066,4072 ----
  }
  
  EOF
! if { (eval echo configure:4070: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    :
  else
***************
*** 4055,4063 ****
  
  va_list_is_array=no
  echo $ac_n "checking whether va_list is an array""... $ac_c" 1>&6
! echo "configure:4059: checking whether va_list is an array" >&5
  cat > conftest.$ac_ext <<EOF
! #line 4061 "configure"
  #include "confdefs.h"
  
  #ifdef HAVE_STDARG_PROTOTYPES
--- 4085,4093 ----
  
  va_list_is_array=no
  echo $ac_n "checking whether va_list is an array""... $ac_c" 1>&6
! echo "configure:4089: checking whether va_list is an array" >&5
  cat > conftest.$ac_ext <<EOF
! #line 4091 "configure"
  #include "confdefs.h"
  
  #ifdef HAVE_STDARG_PROTOTYPES
***************
*** 4070,4076 ****
  va_list list1, list2; list1 = list2;
  ; return 0; }
  EOF
! if { (eval echo configure:4074: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
--- 4100,4106 ----
  va_list list1, list2; list1 = list2;
  ; return 0; }
  EOF
! if { (eval echo configure:4104: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    :
  else
    echo "configure: failed program was:" >&5
***************
*** 4086,4097 ****
  
  # sigh -- gethostbyname_r is a mess; it can have 3, 5 or 6 arguments :-(
  echo $ac_n "checking for gethostbyname_r""... $ac_c" 1>&6
! echo "configure:4090: checking for gethostbyname_r" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gethostbyname_r'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4095 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname_r(); below.  */
--- 4116,4127 ----
  
  # sigh -- gethostbyname_r is a mess; it can have 3, 5 or 6 arguments :-(
  echo $ac_n "checking for gethostbyname_r""... $ac_c" 1>&6
! echo "configure:4120: checking for gethostbyname_r" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gethostbyname_r'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4125 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname_r(); below.  */
***************
*** 4114,4120 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4118: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gethostbyname_r=yes"
  else
--- 4144,4150 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4148: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gethostbyname_r=yes"
  else
***************
*** 4134,4144 ****
  EOF
  
    echo $ac_n "checking gethostbyname_r with 6 args""... $ac_c" 1>&6
! echo "configure:4138: checking gethostbyname_r with 6 args" >&5
    OLD_CFLAGS=$CFLAGS
    CFLAGS="$CFLAGS $MY_CPPFLAGS $MY_THREAD_CPPFLAGS $MY_CFLAGS"
    cat > conftest.$ac_ext <<EOF
! #line 4142 "configure"
  #include "confdefs.h"
  
  #   include <netdb.h>
--- 4164,4174 ----
  EOF
  
    echo $ac_n "checking gethostbyname_r with 6 args""... $ac_c" 1>&6
! echo "configure:4168: checking gethostbyname_r with 6 args" >&5
    OLD_CFLAGS=$CFLAGS
    CFLAGS="$CFLAGS $MY_CPPFLAGS $MY_THREAD_CPPFLAGS $MY_CFLAGS"
    cat > conftest.$ac_ext <<EOF
! #line 4172 "configure"
  #include "confdefs.h"
  
  #   include <netdb.h>
***************
*** 4155,4161 ****
    
  ; return 0; }
  EOF
! if { (eval echo configure:4159: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
      cat >> confdefs.h <<\EOF
--- 4185,4191 ----
    
  ; return 0; }
  EOF
! if { (eval echo configure:4189: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
      cat >> confdefs.h <<\EOF
***************
*** 4175,4183 ****
    
      echo "$ac_t""no" 1>&6
      echo $ac_n "checking gethostbyname_r with 5 args""... $ac_c" 1>&6
! echo "configure:4179: checking gethostbyname_r with 5 args" >&5
      cat > conftest.$ac_ext <<EOF
! #line 4181 "configure"
  #include "confdefs.h"
  
  #     include <netdb.h>
--- 4205,4213 ----
    
      echo "$ac_t""no" 1>&6
      echo $ac_n "checking gethostbyname_r with 5 args""... $ac_c" 1>&6
! echo "configure:4209: checking gethostbyname_r with 5 args" >&5
      cat > conftest.$ac_ext <<EOF
! #line 4211 "configure"
  #include "confdefs.h"
  
  #     include <netdb.h>
***************
*** 4194,4200 ****
      
  ; return 0; }
  EOF
! if { (eval echo configure:4198: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
        cat >> confdefs.h <<\EOF
--- 4224,4230 ----
      
  ; return 0; }
  EOF
! if { (eval echo configure:4228: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
        cat >> confdefs.h <<\EOF
***************
*** 4214,4222 ****
    
        echo "$ac_t""no" 1>&6
        echo $ac_n "checking gethostbyname_r with 3 args""... $ac_c" 1>&6
! echo "configure:4218: checking gethostbyname_r with 3 args" >&5
        cat > conftest.$ac_ext <<EOF
! #line 4220 "configure"
  #include "confdefs.h"
  
  #       include <netdb.h>
--- 4244,4252 ----
    
        echo "$ac_t""no" 1>&6
        echo $ac_n "checking gethostbyname_r with 3 args""... $ac_c" 1>&6
! echo "configure:4248: checking gethostbyname_r with 3 args" >&5
        cat > conftest.$ac_ext <<EOF
! #line 4250 "configure"
  #include "confdefs.h"
  
  #       include <netdb.h>
***************
*** 4231,4237 ****
        
  ; return 0; }
  EOF
! if { (eval echo configure:4235: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
          cat >> confdefs.h <<\EOF
--- 4261,4267 ----
        
  ; return 0; }
  EOF
! if { (eval echo configure:4265: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
    rm -rf conftest*
    
          cat >> confdefs.h <<\EOF
***************
*** 4265,4276 ****
    echo "$ac_t""no" 1>&6
  
    echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
! echo "configure:4269: checking for gethostbyname" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4274 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname(); below.  */
--- 4295,4306 ----
    echo "$ac_t""no" 1>&6
  
    echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
! echo "configure:4299: checking for gethostbyname" >&5
  if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4304 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname(); below.  */
***************
*** 4293,4299 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4297: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gethostbyname=yes"
  else
--- 4323,4329 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4327: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_gethostbyname=yes"
  else
***************
*** 4329,4335 ****
  
  # Linux requires this for correct f.p. operations
  echo $ac_n "checking for __fpu_control in -lieee""... $ac_c" 1>&6
! echo "configure:4333: checking for __fpu_control in -lieee" >&5
  ac_lib_var=`echo ieee'_'__fpu_control | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
--- 4359,4365 ----
  
  # Linux requires this for correct f.p. operations
  echo $ac_n "checking for __fpu_control in -lieee""... $ac_c" 1>&6
! echo "configure:4363: checking for __fpu_control in -lieee" >&5
  ac_lib_var=`echo ieee'_'__fpu_control | sed 'y%./+-%__p_%'`
  if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
***************
*** 4337,4343 ****
    ac_save_LIBS="$LIBS"
  LIBS="-lieee  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4341 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
--- 4367,4373 ----
    ac_save_LIBS="$LIBS"
  LIBS="-lieee  $LIBS"
  cat > conftest.$ac_ext <<EOF
! #line 4371 "configure"
  #include "confdefs.h"
  /* Override any gcc2 internal prototype to avoid an error.  */
  /* We use char because int might match the return type of a gcc2
***************
*** 4348,4354 ****
  __fpu_control()
  ; return 0; }
  EOF
! if { (eval echo configure:4352: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
--- 4378,4384 ----
  __fpu_control()
  ; return 0; }
  EOF
! if { (eval echo configure:4382: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_lib_$ac_lib_var=yes"
  else
***************
*** 4378,4384 ****
  
  # Check for --with-fpectl
  echo $ac_n "checking for --with-fpectl""... $ac_c" 1>&6
! echo "configure:4382: checking for --with-fpectl" >&5
  # Check whether --with-fpectl or --without-fpectl was given.
  if test "${with_fpectl+set}" = set; then
    withval="$with_fpectl"
--- 4408,4414 ----
  
  # Check for --with-fpectl
  echo $ac_n "checking for --with-fpectl""... $ac_c" 1>&6
! echo "configure:4412: checking for --with-fpectl" >&5
  # Check whether --with-fpectl or --without-fpectl was given.
  if test "${with_fpectl+set}" = set; then
    withval="$with_fpectl"
***************
*** 4401,4407 ****
  *) LIBM=-lm
  esac
  echo $ac_n "checking for --with-libm=STRING""... $ac_c" 1>&6
! echo "configure:4405: checking for --with-libm=STRING" >&5
  # Check whether --with-libm or --without-libm was given.
  if test "${with_libm+set}" = set; then
    withval="$with_libm"
--- 4431,4437 ----
  *) LIBM=-lm
  esac
  echo $ac_n "checking for --with-libm=STRING""... $ac_c" 1>&6
! echo "configure:4435: checking for --with-libm=STRING" >&5
  # Check whether --with-libm or --without-libm was given.
  if test "${with_libm+set}" = set; then
    withval="$with_libm"
***************
*** 4422,4428 ****
  # check for --with-libc=...
  
  echo $ac_n "checking for --with-libc=STRING""... $ac_c" 1>&6
! echo "configure:4426: checking for --with-libc=STRING" >&5
  # Check whether --with-libc or --without-libc was given.
  if test "${with_libc+set}" = set; then
    withval="$with_libc"
--- 4452,4458 ----
  # check for --with-libc=...
  
  echo $ac_n "checking for --with-libc=STRING""... $ac_c" 1>&6
! echo "configure:4456: checking for --with-libc=STRING" >&5
  # Check whether --with-libc or --without-libc was given.
  if test "${with_libc+set}" = set; then
    withval="$with_libc"
***************
*** 4446,4457 ****
  for ac_func in hypot
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4450: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4455 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 4476,4487 ----
  for ac_func in hypot
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4480: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4485 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 4474,4480 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4478: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 4504,4510 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4508: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 4501,4512 ****
  for ac_func in hypot
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4505: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4510 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
--- 4531,4542 ----
  for ac_func in hypot
  do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
! echo "configure:4535: checking for $ac_func" >&5
  if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
    cat > conftest.$ac_ext <<EOF
! #line 4540 "configure"
  #include "confdefs.h"
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func(); below.  */
***************
*** 4529,4535 ****
  
  ; return 0; }
  EOF
! if { (eval echo configure:4533: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
--- 4559,4565 ----
  
  ; return 0; }
  EOF
! if { (eval echo configure:4563: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
    rm -rf conftest*
    eval "ac_cv_func_$ac_func=yes"
  else
***************
*** 4559,4565 ****
  
  # check for getopt
  echo $ac_n "checking for genuine getopt""... $ac_c" 1>&6
! echo "configure:4563: checking for genuine getopt" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getopt'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4589,4595 ----
  
  # check for getopt
  echo $ac_n "checking for genuine getopt""... $ac_c" 1>&6
! echo "configure:4593: checking for genuine getopt" >&5
  if eval "test \"`echo '$''{'ac_cv_func_getopt'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4567,4573 ****
    ac_cv_func_getopt=no
  else
    cat > conftest.$ac_ext <<EOF
! #line 4571 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  extern int optind, opterr, getopt();
--- 4597,4603 ----
    ac_cv_func_getopt=no
  else
    cat > conftest.$ac_ext <<EOF
! #line 4601 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  extern int optind, opterr, getopt();
***************
*** 4579,4585 ****
  	exit(0);
  }
  EOF
! if { (eval echo configure:4583: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getopt=yes
  else
--- 4609,4615 ----
  	exit(0);
  }
  EOF
! if { (eval echo configure:4613: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_func_getopt=yes
  else
***************
*** 4597,4603 ****
  
  # check whether malloc(0) returns NULL or not
  echo $ac_n "checking what malloc(0) returns""... $ac_c" 1>&6
! echo "configure:4601: checking what malloc(0) returns" >&5
  if eval "test \"`echo '$''{'ac_cv_malloc_zero'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
--- 4627,4633 ----
  
  # check whether malloc(0) returns NULL or not
  echo $ac_n "checking what malloc(0) returns""... $ac_c" 1>&6
! echo "configure:4631: checking what malloc(0) returns" >&5
  if eval "test \"`echo '$''{'ac_cv_malloc_zero'+set}'`\" = set"; then
    echo $ac_n "(cached) $ac_c" 1>&6
  else
***************
*** 4605,4611 ****
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4609 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  #ifdef HAVE_STDLIB
--- 4635,4641 ----
      { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
  else
    cat > conftest.$ac_ext <<EOF
! #line 4639 "configure"
  #include "confdefs.h"
  #include <stdio.h>
  #ifdef HAVE_STDLIB
***************
*** 4624,4630 ****
  	exit(0);
  }
  EOF
! if { (eval echo configure:4628: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_malloc_zero=nonnull
  else
--- 4654,4660 ----
  	exit(0);
  }
  EOF
! if { (eval echo configure:4658: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
  then
    ac_cv_malloc_zero=nonnull
  else
diff -rc Python-1.5.2/configure.in Python-1.5.2+aix_load_patch/configure.in
*** Python-1.5.2/configure.in	Sat Apr 10 12:01:48 1999
--- Python-1.5.2+aix_load_patch/configure.in	Wed Dec  1 10:45:57 1999
***************
*** 540,545 ****
--- 540,557 ----
  # checks for libraries
  AC_CHECK_LIB(dl, dlopen)	# Dynamic linking for SunOS/Solaris and SYSV
  AC_CHECK_LIB(dld, shl_load)	# Dynamic linking for HP-UX
+ 
+ # checks for system dependent C++ extensions support
+ case "$ac_sys_system" in
+ 	AIX*)	AC_MSG_CHECKING(for genuine AIX C++ extensions support)
+ 		AC_TRY_LINK([#include "/usr/lpp/xlC/include/load.h"],
+ 			    [loadAndInit("", 0, "")],
+ 			    [AC_DEFINE(AIX_GENUINE_CPLUSPLUS)
+ 			     AC_MSG_RESULT(yes)],
+ 			    [AC_MSG_RESULT(no)]);;
+ 	*) ;;
+ esac
+ 
  # Most SVR4 platforms (e.g. Solaris) need -lsocket and -lnsl.
  # However on SGI IRIX, these exist but are broken.
  # BeOS' sockets are stashed in libnet.
Only in Python-1.5.2+aix_load_patch: configure.in.orig
diff -rc Python-1.5.2/Python/importdl.c Python-1.5.2+aix_load_patch/Python/importdl.c
*** Python-1.5.2/Python/importdl.c	Wed Jan 27 12:53:10 1999
--- Python-1.5.2+aix_load_patch/Python/importdl.c	Wed Dec  1 10:46:09 1999
***************
*** 181,186 ****
--- 181,192 ----
  #include <sys/ldr.h>
  typedef void (*dl_funcptr)();
  #define _DL_FUNCPTR_DEFINED
+ #ifdef AIX_GENUINE_CPLUSPLUS
+ #include "/usr/lpp/xlC/include/load.h"
+ #define aix_load loadAndInit
+ #else
+ #define aix_load load
+ #endif
  static int  aix_getoldmodules(void **);
  static int  aix_bindnewmodule(void *, void *);
  static void aix_loaderror(char *);
***************
*** 473,479 ****
  		if (!staticmodlistptr)
  			if (aix_getoldmodules(&staticmodlistptr) == -1)
  				return NULL;
! 		p = (dl_funcptr) load(pathname, L_NOAUTODEFER, 0);
  		if (p == NULL) {
  			aix_loaderror(pathname);
  			return NULL;
--- 479,485 ----
  		if (!staticmodlistptr)
  			if (aix_getoldmodules(&staticmodlistptr) == -1)
  				return NULL;
! 		p = (dl_funcptr) aix_load(pathname, L_NOAUTODEFER, 0);
  		if (p == NULL) {
  			aix_loaderror(pathname);
  			return NULL;
